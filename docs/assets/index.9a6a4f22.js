(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerpolicy&&(a.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?a.credentials="include":r.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();var ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function UT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function BT(t){var e=t.default;if(typeof e=="function"){var n=function(){return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var H={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lu=Symbol.for("react.element"),vk=Symbol.for("react.portal"),gk=Symbol.for("react.fragment"),yk=Symbol.for("react.strict_mode"),_k=Symbol.for("react.profiler"),Tk=Symbol.for("react.provider"),xk=Symbol.for("react.context"),Sk=Symbol.for("react.forward_ref"),bk=Symbol.for("react.suspense"),Ek=Symbol.for("react.memo"),Ck=Symbol.for("react.lazy"),g0=Symbol.iterator;function wk(t){return t===null||typeof t!="object"?null:(t=g0&&t[g0]||t["@@iterator"],typeof t=="function"?t:null)}var VT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jT=Object.assign,zT={};function Cs(t,e,n){this.props=t,this.context=e,this.refs=zT,this.updater=n||VT}Cs.prototype.isReactComponent={};Cs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Cs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function HT(){}HT.prototype=Cs.prototype;function vm(t,e,n){this.props=t,this.context=e,this.refs=zT,this.updater=n||VT}var gm=vm.prototype=new HT;gm.constructor=vm;jT(gm,Cs.prototype);gm.isPureReactComponent=!0;var y0=Array.isArray,$T=Object.prototype.hasOwnProperty,ym={current:null},WT={key:!0,ref:!0,__self:!0,__source:!0};function qT(t,e,n){var i,r={},a=null,s=null;if(e!=null)for(i in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)$T.call(e,i)&&!WT.hasOwnProperty(i)&&(r[i]=e[i]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var u=Array(o),l=0;l<o;l++)u[l]=arguments[l+2];r.children=u}if(t&&t.defaultProps)for(i in o=t.defaultProps,o)r[i]===void 0&&(r[i]=o[i]);return{$$typeof:lu,type:t,key:a,ref:s,props:r,_owner:ym.current}}function kk(t,e){return{$$typeof:lu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function _m(t){return typeof t=="object"&&t!==null&&t.$$typeof===lu}function Pk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var _0=/\/+/g;function gf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Pk(""+t.key):e.toString(36)}function Ml(t,e,n,i,r){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case lu:case vk:s=!0}}if(s)return s=t,r=r(s),t=i===""?"."+gf(s,0):i,y0(r)?(n="",t!=null&&(n=t.replace(_0,"$&/")+"/"),Ml(r,e,n,"",function(l){return l})):r!=null&&(_m(r)&&(r=kk(r,n+(!r.key||s&&s.key===r.key?"":(""+r.key).replace(_0,"$&/")+"/")+t)),e.push(r)),1;if(s=0,i=i===""?".":i+":",y0(t))for(var o=0;o<t.length;o++){a=t[o];var u=i+gf(a,o);s+=Ml(a,e,n,u,r)}else if(u=wk(t),typeof u=="function")for(t=u.call(t),o=0;!(a=t.next()).done;)a=a.value,u=i+gf(a,o++),s+=Ml(a,e,n,u,r);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function tl(t,e,n){if(t==null)return t;var i=[],r=0;return Ml(t,i,"","",function(a){return e.call(n,a,r++)}),i}function Ak(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var er={current:null},Ul={transition:null},Ik={ReactCurrentDispatcher:er,ReactCurrentBatchConfig:Ul,ReactCurrentOwner:ym};we.Children={map:tl,forEach:function(t,e,n){tl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return tl(t,function(){e++}),e},toArray:function(t){return tl(t,function(e){return e})||[]},only:function(t){if(!_m(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};we.Component=Cs;we.Fragment=gk;we.Profiler=_k;we.PureComponent=vm;we.StrictMode=yk;we.Suspense=bk;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ik;we.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=jT({},t.props),r=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=ym.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(u in e)$T.call(e,u)&&!WT.hasOwnProperty(u)&&(i[u]=e[u]===void 0&&o!==void 0?o[u]:e[u])}var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){o=Array(u);for(var l=0;l<u;l++)o[l]=arguments[l+2];i.children=o}return{$$typeof:lu,type:t.type,key:r,ref:a,props:i,_owner:s}};we.createContext=function(t){return t={$$typeof:xk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Tk,_context:t},t.Consumer=t};we.createElement=qT;we.createFactory=function(t){var e=qT.bind(null,t);return e.type=t,e};we.createRef=function(){return{current:null}};we.forwardRef=function(t){return{$$typeof:Sk,render:t}};we.isValidElement=_m;we.lazy=function(t){return{$$typeof:Ck,_payload:{_status:-1,_result:t},_init:Ak}};we.memo=function(t,e){return{$$typeof:Ek,type:t,compare:e===void 0?null:e}};we.startTransition=function(t){var e=Ul.transition;Ul.transition={};try{t()}finally{Ul.transition=e}};we.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};we.useCallback=function(t,e){return er.current.useCallback(t,e)};we.useContext=function(t){return er.current.useContext(t)};we.useDebugValue=function(){};we.useDeferredValue=function(t){return er.current.useDeferredValue(t)};we.useEffect=function(t,e){return er.current.useEffect(t,e)};we.useId=function(){return er.current.useId()};we.useImperativeHandle=function(t,e,n){return er.current.useImperativeHandle(t,e,n)};we.useInsertionEffect=function(t,e){return er.current.useInsertionEffect(t,e)};we.useLayoutEffect=function(t,e){return er.current.useLayoutEffect(t,e)};we.useMemo=function(t,e){return er.current.useMemo(t,e)};we.useReducer=function(t,e,n){return er.current.useReducer(t,e,n)};we.useRef=function(t){return er.current.useRef(t)};we.useState=function(t){return er.current.useState(t)};we.useSyncExternalStore=function(t,e,n){return er.current.useSyncExternalStore(t,e,n)};we.useTransition=function(){return er.current.useTransition()};we.version="18.2.0";(function(t){t.exports=we})(H);const qi=UT(H.exports);var Ph={},Tm={exports:{}},Er={},GT={exports:{}},KT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,X){var K=W.length;W.push(X);e:for(;0<K;){var le=K-1>>>1,re=W[le];if(0<r(re,X))W[le]=X,W[K]=re,K=le;else break e}}function n(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var X=W[0],K=W.pop();if(K!==X){W[0]=K;e:for(var le=0,re=W.length,ve=re>>>1;le<ve;){var fe=2*(le+1)-1,pe=W[fe],xe=fe+1,Ue=W[xe];if(0>r(pe,K))xe<re&&0>r(Ue,pe)?(W[le]=Ue,W[xe]=K,le=xe):(W[le]=pe,W[fe]=K,le=fe);else if(xe<re&&0>r(Ue,K))W[le]=Ue,W[xe]=K,le=xe;else break e}}return X}function r(W,X){var K=W.sortIndex-X.sortIndex;return K!==0?K:W.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var u=[],l=[],c=1,f=null,d=3,g=!1,_=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(W){for(var X=n(l);X!==null;){if(X.callback===null)i(l);else if(X.startTime<=W)i(l),X.sortIndex=X.expirationTime,e(u,X);else break;X=n(l)}}function k(W){if(y=!1,w(W),!_)if(n(u)!==null)_=!0,Z(I);else{var X=n(l);X!==null&&se(k,X.startTime-W)}}function I(W,X){_=!1,y&&(y=!1,T(L),L=-1),g=!0;var K=d;try{for(w(X),f=n(u);f!==null&&(!(f.expirationTime>X)||W&&!M());){var le=f.callback;if(typeof le=="function"){f.callback=null,d=f.priorityLevel;var re=le(f.expirationTime<=X);X=t.unstable_now(),typeof re=="function"?f.callback=re:f===n(u)&&i(u),w(X)}else i(u);f=n(u)}if(f!==null)var ve=!0;else{var fe=n(l);fe!==null&&se(k,fe.startTime-X),ve=!1}return ve}finally{f=null,d=K,g=!1}}var D=!1,F=null,L=-1,V=5,A=-1;function M(){return!(t.unstable_now()-A<V)}function B(){if(F!==null){var W=t.unstable_now();A=W;var X=!0;try{X=F(!0,W)}finally{X?$():(D=!1,F=null)}}else D=!1}var $;if(typeof E=="function")$=function(){E(B)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,Q=G.port2;G.port1.onmessage=B,$=function(){Q.postMessage(null)}}else $=function(){x(B,0)};function Z(W){F=W,D||(D=!0,$())}function se(W,X){L=x(function(){W(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,Z(I))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(W){switch(d){case 1:case 2:case 3:var X=3;break;default:X=d}var K=d;d=X;try{return W()}finally{d=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,X){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var K=d;d=W;try{return X()}finally{d=K}},t.unstable_scheduleCallback=function(W,X,K){var le=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?le+K:le):K=le,W){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=K+re,W={id:c++,callback:X,priorityLevel:W,startTime:K,expirationTime:re,sortIndex:-1},K>le?(W.sortIndex=K,e(l,W),n(u)===null&&W===n(l)&&(y?(T(L),L=-1):y=!0,se(k,K-le))):(W.sortIndex=re,e(u,W),_||g||(_=!0,Z(I))),W},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(W){var X=d;return function(){var K=d;d=X;try{return W.apply(this,arguments)}finally{d=K}}}})(KT);(function(t){t.exports=KT})(GT);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XT=H.exports,Sr=GT.exports;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var QT=new Set,Ro={};function oa(t,e){ns(t,e),ns(t+"Capture",e)}function ns(t,e){for(Ro[t]=e,t=0;t<e.length;t++)QT.add(e[t])}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ah=Object.prototype.hasOwnProperty,Ok=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T0={},x0={};function Dk(t){return Ah.call(x0,t)?!0:Ah.call(T0,t)?!1:Ok.test(t)?x0[t]=!0:(T0[t]=!0,!1)}function Lk(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Fk(t,e,n,i){if(e===null||typeof e>"u"||Lk(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tr(t,e,n,i,r,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var Dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dt[t]=new tr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dt[e]=new tr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dt[t]=new tr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dt[t]=new tr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dt[t]=new tr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dt[t]=new tr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dt[t]=new tr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dt[t]=new tr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dt[t]=new tr(t,5,!1,t.toLowerCase(),null,!1,!1)});var xm=/[\-:]([a-z])/g;function Sm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xm,Sm);Dt[e]=new tr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xm,Sm);Dt[e]=new tr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xm,Sm);Dt[e]=new tr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dt[t]=new tr(t,1,!1,t.toLowerCase(),null,!1,!1)});Dt.xlinkHref=new tr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dt[t]=new tr(t,1,!1,t.toLowerCase(),null,!0,!0)});function bm(t,e,n,i){var r=Dt.hasOwnProperty(e)?Dt[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Fk(e,n,r,i)&&(n=null),i||r===null?Dk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var zn=XT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rl=Symbol.for("react.element"),Pa=Symbol.for("react.portal"),Aa=Symbol.for("react.fragment"),Em=Symbol.for("react.strict_mode"),Ih=Symbol.for("react.profiler"),YT=Symbol.for("react.provider"),JT=Symbol.for("react.context"),Cm=Symbol.for("react.forward_ref"),Oh=Symbol.for("react.suspense"),Dh=Symbol.for("react.suspense_list"),wm=Symbol.for("react.memo"),Zn=Symbol.for("react.lazy"),ZT=Symbol.for("react.offscreen"),S0=Symbol.iterator;function $s(t){return t===null||typeof t!="object"?null:(t=S0&&t[S0]||t["@@iterator"],typeof t=="function"?t:null)}var rt=Object.assign,yf;function so(t){if(yf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);yf=e&&e[1]||""}return`
`+yf+t}var _f=!1;function Tf(t,e){if(!t||_f)return"";_f=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var i=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){i=l}t.call(e.prototype)}else{try{throw Error()}catch(l){i=l}t()}}catch(l){if(l&&i&&typeof l.stack=="string"){for(var r=l.stack.split(`
`),a=i.stack.split(`
`),s=r.length-1,o=a.length-1;1<=s&&0<=o&&r[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(r[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||r[s]!==a[o]){var u=`
`+r[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=o);break}}}finally{_f=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?so(t):""}function Rk(t){switch(t.tag){case 5:return so(t.type);case 16:return so("Lazy");case 13:return so("Suspense");case 19:return so("SuspenseList");case 0:case 2:case 15:return t=Tf(t.type,!1),t;case 11:return t=Tf(t.type.render,!1),t;case 1:return t=Tf(t.type,!0),t;default:return""}}function Lh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Aa:return"Fragment";case Pa:return"Portal";case Ih:return"Profiler";case Em:return"StrictMode";case Oh:return"Suspense";case Dh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case JT:return(t.displayName||"Context")+".Consumer";case YT:return(t._context.displayName||"Context")+".Provider";case Cm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wm:return e=t.displayName||null,e!==null?e:Lh(t.type)||"Memo";case Zn:e=t._payload,t=t._init;try{return Lh(t(e))}catch{}}return null}function Nk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lh(e);case 8:return e===Em?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function gi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ex(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Mk(t){var e=ex(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(s){i=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function nl(t){t._valueTracker||(t._valueTracker=Mk(t))}function tx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=ex(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function ac(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Fh(t,e){var n=e.checked;return rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function b0(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=gi(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function rx(t,e){e=e.checked,e!=null&&bm(t,"checked",e,!1)}function Rh(t,e){rx(t,e);var n=gi(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Nh(t,e.type,n):e.hasOwnProperty("defaultValue")&&Nh(t,e.type,gi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function E0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Nh(t,e,n){(e!=="number"||ac(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var oo=Array.isArray;function qa(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+gi(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Mh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return rt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function C0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(oo(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:gi(n)}}function nx(t,e){var n=gi(e.value),i=gi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function w0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ix(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Uh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ix(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var il,ax=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(il=il||document.createElement("div"),il.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=il.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function No(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var yo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Uk=["Webkit","ms","Moz","O"];Object.keys(yo).forEach(function(t){Uk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),yo[e]=yo[t]})});function sx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||yo.hasOwnProperty(t)&&yo[t]?(""+e).trim():e+"px"}function ox(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=sx(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var Bk=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bh(t,e){if(e){if(Bk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function Vh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jh=null;function km(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zh=null,Ga=null,Ka=null;function k0(t){if(t=fu(t)){if(typeof zh!="function")throw Error(J(280));var e=t.stateNode;e&&(e=od(e),zh(t.stateNode,t.type,e))}}function ux(t){Ga?Ka?Ka.push(t):Ka=[t]:Ga=t}function lx(){if(Ga){var t=Ga,e=Ka;if(Ka=Ga=null,k0(t),e)for(t=0;t<e.length;t++)k0(e[t])}}function cx(t,e){return t(e)}function dx(){}var xf=!1;function fx(t,e,n){if(xf)return t(e,n);xf=!0;try{return cx(t,e,n)}finally{xf=!1,(Ga!==null||Ka!==null)&&(dx(),lx())}}function Mo(t,e){var n=t.stateNode;if(n===null)return null;var i=od(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var Hh=!1;if(Ln)try{var Ws={};Object.defineProperty(Ws,"passive",{get:function(){Hh=!0}}),window.addEventListener("test",Ws,Ws),window.removeEventListener("test",Ws,Ws)}catch{Hh=!1}function Vk(t,e,n,i,r,a,s,o,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var _o=!1,sc=null,oc=!1,$h=null,jk={onError:function(t){_o=!0,sc=t}};function zk(t,e,n,i,r,a,s,o,u){_o=!1,sc=null,Vk.apply(jk,arguments)}function Hk(t,e,n,i,r,a,s,o,u){if(zk.apply(this,arguments),_o){if(_o){var l=sc;_o=!1,sc=null}else throw Error(J(198));oc||(oc=!0,$h=l)}}function ua(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function hx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function P0(t){if(ua(t)!==t)throw Error(J(188))}function $k(t){var e=t.alternate;if(!e){if(e=ua(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return P0(r),t;if(a===i)return P0(r),e;a=a.sibling}throw Error(J(188))}if(n.return!==i.return)n=r,i=a;else{for(var s=!1,o=r.child;o;){if(o===n){s=!0,n=r,i=a;break}if(o===i){s=!0,i=r,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,i=r;break}if(o===i){s=!0,i=a,n=r;break}o=o.sibling}if(!s)throw Error(J(189))}}if(n.alternate!==i)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function px(t){return t=$k(t),t!==null?mx(t):null}function mx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=mx(t);if(e!==null)return e;t=t.sibling}return null}var vx=Sr.unstable_scheduleCallback,A0=Sr.unstable_cancelCallback,Wk=Sr.unstable_shouldYield,qk=Sr.unstable_requestPaint,lt=Sr.unstable_now,Gk=Sr.unstable_getCurrentPriorityLevel,Pm=Sr.unstable_ImmediatePriority,gx=Sr.unstable_UserBlockingPriority,uc=Sr.unstable_NormalPriority,Kk=Sr.unstable_LowPriority,yx=Sr.unstable_IdlePriority,nd=null,cn=null;function Xk(t){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(nd,t,void 0,(t.current.flags&128)===128)}catch{}}var Gr=Math.clz32?Math.clz32:Jk,Qk=Math.log,Yk=Math.LN2;function Jk(t){return t>>>=0,t===0?32:31-(Qk(t)/Yk|0)|0}var al=64,sl=4194304;function uo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function lc(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,a=t.pingedLanes,s=n&268435455;if(s!==0){var o=s&~r;o!==0?i=uo(o):(a&=s,a!==0&&(i=uo(a)))}else s=n&~r,s!==0?i=uo(s):a!==0&&(i=uo(a));if(i===0)return 0;if(e!==0&&e!==i&&(e&r)===0&&(r=i&-i,a=e&-e,r>=a||r===16&&(a&4194240)!==0))return e;if((i&4)!==0&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Gr(e),r=1<<n,i|=t[n],e&=~r;return i}function Zk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eP(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-Gr(a),o=1<<s,u=r[s];u===-1?((o&n)===0||(o&i)!==0)&&(r[s]=Zk(o,e)):u<=e&&(t.expiredLanes|=o),a&=~o}}function Wh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function _x(){var t=al;return al<<=1,(al&4194240)===0&&(al=64),t}function Sf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function cu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Gr(e),t[e]=n}function tP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Gr(n),a=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~a}}function Am(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Gr(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var Re=0;function Tx(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var xx,Im,Sx,bx,Ex,qh=!1,ol=[],li=null,ci=null,di=null,Uo=new Map,Bo=new Map,ri=[],rP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function I0(t,e){switch(t){case"focusin":case"focusout":li=null;break;case"dragenter":case"dragleave":ci=null;break;case"mouseover":case"mouseout":di=null;break;case"pointerover":case"pointerout":Uo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bo.delete(e.pointerId)}}function qs(t,e,n,i,r,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[r]},e!==null&&(e=fu(e),e!==null&&Im(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function nP(t,e,n,i,r){switch(e){case"focusin":return li=qs(li,t,e,n,i,r),!0;case"dragenter":return ci=qs(ci,t,e,n,i,r),!0;case"mouseover":return di=qs(di,t,e,n,i,r),!0;case"pointerover":var a=r.pointerId;return Uo.set(a,qs(Uo.get(a)||null,t,e,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,Bo.set(a,qs(Bo.get(a)||null,t,e,n,i,r)),!0}return!1}function Cx(t){var e=Vi(t.target);if(e!==null){var n=ua(e);if(n!==null){if(e=n.tag,e===13){if(e=hx(n),e!==null){t.blockedOn=e,Ex(t.priority,function(){Sx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Gh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);jh=i,n.target.dispatchEvent(i),jh=null}else return e=fu(n),e!==null&&Im(e),t.blockedOn=n,!1;e.shift()}return!0}function O0(t,e,n){Bl(t)&&n.delete(e)}function iP(){qh=!1,li!==null&&Bl(li)&&(li=null),ci!==null&&Bl(ci)&&(ci=null),di!==null&&Bl(di)&&(di=null),Uo.forEach(O0),Bo.forEach(O0)}function Gs(t,e){t.blockedOn===e&&(t.blockedOn=null,qh||(qh=!0,Sr.unstable_scheduleCallback(Sr.unstable_NormalPriority,iP)))}function Vo(t){function e(r){return Gs(r,t)}if(0<ol.length){Gs(ol[0],t);for(var n=1;n<ol.length;n++){var i=ol[n];i.blockedOn===t&&(i.blockedOn=null)}}for(li!==null&&Gs(li,t),ci!==null&&Gs(ci,t),di!==null&&Gs(di,t),Uo.forEach(e),Bo.forEach(e),n=0;n<ri.length;n++)i=ri[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<ri.length&&(n=ri[0],n.blockedOn===null);)Cx(n),n.blockedOn===null&&ri.shift()}var Xa=zn.ReactCurrentBatchConfig,cc=!0;function aP(t,e,n,i){var r=Re,a=Xa.transition;Xa.transition=null;try{Re=1,Om(t,e,n,i)}finally{Re=r,Xa.transition=a}}function sP(t,e,n,i){var r=Re,a=Xa.transition;Xa.transition=null;try{Re=4,Om(t,e,n,i)}finally{Re=r,Xa.transition=a}}function Om(t,e,n,i){if(cc){var r=Gh(t,e,n,i);if(r===null)Df(t,e,i,dc,n),I0(t,i);else if(nP(r,t,e,n,i))i.stopPropagation();else if(I0(t,i),e&4&&-1<rP.indexOf(t)){for(;r!==null;){var a=fu(r);if(a!==null&&xx(a),a=Gh(t,e,n,i),a===null&&Df(t,e,i,dc,n),a===r)break;r=a}r!==null&&i.stopPropagation()}else Df(t,e,i,null,n)}}var dc=null;function Gh(t,e,n,i){if(dc=null,t=km(i),t=Vi(t),t!==null)if(e=ua(t),e===null)t=null;else if(n=e.tag,n===13){if(t=hx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return dc=t,null}function wx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gk()){case Pm:return 1;case gx:return 4;case uc:case Kk:return 16;case yx:return 536870912;default:return 16}default:return 16}}var ii=null,Dm=null,Vl=null;function kx(){if(Vl)return Vl;var t,e=Dm,n=e.length,i,r="value"in ii?ii.value:ii.textContent,a=r.length;for(t=0;t<n&&e[t]===r[t];t++);var s=n-t;for(i=1;i<=s&&e[n-i]===r[a-i];i++);return Vl=r.slice(t,1<i?1-i:void 0)}function jl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ul(){return!0}function D0(){return!1}function Cr(t){function e(n,i,r,a,s){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ul:D0,this.isPropagationStopped=D0,this}return rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ul)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ul)},persist:function(){},isPersistent:ul}),e}var ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lm=Cr(ws),du=rt({},ws,{view:0,detail:0}),oP=Cr(du),bf,Ef,Ks,id=rt({},du,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ks&&(Ks&&t.type==="mousemove"?(bf=t.screenX-Ks.screenX,Ef=t.screenY-Ks.screenY):Ef=bf=0,Ks=t),bf)},movementY:function(t){return"movementY"in t?t.movementY:Ef}}),L0=Cr(id),uP=rt({},id,{dataTransfer:0}),lP=Cr(uP),cP=rt({},du,{relatedTarget:0}),Cf=Cr(cP),dP=rt({},ws,{animationName:0,elapsedTime:0,pseudoElement:0}),fP=Cr(dP),hP=rt({},ws,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pP=Cr(hP),mP=rt({},ws,{data:0}),F0=Cr(mP),vP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _P(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=yP[t])?!!e[t]:!1}function Fm(){return _P}var TP=rt({},du,{key:function(t){if(t.key){var e=vP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=jl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fm,charCode:function(t){return t.type==="keypress"?jl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xP=Cr(TP),SP=rt({},id,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R0=Cr(SP),bP=rt({},du,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fm}),EP=Cr(bP),CP=rt({},ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),wP=Cr(CP),kP=rt({},id,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),PP=Cr(kP),AP=[9,13,27,32],Rm=Ln&&"CompositionEvent"in window,To=null;Ln&&"documentMode"in document&&(To=document.documentMode);var IP=Ln&&"TextEvent"in window&&!To,Px=Ln&&(!Rm||To&&8<To&&11>=To),N0=String.fromCharCode(32),M0=!1;function Ax(t,e){switch(t){case"keyup":return AP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ix(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ia=!1;function OP(t,e){switch(t){case"compositionend":return Ix(e);case"keypress":return e.which!==32?null:(M0=!0,N0);case"textInput":return t=e.data,t===N0&&M0?null:t;default:return null}}function DP(t,e){if(Ia)return t==="compositionend"||!Rm&&Ax(t,e)?(t=kx(),Vl=Dm=ii=null,Ia=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Px&&e.locale!=="ko"?null:e.data;default:return null}}var LP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function U0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!LP[t.type]:e==="textarea"}function Ox(t,e,n,i){ux(i),e=fc(e,"onChange"),0<e.length&&(n=new Lm("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var xo=null,jo=null;function FP(t){zx(t,0)}function ad(t){var e=La(t);if(tx(e))return t}function RP(t,e){if(t==="change")return e}var Dx=!1;if(Ln){var wf;if(Ln){var kf="oninput"in document;if(!kf){var B0=document.createElement("div");B0.setAttribute("oninput","return;"),kf=typeof B0.oninput=="function"}wf=kf}else wf=!1;Dx=wf&&(!document.documentMode||9<document.documentMode)}function V0(){xo&&(xo.detachEvent("onpropertychange",Lx),jo=xo=null)}function Lx(t){if(t.propertyName==="value"&&ad(jo)){var e=[];Ox(e,jo,t,km(t)),fx(FP,e)}}function NP(t,e,n){t==="focusin"?(V0(),xo=e,jo=n,xo.attachEvent("onpropertychange",Lx)):t==="focusout"&&V0()}function MP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ad(jo)}function UP(t,e){if(t==="click")return ad(e)}function BP(t,e){if(t==="input"||t==="change")return ad(e)}function VP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yr=typeof Object.is=="function"?Object.is:VP;function zo(t,e){if(Yr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Ah.call(e,r)||!Yr(t[r],e[r]))return!1}return!0}function j0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function z0(t,e){var n=j0(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=j0(n)}}function Fx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Fx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Rx(){for(var t=window,e=ac();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ac(t.document)}return e}function Nm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function jP(t){var e=Rx(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Fx(n.ownerDocument.documentElement,n)){if(i!==null&&Nm(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,a=Math.min(i.start,r);i=i.end===void 0?a:Math.min(i.end,r),!t.extend&&a>i&&(r=i,i=a,a=r),r=z0(n,a);var s=z0(n,i);r&&s&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),a>i?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zP=Ln&&"documentMode"in document&&11>=document.documentMode,Oa=null,Kh=null,So=null,Xh=!1;function H0(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xh||Oa==null||Oa!==ac(i)||(i=Oa,"selectionStart"in i&&Nm(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),So&&zo(So,i)||(So=i,i=fc(Kh,"onSelect"),0<i.length&&(e=new Lm("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Oa)))}function ll(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Da={animationend:ll("Animation","AnimationEnd"),animationiteration:ll("Animation","AnimationIteration"),animationstart:ll("Animation","AnimationStart"),transitionend:ll("Transition","TransitionEnd")},Pf={},Nx={};Ln&&(Nx=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function sd(t){if(Pf[t])return Pf[t];if(!Da[t])return t;var e=Da[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Nx)return Pf[t]=e[n];return t}var Mx=sd("animationend"),Ux=sd("animationiteration"),Bx=sd("animationstart"),Vx=sd("transitionend"),jx=new Map,$0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Si(t,e){jx.set(t,e),oa(e,[t])}for(var Af=0;Af<$0.length;Af++){var If=$0[Af],HP=If.toLowerCase(),$P=If[0].toUpperCase()+If.slice(1);Si(HP,"on"+$P)}Si(Mx,"onAnimationEnd");Si(Ux,"onAnimationIteration");Si(Bx,"onAnimationStart");Si("dblclick","onDoubleClick");Si("focusin","onFocus");Si("focusout","onBlur");Si(Vx,"onTransitionEnd");ns("onMouseEnter",["mouseout","mouseover"]);ns("onMouseLeave",["mouseout","mouseover"]);ns("onPointerEnter",["pointerout","pointerover"]);ns("onPointerLeave",["pointerout","pointerover"]);oa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oa("onBeforeInput",["compositionend","keypress","textInput","paste"]);oa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WP=new Set("cancel close invalid load scroll toggle".split(" ").concat(lo));function W0(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,Hk(i,e,void 0,t),t.currentTarget=null}function zx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var a=void 0;if(e)for(var s=i.length-1;0<=s;s--){var o=i[s],u=o.instance,l=o.currentTarget;if(o=o.listener,u!==a&&r.isPropagationStopped())break e;W0(r,o,l),a=u}else for(s=0;s<i.length;s++){if(o=i[s],u=o.instance,l=o.currentTarget,o=o.listener,u!==a&&r.isPropagationStopped())break e;W0(r,o,l),a=u}}}if(oc)throw t=$h,oc=!1,$h=null,t}function $e(t,e){var n=e[ep];n===void 0&&(n=e[ep]=new Set);var i=t+"__bubble";n.has(i)||(Hx(e,t,2,!1),n.add(i))}function Of(t,e,n){var i=0;e&&(i|=4),Hx(n,t,i,e)}var cl="_reactListening"+Math.random().toString(36).slice(2);function Ho(t){if(!t[cl]){t[cl]=!0,QT.forEach(function(n){n!=="selectionchange"&&(WP.has(n)||Of(n,!1,t),Of(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[cl]||(e[cl]=!0,Of("selectionchange",!1,e))}}function Hx(t,e,n,i){switch(wx(e)){case 1:var r=aP;break;case 4:r=sP;break;default:r=Om}n=r.bind(null,e,n,t),r=void 0,!Hh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Df(t,e,n,i,r){var a=i;if((e&1)===0&&(e&2)===0&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var o=i.stateNode.containerInfo;if(o===r||o.nodeType===8&&o.parentNode===r)break;if(s===4)for(s=i.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===r||u.nodeType===8&&u.parentNode===r))return;s=s.return}for(;o!==null;){if(s=Vi(o),s===null)return;if(u=s.tag,u===5||u===6){i=a=s;continue e}o=o.parentNode}}i=i.return}fx(function(){var l=a,c=km(n),f=[];e:{var d=jx.get(t);if(d!==void 0){var g=Lm,_=t;switch(t){case"keypress":if(jl(n)===0)break e;case"keydown":case"keyup":g=xP;break;case"focusin":_="focus",g=Cf;break;case"focusout":_="blur",g=Cf;break;case"beforeblur":case"afterblur":g=Cf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=L0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=lP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=EP;break;case Mx:case Ux:case Bx:g=fP;break;case Vx:g=wP;break;case"scroll":g=oP;break;case"wheel":g=PP;break;case"copy":case"cut":case"paste":g=pP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=R0}var y=(e&4)!==0,x=!y&&t==="scroll",T=y?d!==null?d+"Capture":null:d;y=[];for(var E=l,w;E!==null;){w=E;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,T!==null&&(k=Mo(E,T),k!=null&&y.push($o(E,k,w)))),x)break;E=E.return}0<y.length&&(d=new g(d,_,null,n,c),f.push({event:d,listeners:y}))}}if((e&7)===0){e:{if(d=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",d&&n!==jh&&(_=n.relatedTarget||n.fromElement)&&(Vi(_)||_[Fn]))break e;if((g||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=l,_=_?Vi(_):null,_!==null&&(x=ua(_),_!==x||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=l),g!==_)){if(y=L0,k="onMouseLeave",T="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(y=R0,k="onPointerLeave",T="onPointerEnter",E="pointer"),x=g==null?d:La(g),w=_==null?d:La(_),d=new y(k,E+"leave",g,n,c),d.target=x,d.relatedTarget=w,k=null,Vi(c)===l&&(y=new y(T,E+"enter",_,n,c),y.target=w,y.relatedTarget=x,k=y),x=k,g&&_)t:{for(y=g,T=_,E=0,w=y;w;w=va(w))E++;for(w=0,k=T;k;k=va(k))w++;for(;0<E-w;)y=va(y),E--;for(;0<w-E;)T=va(T),w--;for(;E--;){if(y===T||T!==null&&y===T.alternate)break t;y=va(y),T=va(T)}y=null}else y=null;g!==null&&q0(f,d,g,y,!1),_!==null&&x!==null&&q0(f,x,_,y,!0)}}e:{if(d=l?La(l):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var I=RP;else if(U0(d))if(Dx)I=BP;else{I=MP;var D=NP}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(I=UP);if(I&&(I=I(t,l))){Ox(f,I,n,c);break e}D&&D(t,d,l),t==="focusout"&&(D=d._wrapperState)&&D.controlled&&d.type==="number"&&Nh(d,"number",d.value)}switch(D=l?La(l):window,t){case"focusin":(U0(D)||D.contentEditable==="true")&&(Oa=D,Kh=l,So=null);break;case"focusout":So=Kh=Oa=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,H0(f,n,c);break;case"selectionchange":if(zP)break;case"keydown":case"keyup":H0(f,n,c)}var F;if(Rm)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Ia?Ax(t,n)&&(L="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(Px&&n.locale!=="ko"&&(Ia||L!=="onCompositionStart"?L==="onCompositionEnd"&&Ia&&(F=kx()):(ii=c,Dm="value"in ii?ii.value:ii.textContent,Ia=!0)),D=fc(l,L),0<D.length&&(L=new F0(L,t,null,n,c),f.push({event:L,listeners:D}),F?L.data=F:(F=Ix(n),F!==null&&(L.data=F)))),(F=IP?OP(t,n):DP(t,n))&&(l=fc(l,"onBeforeInput"),0<l.length&&(c=new F0("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:l}),c.data=F))}zx(f,e)})}function $o(t,e,n){return{instance:t,listener:e,currentTarget:n}}function fc(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,a=r.stateNode;r.tag===5&&a!==null&&(r=a,a=Mo(t,n),a!=null&&i.unshift($o(t,a,r)),a=Mo(t,e),a!=null&&i.push($o(t,a,r))),t=t.return}return i}function va(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function q0(t,e,n,i,r){for(var a=e._reactName,s=[];n!==null&&n!==i;){var o=n,u=o.alternate,l=o.stateNode;if(u!==null&&u===i)break;o.tag===5&&l!==null&&(o=l,r?(u=Mo(n,a),u!=null&&s.unshift($o(n,u,o))):r||(u=Mo(n,a),u!=null&&s.push($o(n,u,o)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var qP=/\r\n?/g,GP=/\u0000|\uFFFD/g;function G0(t){return(typeof t=="string"?t:""+t).replace(qP,`
`).replace(GP,"")}function dl(t,e,n){if(e=G0(e),G0(t)!==e&&n)throw Error(J(425))}function hc(){}var Qh=null,Yh=null;function Jh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Zh=typeof setTimeout=="function"?setTimeout:void 0,KP=typeof clearTimeout=="function"?clearTimeout:void 0,K0=typeof Promise=="function"?Promise:void 0,XP=typeof queueMicrotask=="function"?queueMicrotask:typeof K0<"u"?function(t){return K0.resolve(null).then(t).catch(QP)}:Zh;function QP(t){setTimeout(function(){throw t})}function Lf(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Vo(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Vo(e)}function fi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function X0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ks=Math.random().toString(36).slice(2),sn="__reactFiber$"+ks,Wo="__reactProps$"+ks,Fn="__reactContainer$"+ks,ep="__reactEvents$"+ks,YP="__reactListeners$"+ks,JP="__reactHandles$"+ks;function Vi(t){var e=t[sn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fn]||n[sn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=X0(t);t!==null;){if(n=t[sn])return n;t=X0(t)}return e}t=n,n=t.parentNode}return null}function fu(t){return t=t[sn]||t[Fn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function La(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function od(t){return t[Wo]||null}var tp=[],Fa=-1;function bi(t){return{current:t}}function Ge(t){0>Fa||(t.current=tp[Fa],tp[Fa]=null,Fa--)}function ze(t,e){Fa++,tp[Fa]=t.current,t.current=e}var yi={},Ut=bi(yi),sr=bi(!1),Zi=yi;function is(t,e){var n=t.type.contextTypes;if(!n)return yi;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},a;for(a in n)r[a]=e[a];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function or(t){return t=t.childContextTypes,t!=null}function pc(){Ge(sr),Ge(Ut)}function Q0(t,e,n){if(Ut.current!==yi)throw Error(J(168));ze(Ut,e),ze(sr,n)}function $x(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(J(108,Nk(t)||"Unknown",r));return rt({},n,i)}function mc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||yi,Zi=Ut.current,ze(Ut,t),ze(sr,sr.current),!0}function Y0(t,e,n){var i=t.stateNode;if(!i)throw Error(J(169));n?(t=$x(t,e,Zi),i.__reactInternalMemoizedMergedChildContext=t,Ge(sr),Ge(Ut),ze(Ut,t)):Ge(sr),ze(sr,n)}var Sn=null,ud=!1,Ff=!1;function Wx(t){Sn===null?Sn=[t]:Sn.push(t)}function ZP(t){ud=!0,Wx(t)}function Ei(){if(!Ff&&Sn!==null){Ff=!0;var t=0,e=Re;try{var n=Sn;for(Re=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Sn=null,ud=!1}catch(r){throw Sn!==null&&(Sn=Sn.slice(t+1)),vx(Pm,Ei),r}finally{Re=e,Ff=!1}}return null}var Ra=[],Na=0,vc=null,gc=0,Ir=[],Or=0,ea=null,wn=1,kn="";function Ni(t,e){Ra[Na++]=gc,Ra[Na++]=vc,vc=t,gc=e}function qx(t,e,n){Ir[Or++]=wn,Ir[Or++]=kn,Ir[Or++]=ea,ea=t;var i=wn;t=kn;var r=32-Gr(i)-1;i&=~(1<<r),n+=1;var a=32-Gr(e)+r;if(30<a){var s=r-r%5;a=(i&(1<<s)-1).toString(32),i>>=s,r-=s,wn=1<<32-Gr(e)+r|n<<r|i,kn=a+t}else wn=1<<a|n<<r|i,kn=t}function Mm(t){t.return!==null&&(Ni(t,1),qx(t,1,0))}function Um(t){for(;t===vc;)vc=Ra[--Na],Ra[Na]=null,gc=Ra[--Na],Ra[Na]=null;for(;t===ea;)ea=Ir[--Or],Ir[Or]=null,kn=Ir[--Or],Ir[Or]=null,wn=Ir[--Or],Ir[Or]=null}var xr=null,_r=null,Ye=!1,Wr=null;function Gx(t,e){var n=Dr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function J0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xr=t,_r=fi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xr=t,_r=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ea!==null?{id:wn,overflow:kn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Dr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,xr=t,_r=null,!0):!1;default:return!1}}function rp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function np(t){if(Ye){var e=_r;if(e){var n=e;if(!J0(t,e)){if(rp(t))throw Error(J(418));e=fi(n.nextSibling);var i=xr;e&&J0(t,e)?Gx(i,n):(t.flags=t.flags&-4097|2,Ye=!1,xr=t)}}else{if(rp(t))throw Error(J(418));t.flags=t.flags&-4097|2,Ye=!1,xr=t}}}function Z0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xr=t}function fl(t){if(t!==xr)return!1;if(!Ye)return Z0(t),Ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Jh(t.type,t.memoizedProps)),e&&(e=_r)){if(rp(t))throw Kx(),Error(J(418));for(;e;)Gx(t,e),e=fi(e.nextSibling)}if(Z0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_r=fi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_r=null}}else _r=xr?fi(t.stateNode.nextSibling):null;return!0}function Kx(){for(var t=_r;t;)t=fi(t.nextSibling)}function as(){_r=xr=null,Ye=!1}function Bm(t){Wr===null?Wr=[t]:Wr.push(t)}var eA=zn.ReactCurrentBatchConfig;function Hr(t,e){if(t&&t.defaultProps){e=rt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var yc=bi(null),_c=null,Ma=null,Vm=null;function jm(){Vm=Ma=_c=null}function zm(t){var e=yc.current;Ge(yc),t._currentValue=e}function ip(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Qa(t,e){_c=t,Vm=Ma=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(ar=!0),t.firstContext=null)}function Mr(t){var e=t._currentValue;if(Vm!==t)if(t={context:t,memoizedValue:e,next:null},Ma===null){if(_c===null)throw Error(J(308));Ma=t,_c.dependencies={lanes:0,firstContext:t}}else Ma=Ma.next=t;return e}var ji=null;function Hm(t){ji===null?ji=[t]:ji.push(t)}function Xx(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,Hm(e)):(n.next=r.next,r.next=n),e.interleaved=n,Rn(t,i)}function Rn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ei=!1;function $m(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function hi(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,(Pe&2)!==0){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Rn(t,n)}return r=i.interleaved,r===null?(e.next=e,Hm(i)):(e.next=r.next,r.next=e),i.interleaved=e,Rn(t,n)}function zl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Am(t,n)}}function ey(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?r=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?r=a=e:a=a.next=e}else r=a=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Tc(t,e,n,i){var r=t.updateQueue;ei=!1;var a=r.firstBaseUpdate,s=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var u=o,l=u.next;u.next=null,s===null?a=l:s.next=l,s=u;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=l:o.next=l,c.lastBaseUpdate=u))}if(a!==null){var f=r.baseState;s=0,c=l=u=null,o=a;do{var d=o.lane,g=o.eventTime;if((i&d)===d){c!==null&&(c=c.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var _=t,y=o;switch(d=e,g=n,y.tag){case 1:if(_=y.payload,typeof _=="function"){f=_.call(g,f,d);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=y.payload,d=typeof _=="function"?_.call(g,f,d):_,d==null)break e;f=rt({},f,d);break e;case 2:ei=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,d=r.effects,d===null?r.effects=[o]:d.push(o))}else g={eventTime:g,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(l=c=g,u=f):c=c.next=g,s|=d;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;d=o,o=d.next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}while(1);if(c===null&&(u=f),r.baseState=u,r.firstBaseUpdate=l,r.lastBaseUpdate=c,e=r.shared.interleaved,e!==null){r=e;do s|=r.lane,r=r.next;while(r!==e)}else a===null&&(r.shared.lanes=0);ra|=s,t.lanes=s,t.memoizedState=f}}function ty(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(J(191,r));r.call(i)}}}var Yx=new XT.Component().refs;function ap(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:rt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ld={isMounted:function(t){return(t=t._reactInternals)?ua(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Jt(),r=mi(t),a=Pn(i,r);a.payload=e,n!=null&&(a.callback=n),e=hi(t,a,r),e!==null&&(Kr(e,t,r,i),zl(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Jt(),r=mi(t),a=Pn(i,r);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=hi(t,a,r),e!==null&&(Kr(e,t,r,i),zl(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Jt(),i=mi(t),r=Pn(n,i);r.tag=2,e!=null&&(r.callback=e),e=hi(t,r,i),e!==null&&(Kr(e,t,i,n),zl(e,t,i))}};function ry(t,e,n,i,r,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,a,s):e.prototype&&e.prototype.isPureReactComponent?!zo(n,i)||!zo(r,a):!0}function Jx(t,e,n){var i=!1,r=yi,a=e.contextType;return typeof a=="object"&&a!==null?a=Mr(a):(r=or(e)?Zi:Ut.current,i=e.contextTypes,a=(i=i!=null)?is(t,r):yi),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ld,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=a),e}function ny(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&ld.enqueueReplaceState(e,e.state,null)}function sp(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=Yx,$m(t);var a=e.contextType;typeof a=="object"&&a!==null?r.context=Mr(a):(a=or(e)?Zi:Ut.current,r.context=is(t,a)),r.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(ap(t,e,a,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&ld.enqueueReplaceState(r,r.state,null),Tc(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Xs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var i=n.stateNode}if(!i)throw Error(J(147,t));var r=i,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=r.refs;o===Yx&&(o=r.refs={}),s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function hl(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function iy(t){var e=t._init;return e(t._payload)}function Zx(t){function e(T,E){if(t){var w=T.deletions;w===null?(T.deletions=[E],T.flags|=16):w.push(E)}}function n(T,E){if(!t)return null;for(;E!==null;)e(T,E),E=E.sibling;return null}function i(T,E){for(T=new Map;E!==null;)E.key!==null?T.set(E.key,E):T.set(E.index,E),E=E.sibling;return T}function r(T,E){return T=vi(T,E),T.index=0,T.sibling=null,T}function a(T,E,w){return T.index=w,t?(w=T.alternate,w!==null?(w=w.index,w<E?(T.flags|=2,E):w):(T.flags|=2,E)):(T.flags|=1048576,E)}function s(T){return t&&T.alternate===null&&(T.flags|=2),T}function o(T,E,w,k){return E===null||E.tag!==6?(E=jf(w,T.mode,k),E.return=T,E):(E=r(E,w),E.return=T,E)}function u(T,E,w,k){var I=w.type;return I===Aa?c(T,E,w.props.children,k,w.key):E!==null&&(E.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Zn&&iy(I)===E.type)?(k=r(E,w.props),k.ref=Xs(T,E,w),k.return=T,k):(k=Kl(w.type,w.key,w.props,null,T.mode,k),k.ref=Xs(T,E,w),k.return=T,k)}function l(T,E,w,k){return E===null||E.tag!==4||E.stateNode.containerInfo!==w.containerInfo||E.stateNode.implementation!==w.implementation?(E=zf(w,T.mode,k),E.return=T,E):(E=r(E,w.children||[]),E.return=T,E)}function c(T,E,w,k,I){return E===null||E.tag!==7?(E=Ki(w,T.mode,k,I),E.return=T,E):(E=r(E,w),E.return=T,E)}function f(T,E,w){if(typeof E=="string"&&E!==""||typeof E=="number")return E=jf(""+E,T.mode,w),E.return=T,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case rl:return w=Kl(E.type,E.key,E.props,null,T.mode,w),w.ref=Xs(T,null,E),w.return=T,w;case Pa:return E=zf(E,T.mode,w),E.return=T,E;case Zn:var k=E._init;return f(T,k(E._payload),w)}if(oo(E)||$s(E))return E=Ki(E,T.mode,w,null),E.return=T,E;hl(T,E)}return null}function d(T,E,w,k){var I=E!==null?E.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return I!==null?null:o(T,E,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case rl:return w.key===I?u(T,E,w,k):null;case Pa:return w.key===I?l(T,E,w,k):null;case Zn:return I=w._init,d(T,E,I(w._payload),k)}if(oo(w)||$s(w))return I!==null?null:c(T,E,w,k,null);hl(T,w)}return null}function g(T,E,w,k,I){if(typeof k=="string"&&k!==""||typeof k=="number")return T=T.get(w)||null,o(E,T,""+k,I);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case rl:return T=T.get(k.key===null?w:k.key)||null,u(E,T,k,I);case Pa:return T=T.get(k.key===null?w:k.key)||null,l(E,T,k,I);case Zn:var D=k._init;return g(T,E,w,D(k._payload),I)}if(oo(k)||$s(k))return T=T.get(w)||null,c(E,T,k,I,null);hl(E,k)}return null}function _(T,E,w,k){for(var I=null,D=null,F=E,L=E=0,V=null;F!==null&&L<w.length;L++){F.index>L?(V=F,F=null):V=F.sibling;var A=d(T,F,w[L],k);if(A===null){F===null&&(F=V);break}t&&F&&A.alternate===null&&e(T,F),E=a(A,E,L),D===null?I=A:D.sibling=A,D=A,F=V}if(L===w.length)return n(T,F),Ye&&Ni(T,L),I;if(F===null){for(;L<w.length;L++)F=f(T,w[L],k),F!==null&&(E=a(F,E,L),D===null?I=F:D.sibling=F,D=F);return Ye&&Ni(T,L),I}for(F=i(T,F);L<w.length;L++)V=g(F,T,L,w[L],k),V!==null&&(t&&V.alternate!==null&&F.delete(V.key===null?L:V.key),E=a(V,E,L),D===null?I=V:D.sibling=V,D=V);return t&&F.forEach(function(M){return e(T,M)}),Ye&&Ni(T,L),I}function y(T,E,w,k){var I=$s(w);if(typeof I!="function")throw Error(J(150));if(w=I.call(w),w==null)throw Error(J(151));for(var D=I=null,F=E,L=E=0,V=null,A=w.next();F!==null&&!A.done;L++,A=w.next()){F.index>L?(V=F,F=null):V=F.sibling;var M=d(T,F,A.value,k);if(M===null){F===null&&(F=V);break}t&&F&&M.alternate===null&&e(T,F),E=a(M,E,L),D===null?I=M:D.sibling=M,D=M,F=V}if(A.done)return n(T,F),Ye&&Ni(T,L),I;if(F===null){for(;!A.done;L++,A=w.next())A=f(T,A.value,k),A!==null&&(E=a(A,E,L),D===null?I=A:D.sibling=A,D=A);return Ye&&Ni(T,L),I}for(F=i(T,F);!A.done;L++,A=w.next())A=g(F,T,L,A.value,k),A!==null&&(t&&A.alternate!==null&&F.delete(A.key===null?L:A.key),E=a(A,E,L),D===null?I=A:D.sibling=A,D=A);return t&&F.forEach(function(B){return e(T,B)}),Ye&&Ni(T,L),I}function x(T,E,w,k){if(typeof w=="object"&&w!==null&&w.type===Aa&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case rl:e:{for(var I=w.key,D=E;D!==null;){if(D.key===I){if(I=w.type,I===Aa){if(D.tag===7){n(T,D.sibling),E=r(D,w.props.children),E.return=T,T=E;break e}}else if(D.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Zn&&iy(I)===D.type){n(T,D.sibling),E=r(D,w.props),E.ref=Xs(T,D,w),E.return=T,T=E;break e}n(T,D);break}else e(T,D);D=D.sibling}w.type===Aa?(E=Ki(w.props.children,T.mode,k,w.key),E.return=T,T=E):(k=Kl(w.type,w.key,w.props,null,T.mode,k),k.ref=Xs(T,E,w),k.return=T,T=k)}return s(T);case Pa:e:{for(D=w.key;E!==null;){if(E.key===D)if(E.tag===4&&E.stateNode.containerInfo===w.containerInfo&&E.stateNode.implementation===w.implementation){n(T,E.sibling),E=r(E,w.children||[]),E.return=T,T=E;break e}else{n(T,E);break}else e(T,E);E=E.sibling}E=zf(w,T.mode,k),E.return=T,T=E}return s(T);case Zn:return D=w._init,x(T,E,D(w._payload),k)}if(oo(w))return _(T,E,w,k);if($s(w))return y(T,E,w,k);hl(T,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,E!==null&&E.tag===6?(n(T,E.sibling),E=r(E,w),E.return=T,T=E):(n(T,E),E=jf(w,T.mode,k),E.return=T,T=E),s(T)):n(T,E)}return x}var ss=Zx(!0),eS=Zx(!1),hu={},dn=bi(hu),qo=bi(hu),Go=bi(hu);function zi(t){if(t===hu)throw Error(J(174));return t}function Wm(t,e){switch(ze(Go,e),ze(qo,t),ze(dn,hu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Uh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Uh(e,t)}Ge(dn),ze(dn,e)}function os(){Ge(dn),Ge(qo),Ge(Go)}function tS(t){zi(Go.current);var e=zi(dn.current),n=Uh(e,t.type);e!==n&&(ze(qo,t),ze(dn,n))}function qm(t){qo.current===t&&(Ge(dn),Ge(qo))}var Ze=bi(0);function xc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Rf=[];function Gm(){for(var t=0;t<Rf.length;t++)Rf[t]._workInProgressVersionPrimary=null;Rf.length=0}var Hl=zn.ReactCurrentDispatcher,Nf=zn.ReactCurrentBatchConfig,ta=0,tt=null,vt=null,_t=null,Sc=!1,bo=!1,Ko=0,tA=0;function Lt(){throw Error(J(321))}function Km(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Yr(t[n],e[n]))return!1;return!0}function Xm(t,e,n,i,r,a){if(ta=a,tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hl.current=t===null||t.memoizedState===null?aA:sA,t=n(i,r),bo){a=0;do{if(bo=!1,Ko=0,25<=a)throw Error(J(301));a+=1,_t=vt=null,e.updateQueue=null,Hl.current=oA,t=n(i,r)}while(bo)}if(Hl.current=bc,e=vt!==null&&vt.next!==null,ta=0,_t=vt=tt=null,Sc=!1,e)throw Error(J(300));return t}function Qm(){var t=Ko!==0;return Ko=0,t}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?tt.memoizedState=_t=t:_t=_t.next=t,_t}function Ur(){if(vt===null){var t=tt.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var e=_t===null?tt.memoizedState:_t.next;if(e!==null)_t=e,vt=t;else{if(t===null)throw Error(J(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},_t===null?tt.memoizedState=_t=t:_t=_t.next=t}return _t}function Xo(t,e){return typeof e=="function"?e(t):e}function Mf(t){var e=Ur(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var i=vt,r=i.baseQueue,a=n.pending;if(a!==null){if(r!==null){var s=r.next;r.next=a.next,a.next=s}i.baseQueue=r=a,n.pending=null}if(r!==null){a=r.next,i=i.baseState;var o=s=null,u=null,l=a;do{var c=l.lane;if((ta&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),i=l.hasEagerState?l.eagerState:t(i,l.action);else{var f={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(o=u=f,s=i):u=u.next=f,tt.lanes|=c,ra|=c}l=l.next}while(l!==null&&l!==a);u===null?s=i:u.next=o,Yr(i,e.memoizedState)||(ar=!0),e.memoizedState=i,e.baseState=s,e.baseQueue=u,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do a=r.lane,tt.lanes|=a,ra|=a,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Uf(t){var e=Ur(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,a=e.memoizedState;if(r!==null){n.pending=null;var s=r=r.next;do a=t(a,s.action),s=s.next;while(s!==r);Yr(a,e.memoizedState)||(ar=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,i]}function rS(){}function nS(t,e){var n=tt,i=Ur(),r=e(),a=!Yr(i.memoizedState,r);if(a&&(i.memoizedState=r,ar=!0),i=i.queue,Ym(sS.bind(null,n,i,t),[t]),i.getSnapshot!==e||a||_t!==null&&_t.memoizedState.tag&1){if(n.flags|=2048,Qo(9,aS.bind(null,n,i,r,e),void 0,null),xt===null)throw Error(J(349));(ta&30)!==0||iS(n,e,r)}return r}function iS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function aS(t,e,n,i){e.value=n,e.getSnapshot=i,oS(e)&&uS(t)}function sS(t,e,n){return n(function(){oS(e)&&uS(t)})}function oS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Yr(t,n)}catch{return!0}}function uS(t){var e=Rn(t,1);e!==null&&Kr(e,t,1,-1)}function ay(t){var e=rn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:t},e.queue=t,t=t.dispatch=iA.bind(null,tt,t),[e.memoizedState,t]}function Qo(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function lS(){return Ur().memoizedState}function $l(t,e,n,i){var r=rn();tt.flags|=t,r.memoizedState=Qo(1|e,n,void 0,i===void 0?null:i)}function cd(t,e,n,i){var r=Ur();i=i===void 0?null:i;var a=void 0;if(vt!==null){var s=vt.memoizedState;if(a=s.destroy,i!==null&&Km(i,s.deps)){r.memoizedState=Qo(e,n,a,i);return}}tt.flags|=t,r.memoizedState=Qo(1|e,n,a,i)}function sy(t,e){return $l(8390656,8,t,e)}function Ym(t,e){return cd(2048,8,t,e)}function cS(t,e){return cd(4,2,t,e)}function dS(t,e){return cd(4,4,t,e)}function fS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hS(t,e,n){return n=n!=null?n.concat([t]):null,cd(4,4,fS.bind(null,e,t),n)}function Jm(){}function pS(t,e){var n=Ur();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Km(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function mS(t,e){var n=Ur();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Km(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function vS(t,e,n){return(ta&21)===0?(t.baseState&&(t.baseState=!1,ar=!0),t.memoizedState=n):(Yr(n,e)||(n=_x(),tt.lanes|=n,ra|=n,t.baseState=!0),e)}function rA(t,e){var n=Re;Re=n!==0&&4>n?n:4,t(!0);var i=Nf.transition;Nf.transition={};try{t(!1),e()}finally{Re=n,Nf.transition=i}}function gS(){return Ur().memoizedState}function nA(t,e,n){var i=mi(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},yS(t))_S(e,n);else if(n=Xx(t,e,n,i),n!==null){var r=Jt();Kr(n,t,i,r),TS(n,e,i)}}function iA(t,e,n){var i=mi(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(yS(t))_S(e,r);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(r.hasEagerState=!0,r.eagerState=o,Yr(o,s)){var u=e.interleaved;u===null?(r.next=r,Hm(e)):(r.next=u.next,u.next=r),e.interleaved=r;return}}catch{}finally{}n=Xx(t,e,r,i),n!==null&&(r=Jt(),Kr(n,t,i,r),TS(n,e,i))}}function yS(t){var e=t.alternate;return t===tt||e!==null&&e===tt}function _S(t,e){bo=Sc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function TS(t,e,n){if((n&4194240)!==0){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Am(t,n)}}var bc={readContext:Mr,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},aA={readContext:Mr,useCallback:function(t,e){return rn().memoizedState=[t,e===void 0?null:e],t},useContext:Mr,useEffect:sy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$l(4194308,4,fS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $l(4194308,4,t,e)},useInsertionEffect:function(t,e){return $l(4,2,t,e)},useMemo:function(t,e){var n=rn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=rn();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=nA.bind(null,tt,t),[i.memoizedState,t]},useRef:function(t){var e=rn();return t={current:t},e.memoizedState=t},useState:ay,useDebugValue:Jm,useDeferredValue:function(t){return rn().memoizedState=t},useTransition:function(){var t=ay(!1),e=t[0];return t=rA.bind(null,t[1]),rn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=tt,r=rn();if(Ye){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),xt===null)throw Error(J(349));(ta&30)!==0||iS(i,e,n)}r.memoizedState=n;var a={value:n,getSnapshot:e};return r.queue=a,sy(sS.bind(null,i,a,t),[t]),i.flags|=2048,Qo(9,aS.bind(null,i,a,n,e),void 0,null),n},useId:function(){var t=rn(),e=xt.identifierPrefix;if(Ye){var n=kn,i=wn;n=(i&~(1<<32-Gr(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ko++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=tA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},sA={readContext:Mr,useCallback:pS,useContext:Mr,useEffect:Ym,useImperativeHandle:hS,useInsertionEffect:cS,useLayoutEffect:dS,useMemo:mS,useReducer:Mf,useRef:lS,useState:function(){return Mf(Xo)},useDebugValue:Jm,useDeferredValue:function(t){var e=Ur();return vS(e,vt.memoizedState,t)},useTransition:function(){var t=Mf(Xo)[0],e=Ur().memoizedState;return[t,e]},useMutableSource:rS,useSyncExternalStore:nS,useId:gS,unstable_isNewReconciler:!1},oA={readContext:Mr,useCallback:pS,useContext:Mr,useEffect:Ym,useImperativeHandle:hS,useInsertionEffect:cS,useLayoutEffect:dS,useMemo:mS,useReducer:Uf,useRef:lS,useState:function(){return Uf(Xo)},useDebugValue:Jm,useDeferredValue:function(t){var e=Ur();return vt===null?e.memoizedState=t:vS(e,vt.memoizedState,t)},useTransition:function(){var t=Uf(Xo)[0],e=Ur().memoizedState;return[t,e]},useMutableSource:rS,useSyncExternalStore:nS,useId:gS,unstable_isNewReconciler:!1};function us(t,e){try{var n="",i=e;do n+=Rk(i),i=i.return;while(i);var r=n}catch(a){r=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:r,digest:null}}function Bf(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function op(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var uA=typeof WeakMap=="function"?WeakMap:Map;function xS(t,e,n){n=Pn(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Cc||(Cc=!0,gp=i),op(t,e)},n}function SS(t,e,n){n=Pn(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){op(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){op(t,e),typeof i!="function"&&(pi===null?pi=new Set([this]):pi.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function oy(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new uA;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=SA.bind(null,t,e,n),e.then(t,t))}function uy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ly(t,e,n,i,r){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Pn(-1,1),e.tag=2,hi(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=r,t)}var lA=zn.ReactCurrentOwner,ar=!1;function qt(t,e,n,i){e.child=t===null?eS(e,null,n,i):ss(e,t.child,n,i)}function cy(t,e,n,i,r){n=n.render;var a=e.ref;return Qa(e,r),i=Xm(t,e,n,i,a,r),n=Qm(),t!==null&&!ar?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Nn(t,e,r)):(Ye&&n&&Mm(e),e.flags|=1,qt(t,e,i,r),e.child)}function dy(t,e,n,i,r){if(t===null){var a=n.type;return typeof a=="function"&&!sv(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,bS(t,e,a,i,r)):(t=Kl(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,(t.lanes&r)===0){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:zo,n(s,i)&&t.ref===e.ref)return Nn(t,e,r)}return e.flags|=1,t=vi(a,i),t.ref=e.ref,t.return=e,e.child=t}function bS(t,e,n,i,r){if(t!==null){var a=t.memoizedProps;if(zo(a,i)&&t.ref===e.ref)if(ar=!1,e.pendingProps=i=a,(t.lanes&r)!==0)(t.flags&131072)!==0&&(ar=!0);else return e.lanes=t.lanes,Nn(t,e,r)}return up(t,e,n,i,r)}function ES(t,e,n){var i=e.pendingProps,r=i.children,a=t!==null?t.memoizedState:null;if(i.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(Ba,gr),gr|=n;else{if((n&1073741824)===0)return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ze(Ba,gr),gr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=a!==null?a.baseLanes:n,ze(Ba,gr),gr|=i}else a!==null?(i=a.baseLanes|n,e.memoizedState=null):i=n,ze(Ba,gr),gr|=i;return qt(t,e,r,n),e.child}function CS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function up(t,e,n,i,r){var a=or(n)?Zi:Ut.current;return a=is(e,a),Qa(e,r),n=Xm(t,e,n,i,a,r),i=Qm(),t!==null&&!ar?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Nn(t,e,r)):(Ye&&i&&Mm(e),e.flags|=1,qt(t,e,n,r),e.child)}function fy(t,e,n,i,r){if(or(n)){var a=!0;mc(e)}else a=!1;if(Qa(e,r),e.stateNode===null)Wl(t,e),Jx(e,n,i),sp(e,n,i,r),i=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var u=s.context,l=n.contextType;typeof l=="object"&&l!==null?l=Mr(l):(l=or(n)?Zi:Ut.current,l=is(e,l));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==i||u!==l)&&ny(e,s,i,l),ei=!1;var d=e.memoizedState;s.state=d,Tc(e,i,s,r),u=e.memoizedState,o!==i||d!==u||sr.current||ei?(typeof c=="function"&&(ap(e,n,c,i),u=e.memoizedState),(o=ei||ry(e,n,o,i,d,u,l))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=u),s.props=i,s.state=u,s.context=l,i=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,Qx(t,e),o=e.memoizedProps,l=e.type===e.elementType?o:Hr(e.type,o),s.props=l,f=e.pendingProps,d=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=Mr(u):(u=or(n)?Zi:Ut.current,u=is(e,u));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||d!==u)&&ny(e,s,i,u),ei=!1,d=e.memoizedState,s.state=d,Tc(e,i,s,r);var _=e.memoizedState;o!==f||d!==_||sr.current||ei?(typeof g=="function"&&(ap(e,n,g,i),_=e.memoizedState),(l=ei||ry(e,n,l,i,d,_,u)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,_,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,_,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=_),s.props=i,s.state=_,s.context=u,i=l):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return lp(t,e,n,i,a,r)}function lp(t,e,n,i,r,a){CS(t,e);var s=(e.flags&128)!==0;if(!i&&!s)return r&&Y0(e,n,!1),Nn(t,e,a);i=e.stateNode,lA.current=e;var o=s&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&s?(e.child=ss(e,t.child,null,a),e.child=ss(e,null,o,a)):qt(t,e,o,a),e.memoizedState=i.state,r&&Y0(e,n,!0),e.child}function wS(t){var e=t.stateNode;e.pendingContext?Q0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Q0(t,e.context,!1),Wm(t,e.containerInfo)}function hy(t,e,n,i,r){return as(),Bm(r),e.flags|=256,qt(t,e,n,i),e.child}var cp={dehydrated:null,treeContext:null,retryLane:0};function dp(t){return{baseLanes:t,cachePool:null,transitions:null}}function kS(t,e,n){var i=e.pendingProps,r=Ze.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(r&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),ze(Ze,r&1),t===null)return np(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(s=i.children,t=i.fallback,a?(i=e.mode,a=e.child,s={mode:"hidden",children:s},(i&1)===0&&a!==null?(a.childLanes=0,a.pendingProps=s):a=hd(s,i,0,null),t=Ki(t,i,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=dp(n),e.memoizedState=cp,t):Zm(e,s));if(r=t.memoizedState,r!==null&&(o=r.dehydrated,o!==null))return cA(t,e,s,i,o,r,n);if(a){a=i.fallback,s=e.mode,r=t.child,o=r.sibling;var u={mode:"hidden",children:i.children};return(s&1)===0&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=u,e.deletions=null):(i=vi(r,u),i.subtreeFlags=r.subtreeFlags&14680064),o!==null?a=vi(o,a):(a=Ki(a,s,n,null),a.flags|=2),a.return=e,i.return=e,i.sibling=a,e.child=i,i=a,a=e.child,s=t.child.memoizedState,s=s===null?dp(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~n,e.memoizedState=cp,i}return a=t.child,t=a.sibling,i=vi(a,{mode:"visible",children:i.children}),(e.mode&1)===0&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Zm(t,e){return e=hd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function pl(t,e,n,i){return i!==null&&Bm(i),ss(e,t.child,null,n),t=Zm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cA(t,e,n,i,r,a,s){if(n)return e.flags&256?(e.flags&=-257,i=Bf(Error(J(422))),pl(t,e,s,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=i.fallback,r=e.mode,i=hd({mode:"visible",children:i.children},r,0,null),a=Ki(a,r,s,null),a.flags|=2,i.return=e,a.return=e,i.sibling=a,e.child=i,(e.mode&1)!==0&&ss(e,t.child,null,s),e.child.memoizedState=dp(s),e.memoizedState=cp,a);if((e.mode&1)===0)return pl(t,e,s,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var o=i.dgst;return i=o,a=Error(J(419)),i=Bf(a,i,void 0),pl(t,e,s,i)}if(o=(s&t.childLanes)!==0,ar||o){if(i=xt,i!==null){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=(r&(i.suspendedLanes|s))!==0?0:r,r!==0&&r!==a.retryLane&&(a.retryLane=r,Rn(t,r),Kr(i,t,r,-1))}return av(),i=Bf(Error(J(421))),pl(t,e,s,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=bA.bind(null,t),r._reactRetry=e,null):(t=a.treeContext,_r=fi(r.nextSibling),xr=e,Ye=!0,Wr=null,t!==null&&(Ir[Or++]=wn,Ir[Or++]=kn,Ir[Or++]=ea,wn=t.id,kn=t.overflow,ea=e),e=Zm(e,i.children),e.flags|=4096,e)}function py(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),ip(t.return,e,n)}function Vf(t,e,n,i,r){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r)}function PS(t,e,n){var i=e.pendingProps,r=i.revealOrder,a=i.tail;if(qt(t,e,i.children,n),i=Ze.current,(i&2)!==0)i=i&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&py(t,n,e);else if(t.tag===19)py(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(ze(Ze,i),(e.mode&1)===0)e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&xc(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Vf(e,!1,r,n,a);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&xc(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Vf(e,!0,n,null,a);break;case"together":Vf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wl(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Nn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ra|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=vi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function dA(t,e,n){switch(e.tag){case 3:wS(e),as();break;case 5:tS(e);break;case 1:or(e.type)&&mc(e);break;case 4:Wm(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;ze(yc,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(ze(Ze,Ze.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?kS(t,e,n):(ze(Ze,Ze.current&1),t=Nn(t,e,n),t!==null?t.sibling:null);ze(Ze,Ze.current&1);break;case 19:if(i=(n&e.childLanes)!==0,(t.flags&128)!==0){if(i)return PS(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ze(Ze,Ze.current),i)break;return null;case 22:case 23:return e.lanes=0,ES(t,e,n)}return Nn(t,e,n)}var AS,fp,IS,OS;AS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fp=function(){};IS=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,zi(dn.current);var a=null;switch(n){case"input":r=Fh(t,r),i=Fh(t,i),a=[];break;case"select":r=rt({},r,{value:void 0}),i=rt({},i,{value:void 0}),a=[];break;case"textarea":r=Mh(t,r),i=Mh(t,i),a=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=hc)}Bh(n,i);var s;n=null;for(l in r)if(!i.hasOwnProperty(l)&&r.hasOwnProperty(l)&&r[l]!=null)if(l==="style"){var o=r[l];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Ro.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in i){var u=i[l];if(o=r!=null?r[l]:void 0,i.hasOwnProperty(l)&&u!==o&&(u!=null||o!=null))if(l==="style")if(o){for(s in o)!o.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&o[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(a||(a=[]),a.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(a=a||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(a=a||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Ro.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&$e("scroll",t),a||o===u||(a=[])):(a=a||[]).push(l,u))}n&&(a=a||[]).push("style",n);var l=a;(e.updateQueue=l)&&(e.flags|=4)}};OS=function(t,e,n,i){n!==i&&(e.flags|=4)};function Qs(t,e){if(!Ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function fA(t,e,n){var i=e.pendingProps;switch(Um(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(e),null;case 1:return or(e.type)&&pc(),Ft(e),null;case 3:return i=e.stateNode,os(),Ge(sr),Ge(Ut),Gm(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(fl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Wr!==null&&(Tp(Wr),Wr=null))),fp(t,e),Ft(e),null;case 5:qm(e);var r=zi(Go.current);if(n=e.type,t!==null&&e.stateNode!=null)IS(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(J(166));return Ft(e),null}if(t=zi(dn.current),fl(e)){i=e.stateNode,n=e.type;var a=e.memoizedProps;switch(i[sn]=e,i[Wo]=a,t=(e.mode&1)!==0,n){case"dialog":$e("cancel",i),$e("close",i);break;case"iframe":case"object":case"embed":$e("load",i);break;case"video":case"audio":for(r=0;r<lo.length;r++)$e(lo[r],i);break;case"source":$e("error",i);break;case"img":case"image":case"link":$e("error",i),$e("load",i);break;case"details":$e("toggle",i);break;case"input":b0(i,a),$e("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},$e("invalid",i);break;case"textarea":C0(i,a),$e("invalid",i)}Bh(n,a),r=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?i.textContent!==o&&(a.suppressHydrationWarning!==!0&&dl(i.textContent,o,t),r=["children",o]):typeof o=="number"&&i.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&dl(i.textContent,o,t),r=["children",""+o]):Ro.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&$e("scroll",i)}switch(n){case"input":nl(i),E0(i,a,!0);break;case"textarea":nl(i),w0(i);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(i.onclick=hc)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{s=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ix(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=s.createElement(n,{is:i.is}):(t=s.createElement(n),n==="select"&&(s=t,i.multiple?s.multiple=!0:i.size&&(s.size=i.size))):t=s.createElementNS(t,n),t[sn]=e,t[Wo]=i,AS(t,e,!1,!1),e.stateNode=t;e:{switch(s=Vh(n,i),n){case"dialog":$e("cancel",t),$e("close",t),r=i;break;case"iframe":case"object":case"embed":$e("load",t),r=i;break;case"video":case"audio":for(r=0;r<lo.length;r++)$e(lo[r],t);r=i;break;case"source":$e("error",t),r=i;break;case"img":case"image":case"link":$e("error",t),$e("load",t),r=i;break;case"details":$e("toggle",t),r=i;break;case"input":b0(t,i),r=Fh(t,i),$e("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=rt({},i,{value:void 0}),$e("invalid",t);break;case"textarea":C0(t,i),r=Mh(t,i),$e("invalid",t);break;default:r=i}Bh(n,r),o=r;for(a in o)if(o.hasOwnProperty(a)){var u=o[a];a==="style"?ox(t,u):a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&ax(t,u)):a==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&No(t,u):typeof u=="number"&&No(t,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ro.hasOwnProperty(a)?u!=null&&a==="onScroll"&&$e("scroll",t):u!=null&&bm(t,a,u,s))}switch(n){case"input":nl(t),E0(t,i,!1);break;case"textarea":nl(t),w0(t);break;case"option":i.value!=null&&t.setAttribute("value",""+gi(i.value));break;case"select":t.multiple=!!i.multiple,a=i.value,a!=null?qa(t,!!i.multiple,a,!1):i.defaultValue!=null&&qa(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=hc)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ft(e),null;case 6:if(t&&e.stateNode!=null)OS(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(J(166));if(n=zi(Go.current),zi(dn.current),fl(e)){if(i=e.stateNode,n=e.memoizedProps,i[sn]=e,(a=i.nodeValue!==n)&&(t=xr,t!==null))switch(t.tag){case 3:dl(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&dl(i.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[sn]=e,e.stateNode=i}return Ft(e),null;case 13:if(Ge(Ze),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&_r!==null&&(e.mode&1)!==0&&(e.flags&128)===0)Kx(),as(),e.flags|=98560,a=!1;else if(a=fl(e),i!==null&&i.dehydrated!==null){if(t===null){if(!a)throw Error(J(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(J(317));a[sn]=e}else as(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Ft(e),a=!1}else Wr!==null&&(Tp(Wr),Wr=null),a=!0;if(!a)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(Ze.current&1)!==0?gt===0&&(gt=3):av())),e.updateQueue!==null&&(e.flags|=4),Ft(e),null);case 4:return os(),fp(t,e),t===null&&Ho(e.stateNode.containerInfo),Ft(e),null;case 10:return zm(e.type._context),Ft(e),null;case 17:return or(e.type)&&pc(),Ft(e),null;case 19:if(Ge(Ze),a=e.memoizedState,a===null)return Ft(e),null;if(i=(e.flags&128)!==0,s=a.rendering,s===null)if(i)Qs(a,!1);else{if(gt!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(s=xc(t),s!==null){for(e.flags|=128,Qs(a,!1),i=s.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)a=n,t=i,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ze(Ze,Ze.current&1|2),e.child}t=t.sibling}a.tail!==null&&lt()>ls&&(e.flags|=128,i=!0,Qs(a,!1),e.lanes=4194304)}else{if(!i)if(t=xc(s),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Qs(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Ye)return Ft(e),null}else 2*lt()-a.renderingStartTime>ls&&n!==1073741824&&(e.flags|=128,i=!0,Qs(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(n=a.last,n!==null?n.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=lt(),e.sibling=null,n=Ze.current,ze(Ze,i?n&1|2:n&1),e):(Ft(e),null);case 22:case 23:return iv(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&(e.mode&1)!==0?(gr&1073741824)!==0&&(Ft(e),e.subtreeFlags&6&&(e.flags|=8192)):Ft(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function hA(t,e){switch(Um(e),e.tag){case 1:return or(e.type)&&pc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return os(),Ge(sr),Ge(Ut),Gm(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return qm(e),null;case 13:if(Ge(Ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));as()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ge(Ze),null;case 4:return os(),null;case 10:return zm(e.type._context),null;case 22:case 23:return iv(),null;case 24:return null;default:return null}}var ml=!1,Nt=!1,pA=typeof WeakSet=="function"?WeakSet:Set,he=null;function Ua(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){nt(t,e,i)}else n.current=null}function hp(t,e,n){try{n()}catch(i){nt(t,e,i)}}var my=!1;function mA(t,e){if(Qh=cc,t=Rx(),Nm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,u=-1,l=0,c=0,f=t,d=null;t:for(;;){for(var g;f!==n||r!==0&&f.nodeType!==3||(o=s+r),f!==a||i!==0&&f.nodeType!==3||(u=s+i),f.nodeType===3&&(s+=f.nodeValue.length),(g=f.firstChild)!==null;)d=f,f=g;for(;;){if(f===t)break t;if(d===n&&++l===r&&(o=s),d===a&&++c===i&&(u=s),(g=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=g}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yh={focusedElem:t,selectionRange:n},cc=!1,he=e;he!==null;)if(e=he,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,he=t;else for(;he!==null;){e=he;try{var _=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var y=_.memoizedProps,x=_.memoizedState,T=e.stateNode,E=T.getSnapshotBeforeUpdate(e.elementType===e.type?y:Hr(e.type,y),x);T.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(k){nt(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,he=t;break}he=e.return}return _=my,my=!1,_}function Eo(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var a=r.destroy;r.destroy=void 0,a!==void 0&&hp(e,n,a)}r=r.next}while(r!==i)}}function dd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function pp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function DS(t){var e=t.alternate;e!==null&&(t.alternate=null,DS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[sn],delete e[Wo],delete e[ep],delete e[YP],delete e[JP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function LS(t){return t.tag===5||t.tag===3||t.tag===4}function vy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||LS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mp(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=hc));else if(i!==4&&(t=t.child,t!==null))for(mp(t,e,n),t=t.sibling;t!==null;)mp(t,e,n),t=t.sibling}function vp(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(vp(t,e,n),t=t.sibling;t!==null;)vp(t,e,n),t=t.sibling}var Pt=null,$r=!1;function Qn(t,e,n){for(n=n.child;n!==null;)FS(t,e,n),n=n.sibling}function FS(t,e,n){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(nd,n)}catch{}switch(n.tag){case 5:Nt||Ua(n,e);case 6:var i=Pt,r=$r;Pt=null,Qn(t,e,n),Pt=i,$r=r,Pt!==null&&($r?(t=Pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pt.removeChild(n.stateNode));break;case 18:Pt!==null&&($r?(t=Pt,n=n.stateNode,t.nodeType===8?Lf(t.parentNode,n):t.nodeType===1&&Lf(t,n),Vo(t)):Lf(Pt,n.stateNode));break;case 4:i=Pt,r=$r,Pt=n.stateNode.containerInfo,$r=!0,Qn(t,e,n),Pt=i,$r=r;break;case 0:case 11:case 14:case 15:if(!Nt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var a=r,s=a.destroy;a=a.tag,s!==void 0&&((a&2)!==0||(a&4)!==0)&&hp(n,e,s),r=r.next}while(r!==i)}Qn(t,e,n);break;case 1:if(!Nt&&(Ua(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(o){nt(n,e,o)}Qn(t,e,n);break;case 21:Qn(t,e,n);break;case 22:n.mode&1?(Nt=(i=Nt)||n.memoizedState!==null,Qn(t,e,n),Nt=i):Qn(t,e,n);break;default:Qn(t,e,n)}}function gy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new pA),e.forEach(function(i){var r=EA.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function Vr(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:Pt=o.stateNode,$r=!1;break e;case 3:Pt=o.stateNode.containerInfo,$r=!0;break e;case 4:Pt=o.stateNode.containerInfo,$r=!0;break e}o=o.return}if(Pt===null)throw Error(J(160));FS(a,s,r),Pt=null,$r=!1;var u=r.alternate;u!==null&&(u.return=null),r.return=null}catch(l){nt(r,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)RS(e,t),e=e.sibling}function RS(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vr(e,t),tn(t),i&4){try{Eo(3,t,t.return),dd(3,t)}catch(y){nt(t,t.return,y)}try{Eo(5,t,t.return)}catch(y){nt(t,t.return,y)}}break;case 1:Vr(e,t),tn(t),i&512&&n!==null&&Ua(n,n.return);break;case 5:if(Vr(e,t),tn(t),i&512&&n!==null&&Ua(n,n.return),t.flags&32){var r=t.stateNode;try{No(r,"")}catch(y){nt(t,t.return,y)}}if(i&4&&(r=t.stateNode,r!=null)){var a=t.memoizedProps,s=n!==null?n.memoizedProps:a,o=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&rx(r,a),Vh(o,s);var l=Vh(o,a);for(s=0;s<u.length;s+=2){var c=u[s],f=u[s+1];c==="style"?ox(r,f):c==="dangerouslySetInnerHTML"?ax(r,f):c==="children"?No(r,f):bm(r,c,f,l)}switch(o){case"input":Rh(r,a);break;case"textarea":nx(r,a);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?qa(r,!!a.multiple,g,!1):d!==!!a.multiple&&(a.defaultValue!=null?qa(r,!!a.multiple,a.defaultValue,!0):qa(r,!!a.multiple,a.multiple?[]:"",!1))}r[Wo]=a}catch(y){nt(t,t.return,y)}}break;case 6:if(Vr(e,t),tn(t),i&4){if(t.stateNode===null)throw Error(J(162));r=t.stateNode,a=t.memoizedProps;try{r.nodeValue=a}catch(y){nt(t,t.return,y)}}break;case 3:if(Vr(e,t),tn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Vo(e.containerInfo)}catch(y){nt(t,t.return,y)}break;case 4:Vr(e,t),tn(t);break;case 13:Vr(e,t),tn(t),r=t.child,r.flags&8192&&(a=r.memoizedState!==null,r.stateNode.isHidden=a,!a||r.alternate!==null&&r.alternate.memoizedState!==null||(rv=lt())),i&4&&gy(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Nt=(l=Nt)||c,Vr(e,t),Nt=l):Vr(e,t),tn(t),i&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!c&&(t.mode&1)!==0)for(he=t,c=t.child;c!==null;){for(f=he=c;he!==null;){switch(d=he,g=d.child,d.tag){case 0:case 11:case 14:case 15:Eo(4,d,d.return);break;case 1:Ua(d,d.return);var _=d.stateNode;if(typeof _.componentWillUnmount=="function"){i=d,n=d.return;try{e=i,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(y){nt(i,n,y)}}break;case 5:Ua(d,d.return);break;case 22:if(d.memoizedState!==null){_y(f);continue}}g!==null?(g.return=d,he=g):_y(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{r=f.stateNode,l?(a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,u=f.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=sx("display",s))}catch(y){nt(t,t.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(y){nt(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Vr(e,t),tn(t),i&4&&gy(t);break;case 21:break;default:Vr(e,t),tn(t)}}function tn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(LS(n)){var i=n;break e}n=n.return}throw Error(J(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(No(r,""),i.flags&=-33);var a=vy(t);vp(t,a,r);break;case 3:case 4:var s=i.stateNode.containerInfo,o=vy(t);mp(t,o,s);break;default:throw Error(J(161))}}catch(u){nt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function vA(t,e,n){he=t,NS(t)}function NS(t,e,n){for(var i=(t.mode&1)!==0;he!==null;){var r=he,a=r.child;if(r.tag===22&&i){var s=r.memoizedState!==null||ml;if(!s){var o=r.alternate,u=o!==null&&o.memoizedState!==null||Nt;o=ml;var l=Nt;if(ml=s,(Nt=u)&&!l)for(he=r;he!==null;)s=he,u=s.child,s.tag===22&&s.memoizedState!==null?Ty(r):u!==null?(u.return=s,he=u):Ty(r);for(;a!==null;)he=a,NS(a),a=a.sibling;he=r,ml=o,Nt=l}yy(t)}else(r.subtreeFlags&8772)!==0&&a!==null?(a.return=r,he=a):yy(t)}}function yy(t){for(;he!==null;){var e=he;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:Nt||dd(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Nt)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Hr(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&ty(e,a,i);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ty(e,s,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Vo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Nt||e.flags&512&&pp(e)}catch(d){nt(e,e.return,d)}}if(e===t){he=null;break}if(n=e.sibling,n!==null){n.return=e.return,he=n;break}he=e.return}}function _y(t){for(;he!==null;){var e=he;if(e===t){he=null;break}var n=e.sibling;if(n!==null){n.return=e.return,he=n;break}he=e.return}}function Ty(t){for(;he!==null;){var e=he;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{dd(4,e)}catch(u){nt(e,n,u)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(u){nt(e,r,u)}}var a=e.return;try{pp(e)}catch(u){nt(e,a,u)}break;case 5:var s=e.return;try{pp(e)}catch(u){nt(e,s,u)}}}catch(u){nt(e,e.return,u)}if(e===t){he=null;break}var o=e.sibling;if(o!==null){o.return=e.return,he=o;break}he=e.return}}var gA=Math.ceil,Ec=zn.ReactCurrentDispatcher,ev=zn.ReactCurrentOwner,Lr=zn.ReactCurrentBatchConfig,Pe=0,xt=null,dt=null,Ot=0,gr=0,Ba=bi(0),gt=0,Yo=null,ra=0,fd=0,tv=0,Co=null,nr=null,rv=0,ls=1/0,_n=null,Cc=!1,gp=null,pi=null,vl=!1,ai=null,wc=0,wo=0,yp=null,ql=-1,Gl=0;function Jt(){return(Pe&6)!==0?lt():ql!==-1?ql:ql=lt()}function mi(t){return(t.mode&1)===0?1:(Pe&2)!==0&&Ot!==0?Ot&-Ot:eA.transition!==null?(Gl===0&&(Gl=_x()),Gl):(t=Re,t!==0||(t=window.event,t=t===void 0?16:wx(t.type)),t)}function Kr(t,e,n,i){if(50<wo)throw wo=0,yp=null,Error(J(185));cu(t,n,i),((Pe&2)===0||t!==xt)&&(t===xt&&((Pe&2)===0&&(fd|=n),gt===4&&ni(t,Ot)),ur(t,i),n===1&&Pe===0&&(e.mode&1)===0&&(ls=lt()+500,ud&&Ei()))}function ur(t,e){var n=t.callbackNode;eP(t,e);var i=lc(t,t===xt?Ot:0);if(i===0)n!==null&&A0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&A0(n),e===1)t.tag===0?ZP(xy.bind(null,t)):Wx(xy.bind(null,t)),XP(function(){(Pe&6)===0&&Ei()}),n=null;else{switch(Tx(i)){case 1:n=Pm;break;case 4:n=gx;break;case 16:n=uc;break;case 536870912:n=yx;break;default:n=uc}n=$S(n,MS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function MS(t,e){if(ql=-1,Gl=0,(Pe&6)!==0)throw Error(J(327));var n=t.callbackNode;if(Ya()&&t.callbackNode!==n)return null;var i=lc(t,t===xt?Ot:0);if(i===0)return null;if((i&30)!==0||(i&t.expiredLanes)!==0||e)e=kc(t,i);else{e=i;var r=Pe;Pe|=2;var a=BS();(xt!==t||Ot!==e)&&(_n=null,ls=lt()+500,Gi(t,e));do try{TA();break}catch(o){US(t,o)}while(1);jm(),Ec.current=a,Pe=r,dt!==null?e=0:(xt=null,Ot=0,e=gt)}if(e!==0){if(e===2&&(r=Wh(t),r!==0&&(i=r,e=_p(t,r))),e===1)throw n=Yo,Gi(t,0),ni(t,i),ur(t,lt()),n;if(e===6)ni(t,i);else{if(r=t.current.alternate,(i&30)===0&&!yA(r)&&(e=kc(t,i),e===2&&(a=Wh(t),a!==0&&(i=a,e=_p(t,a))),e===1))throw n=Yo,Gi(t,0),ni(t,i),ur(t,lt()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(J(345));case 2:Mi(t,nr,_n);break;case 3:if(ni(t,i),(i&130023424)===i&&(e=rv+500-lt(),10<e)){if(lc(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){Jt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Zh(Mi.bind(null,t,nr,_n),e);break}Mi(t,nr,_n);break;case 4:if(ni(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var s=31-Gr(i);a=1<<s,s=e[s],s>r&&(r=s),i&=~a}if(i=r,i=lt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*gA(i/1960))-i,10<i){t.timeoutHandle=Zh(Mi.bind(null,t,nr,_n),i);break}Mi(t,nr,_n);break;case 5:Mi(t,nr,_n);break;default:throw Error(J(329))}}}return ur(t,lt()),t.callbackNode===n?MS.bind(null,t):null}function _p(t,e){var n=Co;return t.current.memoizedState.isDehydrated&&(Gi(t,e).flags|=256),t=kc(t,e),t!==2&&(e=nr,nr=n,e!==null&&Tp(e)),t}function Tp(t){nr===null?nr=t:nr.push.apply(nr,t)}function yA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!Yr(a(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ni(t,e){for(e&=~tv,e&=~fd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Gr(e),i=1<<n;t[n]=-1,e&=~i}}function xy(t){if((Pe&6)!==0)throw Error(J(327));Ya();var e=lc(t,0);if((e&1)===0)return ur(t,lt()),null;var n=kc(t,e);if(t.tag!==0&&n===2){var i=Wh(t);i!==0&&(e=i,n=_p(t,i))}if(n===1)throw n=Yo,Gi(t,0),ni(t,e),ur(t,lt()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Mi(t,nr,_n),ur(t,lt()),null}function nv(t,e){var n=Pe;Pe|=1;try{return t(e)}finally{Pe=n,Pe===0&&(ls=lt()+500,ud&&Ei())}}function na(t){ai!==null&&ai.tag===0&&(Pe&6)===0&&Ya();var e=Pe;Pe|=1;var n=Lr.transition,i=Re;try{if(Lr.transition=null,Re=1,t)return t()}finally{Re=i,Lr.transition=n,Pe=e,(Pe&6)===0&&Ei()}}function iv(){gr=Ba.current,Ge(Ba)}function Gi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,KP(n)),dt!==null)for(n=dt.return;n!==null;){var i=n;switch(Um(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&pc();break;case 3:os(),Ge(sr),Ge(Ut),Gm();break;case 5:qm(i);break;case 4:os();break;case 13:Ge(Ze);break;case 19:Ge(Ze);break;case 10:zm(i.type._context);break;case 22:case 23:iv()}n=n.return}if(xt=t,dt=t=vi(t.current,null),Ot=gr=e,gt=0,Yo=null,tv=fd=ra=0,nr=Co=null,ji!==null){for(e=0;e<ji.length;e++)if(n=ji[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,a=n.pending;if(a!==null){var s=a.next;a.next=r,i.next=s}n.pending=i}ji=null}return t}function US(t,e){do{var n=dt;try{if(jm(),Hl.current=bc,Sc){for(var i=tt.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Sc=!1}if(ta=0,_t=vt=tt=null,bo=!1,Ko=0,ev.current=null,n===null||n.return===null){gt=1,Yo=e,dt=null;break}e:{var a=t,s=n.return,o=n,u=e;if(e=Ot,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=o,f=c.tag;if((c.mode&1)===0&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=uy(s);if(g!==null){g.flags&=-257,ly(g,s,o,a,e),g.mode&1&&oy(a,l,e),e=g,u=l;var _=e.updateQueue;if(_===null){var y=new Set;y.add(u),e.updateQueue=y}else _.add(u);break e}else{if((e&1)===0){oy(a,l,e),av();break e}u=Error(J(426))}}else if(Ye&&o.mode&1){var x=uy(s);if(x!==null){(x.flags&65536)===0&&(x.flags|=256),ly(x,s,o,a,e),Bm(us(u,o));break e}}a=u=us(u,o),gt!==4&&(gt=2),Co===null?Co=[a]:Co.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var T=xS(a,u,e);ey(a,T);break e;case 1:o=u;var E=a.type,w=a.stateNode;if((a.flags&128)===0&&(typeof E.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(pi===null||!pi.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var k=SS(a,o,e);ey(a,k);break e}}a=a.return}while(a!==null)}jS(n)}catch(I){e=I,dt===n&&n!==null&&(dt=n=n.return);continue}break}while(1)}function BS(){var t=Ec.current;return Ec.current=bc,t===null?bc:t}function av(){(gt===0||gt===3||gt===2)&&(gt=4),xt===null||(ra&268435455)===0&&(fd&268435455)===0||ni(xt,Ot)}function kc(t,e){var n=Pe;Pe|=2;var i=BS();(xt!==t||Ot!==e)&&(_n=null,Gi(t,e));do try{_A();break}catch(r){US(t,r)}while(1);if(jm(),Pe=n,Ec.current=i,dt!==null)throw Error(J(261));return xt=null,Ot=0,gt}function _A(){for(;dt!==null;)VS(dt)}function TA(){for(;dt!==null&&!Wk();)VS(dt)}function VS(t){var e=HS(t.alternate,t,gr);t.memoizedProps=t.pendingProps,e===null?jS(t):dt=e,ev.current=null}function jS(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=fA(n,e,gr),n!==null){dt=n;return}}else{if(n=hA(n,e),n!==null){n.flags&=32767,dt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{gt=6,dt=null;return}}if(e=e.sibling,e!==null){dt=e;return}dt=e=t}while(e!==null);gt===0&&(gt=5)}function Mi(t,e,n){var i=Re,r=Lr.transition;try{Lr.transition=null,Re=1,xA(t,e,n,i)}finally{Lr.transition=r,Re=i}return null}function xA(t,e,n,i){do Ya();while(ai!==null);if((Pe&6)!==0)throw Error(J(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(tP(t,a),t===xt&&(dt=xt=null,Ot=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||vl||(vl=!0,$S(uc,function(){return Ya(),null})),a=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||a){a=Lr.transition,Lr.transition=null;var s=Re;Re=1;var o=Pe;Pe|=4,ev.current=null,mA(t,n),RS(n,t),jP(Yh),cc=!!Qh,Yh=Qh=null,t.current=n,vA(n),qk(),Pe=o,Re=s,Lr.transition=a}else t.current=n;if(vl&&(vl=!1,ai=t,wc=r),a=t.pendingLanes,a===0&&(pi=null),Xk(n.stateNode),ur(t,lt()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Cc)throw Cc=!1,t=gp,gp=null,t;return(wc&1)!==0&&t.tag!==0&&Ya(),a=t.pendingLanes,(a&1)!==0?t===yp?wo++:(wo=0,yp=t):wo=0,Ei(),null}function Ya(){if(ai!==null){var t=Tx(wc),e=Lr.transition,n=Re;try{if(Lr.transition=null,Re=16>t?16:t,ai===null)var i=!1;else{if(t=ai,ai=null,wc=0,(Pe&6)!==0)throw Error(J(331));var r=Pe;for(Pe|=4,he=t.current;he!==null;){var a=he,s=a.child;if((he.flags&16)!==0){var o=a.deletions;if(o!==null){for(var u=0;u<o.length;u++){var l=o[u];for(he=l;he!==null;){var c=he;switch(c.tag){case 0:case 11:case 15:Eo(8,c,a)}var f=c.child;if(f!==null)f.return=c,he=f;else for(;he!==null;){c=he;var d=c.sibling,g=c.return;if(DS(c),c===l){he=null;break}if(d!==null){d.return=g,he=d;break}he=g}}}var _=a.alternate;if(_!==null){var y=_.child;if(y!==null){_.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}he=a}}if((a.subtreeFlags&2064)!==0&&s!==null)s.return=a,he=s;else e:for(;he!==null;){if(a=he,(a.flags&2048)!==0)switch(a.tag){case 0:case 11:case 15:Eo(9,a,a.return)}var T=a.sibling;if(T!==null){T.return=a.return,he=T;break e}he=a.return}}var E=t.current;for(he=E;he!==null;){s=he;var w=s.child;if((s.subtreeFlags&2064)!==0&&w!==null)w.return=s,he=w;else e:for(s=E;he!==null;){if(o=he,(o.flags&2048)!==0)try{switch(o.tag){case 0:case 11:case 15:dd(9,o)}}catch(I){nt(o,o.return,I)}if(o===s){he=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,he=k;break e}he=o.return}}if(Pe=r,Ei(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(nd,t)}catch{}i=!0}return i}finally{Re=n,Lr.transition=e}}return!1}function Sy(t,e,n){e=us(n,e),e=xS(t,e,1),t=hi(t,e,1),e=Jt(),t!==null&&(cu(t,1,e),ur(t,e))}function nt(t,e,n){if(t.tag===3)Sy(t,t,n);else for(;e!==null;){if(e.tag===3){Sy(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(pi===null||!pi.has(i))){t=us(n,t),t=SS(e,t,1),e=hi(e,t,1),t=Jt(),e!==null&&(cu(e,1,t),ur(e,t));break}}e=e.return}}function SA(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Jt(),t.pingedLanes|=t.suspendedLanes&n,xt===t&&(Ot&n)===n&&(gt===4||gt===3&&(Ot&130023424)===Ot&&500>lt()-rv?Gi(t,0):tv|=n),ur(t,e)}function zS(t,e){e===0&&((t.mode&1)===0?e=1:(e=sl,sl<<=1,(sl&130023424)===0&&(sl=4194304)));var n=Jt();t=Rn(t,e),t!==null&&(cu(t,e,n),ur(t,n))}function bA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),zS(t,n)}function EA(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(J(314))}i!==null&&i.delete(e),zS(t,n)}var HS;HS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||sr.current)ar=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return ar=!1,dA(t,e,n);ar=(t.flags&131072)!==0}else ar=!1,Ye&&(e.flags&1048576)!==0&&qx(e,gc,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Wl(t,e),t=e.pendingProps;var r=is(e,Ut.current);Qa(e,n),r=Xm(null,e,i,t,r,n);var a=Qm();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,or(i)?(a=!0,mc(e)):a=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,$m(e),r.updater=ld,e.stateNode=r,r._reactInternals=e,sp(e,i,t,n),e=lp(null,e,i,!0,a,n)):(e.tag=0,Ye&&a&&Mm(e),qt(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Wl(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=wA(i),t=Hr(i,t),r){case 0:e=up(null,e,i,t,n);break e;case 1:e=fy(null,e,i,t,n);break e;case 11:e=cy(null,e,i,t,n);break e;case 14:e=dy(null,e,i,Hr(i.type,t),n);break e}throw Error(J(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Hr(i,r),up(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Hr(i,r),fy(t,e,i,r,n);case 3:e:{if(wS(e),t===null)throw Error(J(387));i=e.pendingProps,a=e.memoizedState,r=a.element,Qx(t,e),Tc(e,i,null,n);var s=e.memoizedState;if(i=s.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){r=us(Error(J(423)),e),e=hy(t,e,i,n,r);break e}else if(i!==r){r=us(Error(J(424)),e),e=hy(t,e,i,n,r);break e}else for(_r=fi(e.stateNode.containerInfo.firstChild),xr=e,Ye=!0,Wr=null,n=eS(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(as(),i===r){e=Nn(t,e,n);break e}qt(t,e,i,n)}e=e.child}return e;case 5:return tS(e),t===null&&np(e),i=e.type,r=e.pendingProps,a=t!==null?t.memoizedProps:null,s=r.children,Jh(i,r)?s=null:a!==null&&Jh(i,a)&&(e.flags|=32),CS(t,e),qt(t,e,s,n),e.child;case 6:return t===null&&np(e),null;case 13:return kS(t,e,n);case 4:return Wm(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=ss(e,null,i,n):qt(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Hr(i,r),cy(t,e,i,r,n);case 7:return qt(t,e,e.pendingProps,n),e.child;case 8:return qt(t,e,e.pendingProps.children,n),e.child;case 12:return qt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,a=e.memoizedProps,s=r.value,ze(yc,i._currentValue),i._currentValue=s,a!==null)if(Yr(a.value,s)){if(a.children===r.children&&!sr.current){e=Nn(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var u=o.firstContext;u!==null;){if(u.context===i){if(a.tag===1){u=Pn(-1,n&-n),u.tag=2;var l=a.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),ip(a.return,n,e),o.lanes|=n;break}u=u.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(J(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),ip(s,n,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}qt(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Qa(e,n),r=Mr(r),i=i(r),e.flags|=1,qt(t,e,i,n),e.child;case 14:return i=e.type,r=Hr(i,e.pendingProps),r=Hr(i.type,r),dy(t,e,i,r,n);case 15:return bS(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Hr(i,r),Wl(t,e),e.tag=1,or(i)?(t=!0,mc(e)):t=!1,Qa(e,n),Jx(e,i,r),sp(e,i,r,n),lp(null,e,i,!0,t,n);case 19:return PS(t,e,n);case 22:return ES(t,e,n)}throw Error(J(156,e.tag))};function $S(t,e){return vx(t,e)}function CA(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dr(t,e,n,i){return new CA(t,e,n,i)}function sv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wA(t){if(typeof t=="function")return sv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Cm)return 11;if(t===wm)return 14}return 2}function vi(t,e){var n=t.alternate;return n===null?(n=Dr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Kl(t,e,n,i,r,a){var s=2;if(i=t,typeof t=="function")sv(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Aa:return Ki(n.children,r,a,e);case Em:s=8,r|=8;break;case Ih:return t=Dr(12,n,e,r|2),t.elementType=Ih,t.lanes=a,t;case Oh:return t=Dr(13,n,e,r),t.elementType=Oh,t.lanes=a,t;case Dh:return t=Dr(19,n,e,r),t.elementType=Dh,t.lanes=a,t;case ZT:return hd(n,r,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case YT:s=10;break e;case JT:s=9;break e;case Cm:s=11;break e;case wm:s=14;break e;case Zn:s=16,i=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=Dr(s,n,e,r),e.elementType=t,e.type=i,e.lanes=a,e}function Ki(t,e,n,i){return t=Dr(7,t,i,e),t.lanes=n,t}function hd(t,e,n,i){return t=Dr(22,t,i,e),t.elementType=ZT,t.lanes=n,t.stateNode={isHidden:!1},t}function jf(t,e,n){return t=Dr(6,t,null,e),t.lanes=n,t}function zf(t,e,n){return e=Dr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function kA(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sf(0),this.expirationTimes=Sf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sf(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function ov(t,e,n,i,r,a,s,o,u){return t=new kA(t,e,n,o,u),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Dr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$m(a),t}function PA(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pa,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function WS(t){if(!t)return yi;t=t._reactInternals;e:{if(ua(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(or(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(or(n))return $x(t,n,e)}return e}function qS(t,e,n,i,r,a,s,o,u){return t=ov(n,i,!0,t,r,a,s,o,u),t.context=WS(null),n=t.current,i=Jt(),r=mi(n),a=Pn(i,r),a.callback=e!=null?e:null,hi(n,a,r),t.current.lanes=r,cu(t,r,i),ur(t,i),t}function pd(t,e,n,i){var r=e.current,a=Jt(),s=mi(r);return n=WS(n),e.context===null?e.context=n:e.pendingContext=n,e=Pn(a,s),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=hi(r,e,s),t!==null&&(Kr(t,r,s,a),zl(t,r,s)),s}function Pc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function by(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function uv(t,e){by(t,e),(t=t.alternate)&&by(t,e)}function AA(){return null}var GS=typeof reportError=="function"?reportError:function(t){console.error(t)};function lv(t){this._internalRoot=t}md.prototype.render=lv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));pd(t,e,null,null)};md.prototype.unmount=lv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;na(function(){pd(null,t,null,null)}),e[Fn]=null}};function md(t){this._internalRoot=t}md.prototype.unstable_scheduleHydration=function(t){if(t){var e=bx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ri.length&&e!==0&&e<ri[n].priority;n++);ri.splice(n,0,t),n===0&&Cx(t)}};function cv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ey(){}function IA(t,e,n,i,r){if(r){if(typeof i=="function"){var a=i;i=function(){var l=Pc(s);a.call(l)}}var s=qS(e,i,t,0,null,!1,!1,"",Ey);return t._reactRootContainer=s,t[Fn]=s.current,Ho(t.nodeType===8?t.parentNode:t),na(),s}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var o=i;i=function(){var l=Pc(u);o.call(l)}}var u=ov(t,0,!1,null,null,!1,!1,"",Ey);return t._reactRootContainer=u,t[Fn]=u.current,Ho(t.nodeType===8?t.parentNode:t),na(function(){pd(e,u,n,i)}),u}function gd(t,e,n,i,r){var a=n._reactRootContainer;if(a){var s=a;if(typeof r=="function"){var o=r;r=function(){var u=Pc(s);o.call(u)}}pd(e,s,t,r)}else s=IA(n,e,t,r,i);return Pc(s)}xx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=uo(e.pendingLanes);n!==0&&(Am(e,n|1),ur(e,lt()),(Pe&6)===0&&(ls=lt()+500,Ei()))}break;case 13:na(function(){var i=Rn(t,1);if(i!==null){var r=Jt();Kr(i,t,1,r)}}),uv(t,1)}};Im=function(t){if(t.tag===13){var e=Rn(t,134217728);if(e!==null){var n=Jt();Kr(e,t,134217728,n)}uv(t,134217728)}};Sx=function(t){if(t.tag===13){var e=mi(t),n=Rn(t,e);if(n!==null){var i=Jt();Kr(n,t,e,i)}uv(t,e)}};bx=function(){return Re};Ex=function(t,e){var n=Re;try{return Re=t,e()}finally{Re=n}};zh=function(t,e,n){switch(e){case"input":if(Rh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=od(i);if(!r)throw Error(J(90));tx(i),Rh(i,r)}}}break;case"textarea":nx(t,n);break;case"select":e=n.value,e!=null&&qa(t,!!n.multiple,e,!1)}};cx=nv;dx=na;var OA={usingClientEntryPoint:!1,Events:[fu,La,od,ux,lx,nv]},Ys={findFiberByHostInstance:Vi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},DA={bundleType:Ys.bundleType,version:Ys.version,rendererPackageName:Ys.rendererPackageName,rendererConfig:Ys.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=px(t),t===null?null:t.stateNode},findFiberByHostInstance:Ys.findFiberByHostInstance||AA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gl.isDisabled&&gl.supportsFiber)try{nd=gl.inject(DA),cn=gl}catch{}}Er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OA;Er.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cv(e))throw Error(J(200));return PA(t,e,null,n)};Er.createRoot=function(t,e){if(!cv(t))throw Error(J(299));var n=!1,i="",r=GS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=ov(t,1,!1,null,null,n,!1,i,r),t[Fn]=e.current,Ho(t.nodeType===8?t.parentNode:t),new lv(e)};Er.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=px(e),t=t===null?null:t.stateNode,t};Er.flushSync=function(t){return na(t)};Er.hydrate=function(t,e,n){if(!vd(e))throw Error(J(200));return gd(null,t,e,!0,n)};Er.hydrateRoot=function(t,e,n){if(!cv(t))throw Error(J(405));var i=n!=null&&n.hydratedSources||null,r=!1,a="",s=GS;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=qS(e,null,t,1,n!=null?n:null,r,!1,a,s),t[Fn]=e.current,Ho(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new md(e)};Er.render=function(t,e,n){if(!vd(e))throw Error(J(200));return gd(null,t,e,!1,n)};Er.unmountComponentAtNode=function(t){if(!vd(t))throw Error(J(40));return t._reactRootContainer?(na(function(){gd(null,null,t,!1,function(){t._reactRootContainer=null,t[Fn]=null})}),!0):!1};Er.unstable_batchedUpdates=nv;Er.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!vd(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return gd(t,e,n,!1,i)};Er.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Er})(Tm);const LA=UT(Tm.exports);var Cy=Tm.exports;Ph.createRoot=Cy.createRoot,Ph.hydrateRoot=Cy.hydrateRoot;var co;typeof window<"u"?co=window:typeof ic<"u"?co=ic:typeof self<"u"?co=self:co={};var R=co;const FA={},RA=Object.freeze(Object.defineProperty({__proto__:null,default:FA},Symbol.toStringTag,{value:"Module"})),NA=BT(RA);var wy=typeof ic<"u"?ic:typeof window<"u"?window:{},MA=NA,fo;typeof document<"u"?fo=document:(fo=wy["__GLOBAL_DOCUMENT_CACHE@4"],fo||(fo=wy["__GLOBAL_DOCUMENT_CACHE@4"]=MA));var te=fo;function bt(){return bt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},bt.apply(this,arguments)}const UA=Object.freeze(Object.defineProperty({__proto__:null,default:bt},Symbol.toStringTag,{value:"Module"}));var xp={exports:{}};(function(t,e){function n(u){if(u&&typeof u=="object"){var l=u.which||u.keyCode||u.charCode;l&&(u=l)}if(typeof u=="number")return s[u];var c=String(u),f=i[c.toLowerCase()];if(f)return f;var f=r[c.toLowerCase()];if(f)return f;if(c.length===1)return c.charCodeAt(0)}n.isEventKey=function(l,c){if(l&&typeof l=="object"){var f=l.which||l.keyCode||l.charCode;if(f==null)return!1;if(typeof c=="string"){var d=i[c.toLowerCase()];if(d)return d===f;var d=r[c.toLowerCase()];if(d)return d===f}else if(typeof c=="number")return c===f;return!1}},e=t.exports=n;var i=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=e.aliases={windows:91,"\u21E7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(a=97;a<123;a++)i[String.fromCharCode(a)]=a-32;for(var a=48;a<58;a++)i[a-48]=a;for(a=1;a<13;a++)i["f"+a]=a+111;for(a=0;a<10;a++)i["numpad "+a]=a+96;var s=e.names=e.title={};for(a in i)s[i[a]]=a;for(var o in r)i[o]=r[o]})(xp,xp.exports);const Te=xp.exports;function _e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jo(t,e){return Jo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},Jo(t,e)}function ie(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Jo(t,e)}var BA=VA;function VA(t,e){var n,i=null;try{n=JSON.parse(t,e)}catch(r){i=r}return[i,n]}var yd={exports:{}};const jA=BT(UA);var zA=$A,HA=Object.prototype.toString;function $A(t){if(!t)return!1;var e=HA.call(t);return e==="[object Function]"||typeof t=="function"&&e!=="[object RegExp]"||typeof window<"u"&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}var WA=R,qA=function(e,n){return n===void 0&&(n=!1),function(i,r,a){if(i){e(i);return}if(r.statusCode>=400&&r.statusCode<=599){var s=a;if(n)if(WA.TextDecoder){var o=GA(r.headers&&r.headers["content-type"]);try{s=new TextDecoder(o).decode(a)}catch{}}else s=String.fromCharCode.apply(null,new Uint8Array(a));e({cause:s});return}e(null,a)}};function GA(t){return t===void 0&&(t=""),t.toLowerCase().split(";").reduce(function(e,n){var i=n.split("="),r=i[0],a=i[1];return r.trim()==="charset"?a.trim():e},"utf-8")}var KA=qA,KS=R,XA=jA,QA=zA;fn.httpHandler=KA;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Bjrklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var YA=function(e){var n={};return e&&e.trim().split(`
`).forEach(function(i){var r=i.indexOf(":"),a=i.slice(0,r).trim().toLowerCase(),s=i.slice(r+1).trim();typeof n[a]>"u"?n[a]=s:Array.isArray(n[a])?n[a].push(s):n[a]=[n[a],s]}),n};yd.exports=fn;yd.exports.default=fn;fn.XMLHttpRequest=KS.XMLHttpRequest||tI;fn.XDomainRequest="withCredentials"in new fn.XMLHttpRequest?fn.XMLHttpRequest:KS.XDomainRequest;JA(["get","put","post","patch","head","delete"],function(t){fn[t==="delete"?"del":t]=function(e,n,i){return n=XS(e,n,i),n.method=t.toUpperCase(),QS(n)}});function JA(t,e){for(var n=0;n<t.length;n++)e(t[n])}function ZA(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function XS(t,e,n){var i=t;return QA(e)?(n=e,typeof t=="string"&&(i={uri:t})):i=XA({},e,{uri:t}),i.callback=n,i}function fn(t,e,n){return e=XS(t,e,n),QS(e)}function QS(t){if(typeof t.callback>"u")throw new Error("callback argument missing");var e=!1,n=function(w,k,I){e||(e=!0,t.callback(w,k,I))};function i(){o.readyState===4&&setTimeout(s,0)}function r(){var E=void 0;if(o.response?E=o.response:E=o.responseText||eI(o),y)try{E=JSON.parse(E)}catch{}return E}function a(E){return clearTimeout(x),E instanceof Error||(E=new Error(""+(E||"Unknown XMLHttpRequest Error"))),E.statusCode=0,n(E,T)}function s(){if(!l){var E;clearTimeout(x),t.useXDR&&o.status===void 0?E=200:E=o.status===1223?204:o.status;var w=T,k=null;return E!==0?(w={body:r(),statusCode:E,method:f,headers:{},url:c,rawRequest:o},o.getAllResponseHeaders&&(w.headers=YA(o.getAllResponseHeaders()))):k=new Error("Internal XMLHttpRequest Error"),n(k,w,w.body)}}var o=t.xhr||null;o||(t.cors||t.useXDR?o=new fn.XDomainRequest:o=new fn.XMLHttpRequest);var u,l,c=o.url=t.uri||t.url,f=o.method=t.method||"GET",d=t.body||t.data,g=o.headers=t.headers||{},_=!!t.sync,y=!1,x,T={body:void 0,headers:{},statusCode:0,method:f,url:c,rawRequest:o};if("json"in t&&t.json!==!1&&(y=!0,g.accept||g.Accept||(g.Accept="application/json"),f!=="GET"&&f!=="HEAD"&&(g["content-type"]||g["Content-Type"]||(g["Content-Type"]="application/json"),d=JSON.stringify(t.json===!0?d:t.json))),o.onreadystatechange=i,o.onload=s,o.onerror=a,o.onprogress=function(){},o.onabort=function(){l=!0},o.ontimeout=a,o.open(f,c,!_,t.username,t.password),_||(o.withCredentials=!!t.withCredentials),!_&&t.timeout>0&&(x=setTimeout(function(){if(!l){l=!0,o.abort("timeout");var E=new Error("XMLHttpRequest timeout");E.code="ETIMEDOUT",a(E)}},t.timeout)),o.setRequestHeader)for(u in g)g.hasOwnProperty(u)&&o.setRequestHeader(u,g[u]);else if(t.headers&&!ZA(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(o.responseType=t.responseType),"beforeSend"in t&&typeof t.beforeSend=="function"&&t.beforeSend(o),o.send(d||null),o}function eI(t){try{if(t.responseType==="document")return t.responseXML;var e=t.responseXML&&t.responseXML.documentElement.nodeName==="parsererror";if(t.responseType===""&&!e)return t.responseXML}catch{}return null}function tI(){}var Sp={exports:{}},ky=te,dv=Object.create||function(){function t(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function yr(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}yr.prototype=dv(Error.prototype);yr.prototype.constructor=yr;yr.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function fv(t){function e(i,r,a,s){return(i|0)*3600+(r|0)*60+(a|0)+(s|0)/1e3}var n=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}function ko(){this.values=dv(null)}ko.prototype={set:function(t,e){!this.get(t)&&e!==""&&(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var i=0;i<n.length;++i)if(e===n[i]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(t,e),!0):!1}};function ho(t,e,n,i){var r=i?t.split(i):[t];for(var a in r)if(typeof r[a]=="string"){var s=r[a].split(n);if(s.length===2){var o=s[0].trim(),u=s[1].trim();e(o,u)}}}function rI(t,e,n){var i=t;function r(){var o=fv(t);if(o===null)throw new yr(yr.Errors.BadTimeStamp,"Malformed timestamp: "+i);return t=t.replace(/^[^\sa-zA-Z-]+/,""),o}function a(o,u){var l=new ko;ho(o,function(c,f){switch(c){case"region":for(var d=n.length-1;d>=0;d--)if(n[d].id===f){l.set(c,n[d].region);break}break;case"vertical":l.alt(c,f,["rl","lr"]);break;case"line":var g=f.split(","),_=g[0];l.integer(c,_),l.percent(c,_)&&l.set("snapToLines",!1),l.alt(c,_,["auto"]),g.length===2&&l.alt("lineAlign",g[1],["start","center","end"]);break;case"position":g=f.split(","),l.percent(c,g[0]),g.length===2&&l.alt("positionAlign",g[1],["start","center","end"]);break;case"size":l.percent(c,f);break;case"align":l.alt(c,f,["start","center","end","left","right"]);break}},/:/,/\s/),u.region=l.get("region",null),u.vertical=l.get("vertical","");try{u.line=l.get("line","auto")}catch{}u.lineAlign=l.get("lineAlign","start"),u.snapToLines=l.get("snapToLines",!0),u.size=l.get("size",100);try{u.align=l.get("align","center")}catch{u.align=l.get("align","middle")}try{u.position=l.get("position","auto")}catch{u.position=l.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},u.align)}u.positionAlign=l.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},u.align)}function s(){t=t.replace(/^\s+/,"")}if(s(),e.startTime=r(),s(),t.substr(0,3)!=="-->")throw new yr(yr.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+i);t=t.substr(3),s(),e.endTime=r(),s(),a(t,e)}var Hf=ky.createElement&&ky.createElement("textarea"),nI={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},Py={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},iI={v:"title",lang:"lang"},Ay={rt:"ruby"};function YS(t,e){function n(){if(!e)return null;function _(x){return e=e.substr(x.length),x}var y=e.match(/^([^<]*)(<[^>]*>?)?/);return _(y[1]?y[1]:y[2])}function i(_){return Hf.innerHTML=_,_=Hf.textContent,Hf.textContent="",_}function r(_,y){return!Ay[y.localName]||Ay[y.localName]===_.localName}function a(_,y){var x=nI[_];if(!x)return null;var T=t.document.createElement(x),E=iI[_];return E&&y&&(T[E]=y.trim()),T}for(var s=t.document.createElement("div"),o=s,u,l=[];(u=n())!==null;){if(u[0]==="<"){if(u[1]==="/"){l.length&&l[l.length-1]===u.substr(2).replace(">","")&&(l.pop(),o=o.parentNode);continue}var c=fv(u.substr(1,u.length-2)),f;if(c){f=t.document.createProcessingInstruction("timestamp",c),o.appendChild(f);continue}var d=u.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!d||(f=a(d[1],d[3]),!f)||!r(o,f))continue;if(d[2]){var g=d[2].split(".");g.forEach(function(_){var y=/^bg_/.test(_),x=y?_.slice(3):_;if(Py.hasOwnProperty(x)){var T=y?"background-color":"color",E=Py[x];f.style[T]=E}}),f.className=g.join(" ")}l.push(d[1]),o.appendChild(f),o=f;continue}o.appendChild(t.document.createTextNode(i(u)))}return s}var Iy=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function aI(t){for(var e=0;e<Iy.length;e++){var n=Iy[e];if(t>=n[0]&&t<=n[1])return!0}return!1}function sI(t){var e=[],n="",i;if(!t||!t.childNodes)return"ltr";function r(o,u){for(var l=u.childNodes.length-1;l>=0;l--)o.push(u.childNodes[l])}function a(o){if(!o||!o.length)return null;var u=o.pop(),l=u.textContent||u.innerText;if(l){var c=l.match(/^.*(\n|\r)/);return c?(o.length=0,c[0]):l}if(u.tagName==="ruby")return a(o);if(u.childNodes)return r(o,u),a(o)}for(r(e,t);n=a(e);)for(var s=0;s<n.length;s++)if(i=n.charCodeAt(s),aI(i))return"rtl";return"ltr"}function oI(t){if(typeof t.line=="number"&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,n=e.textTrackList,i=0,r=0;r<n.length&&n[r]!==e;r++)n[r].mode==="showing"&&i++;return++i*-1}function _d(){}_d.prototype.applyStyles=function(t,e){e=e||this.div;for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n])};_d.prototype.formatStyle=function(t,e){return t===0?0:t+e};function Ac(t,e,n){_d.call(this),this.cue=e,this.cueDiv=YS(t,e.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=t.document.createElement("div"),i={direction:sI(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var r=0;switch(e.positionAlign){case"start":r=e.position;break;case"center":r=e.position-e.size/2;break;case"end":r=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(a){this.applyStyles({top:this.formatStyle(a.top,"px"),bottom:this.formatStyle(a.bottom,"px"),left:this.formatStyle(a.left,"px"),right:this.formatStyle(a.right,"px"),height:this.formatStyle(a.height,"px"),width:this.formatStyle(a.width,"px")})}}Ac.prototype=dv(_d.prototype);Ac.prototype.constructor=Ac;function Kt(t){var e,n,i,r;if(t.div){n=t.div.offsetHeight,i=t.div.offsetWidth,r=t.div.offsetTop;var a=(a=t.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();t=t.div.getBoundingClientRect(),e=a?Math.max(a[0]&&a[0].height||0,t.height/a.length):0}this.left=t.left,this.right=t.right,this.top=t.top||r,this.height=t.height||n,this.bottom=t.bottom||r+(t.height||n),this.width=t.width||i,this.lineHeight=e!==void 0?e:t.lineHeight}Kt.prototype.move=function(t,e){switch(e=e!==void 0?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}};Kt.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top};Kt.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1};Kt.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right};Kt.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}};Kt.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),n=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),i=e*n;return i/(this.height*this.width)};Kt.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}};Kt.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,n=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,i=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var r={left:t.left,right:t.right,top:t.top||i,height:t.height||e,bottom:t.bottom||i+(t.height||e),width:t.width||n};return r};function uI(t,e,n,i){function r(x,T){for(var E,w=new Kt(x),k=1,I=0;I<T.length;I++){for(;x.overlapsOppositeAxis(n,T[I])||x.within(n)&&x.overlapsAny(i);)x.move(T[I]);if(x.within(n))return x;var D=x.intersectPercentage(n);k>D&&(E=new Kt(x),k=D),x=new Kt(w)}return E||w}var a=new Kt(e),s=e.cue,o=oI(s),u=[];if(s.snapToLines){var l;switch(s.vertical){case"":u=["+y","-y"],l="height";break;case"rl":u=["+x","-x"],l="width";break;case"lr":u=["-x","+x"],l="width";break}var c=a.lineHeight,f=c*Math.round(o),d=n[l]+c,g=u[0];Math.abs(f)>d&&(f=f<0?-1:1,f*=Math.ceil(d/c)*c),o<0&&(f+=s.vertical===""?n.height:n.width,u=u.reverse()),a.move(g,f)}else{var _=a.lineHeight/n.height*100;switch(s.lineAlign){case"center":o-=_/2;break;case"end":o-=_;break}switch(s.vertical){case"":e.applyStyles({top:e.formatStyle(o,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(o,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(o,"%")});break}u=["+y","-x","+x","-y"],a=new Kt(e)}var y=r(a,u);e.move(y.toCSSCompatValues(n))}function Ps(){}Ps.StringDecoder=function(){return{decode:function(t){if(!t)return"";if(typeof t!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};Ps.convertCueToDOMTree=function(t,e){return!t||!e?null:YS(t,e)};var lI=.05,cI="sans-serif",dI="1.5%";Ps.processCues=function(t,e,n){if(!t||!e||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=t.document.createElement("div");i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin=dI,n.appendChild(i);function r(c){for(var f=0;f<c.length;f++)if(c[f].hasBeenReset||!c[f].displayState)return!0;return!1}if(!r(e)){for(var a=0;a<e.length;a++)i.appendChild(e[a].displayState);return}var s=[],o=Kt.getSimpleBoxPosition(i),u=Math.round(o.height*lI*100)/100,l={font:u+"px "+cI};(function(){for(var c,f,d=0;d<e.length;d++)f=e[d],c=new Ac(t,f,l),i.appendChild(c.div),uI(t,c,o,s),f.displayState=c.div,s.push(Kt.getSimpleBoxPosition(c))})()};Ps.Parser=function(t,e,n){n||(n=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]};Ps.Parser.prototype={reportOrThrowError:function(t){if(t instanceof yr)this.onparsingerror&&this.onparsingerror(t);else throw t},parse:function(t){var e=this;t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));function n(){for(var c=e.buffer,f=0;f<c.length&&c[f]!=="\r"&&c[f]!==`
`;)++f;var d=c.substr(0,f);return c[f]==="\r"&&++f,c[f]===`
`&&++f,e.buffer=c.substr(f),d}function i(c){var f=new ko;if(ho(c,function(g,_){switch(g){case"id":f.set(g,_);break;case"width":f.percent(g,_);break;case"lines":f.integer(g,_);break;case"regionanchor":case"viewportanchor":var y=_.split(",");if(y.length!==2)break;var x=new ko;if(x.percent("x",y[0]),x.percent("y",y[1]),!x.has("x")||!x.has("y"))break;f.set(g+"X",x.get("x")),f.set(g+"Y",x.get("y"));break;case"scroll":f.alt(g,_,["up"]);break}},/=/,/\s/),f.has("id")){var d=new(e.vttjs.VTTRegion||e.window.VTTRegion);d.width=f.get("width",100),d.lines=f.get("lines",3),d.regionAnchorX=f.get("regionanchorX",0),d.regionAnchorY=f.get("regionanchorY",100),d.viewportAnchorX=f.get("viewportanchorX",0),d.viewportAnchorY=f.get("viewportanchorY",100),d.scroll=f.get("scroll",""),e.onregion&&e.onregion(d),e.regionList.push({id:f.get("id"),region:d})}}function r(c){var f=new ko;ho(c,function(d,g){switch(d){case"MPEGT":f.integer(d+"S",g);break;case"LOCA":f.set(d+"L",fv(g));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:f.get("MPEGTS"),LOCAL:f.get("LOCAL")})}function a(c){c.match(/X-TIMESTAMP-MAP/)?ho(c,function(f,d){switch(f){case"X-TIMESTAMP-MAP":r(d);break}},/=/):ho(c,function(f,d){switch(f){case"Region":i(d);break}},/:/)}try{var s;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;s=n();var o=s.match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new yr(yr.Errors.BadSignature);e.state="HEADER"}for(var u=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(u?u=!1:s=n(),e.state){case"HEADER":/:/.test(s)?a(s):s||(e.state="ID");continue;case"NOTE":s||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){e.state="NOTE";break}if(!s)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",s.indexOf("-->")===-1){e.cue.id=s;continue}case"CUE":try{rI(s,e.cue,e.regionList)}catch(c){e.reportOrThrowError(c),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var l=s.indexOf("-->")!==-1;if(!s||l&&(u=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=s.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":s||(e.state="ID");continue}}}catch(c){e.reportOrThrowError(c),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||t.state==="HEADER")&&(t.buffer+=`

`,t.parse()),t.state==="INITIAL")throw new yr(yr.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var fI=Ps,hI="auto",pI={"":1,lr:1,rl:1},mI={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function vI(t){if(typeof t!="string")return!1;var e=pI[t.toLowerCase()];return e?t.toLowerCase():!1}function $f(t){if(typeof t!="string")return!1;var e=mI[t.toLowerCase()];return e?t.toLowerCase():!1}function JS(t,e,n){this.hasBeenReset=!1;var i="",r=!1,a=t,s=e,o=n,u=null,l="",c=!0,f="auto",d="start",g="auto",_="auto",y=100,x="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return i},set:function(T){i=""+T}},pauseOnExit:{enumerable:!0,get:function(){return r},set:function(T){r=!!T}},startTime:{enumerable:!0,get:function(){return a},set:function(T){if(typeof T!="number")throw new TypeError("Start time must be set to a number.");a=T,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return s},set:function(T){if(typeof T!="number")throw new TypeError("End time must be set to a number.");s=T,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return o},set:function(T){o=""+T,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return u},set:function(T){u=T,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return l},set:function(T){var E=vI(T);if(E===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");l=E,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:function(T){c=!!T,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return f},set:function(T){if(typeof T!="number"&&T!==hI)throw new SyntaxError("Line: an invalid number or illegal string was specified.");f=T,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return d},set:function(T){var E=$f(T);E?(d=E,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return g},set:function(T){if(T<0||T>100)throw new Error("Position must be between 0 and 100.");g=T,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return _},set:function(T){var E=$f(T);E?(_=E,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return y},set:function(T){if(T<0||T>100)throw new Error("Size must be between 0 and 100.");y=T,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return x},set:function(T){var E=$f(T);if(!E)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");x=E,this.hasBeenReset=!0}}}),this.displayState=void 0}JS.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var gI=JS,yI={"":!0,up:!0};function _I(t){if(typeof t!="string")return!1;var e=yI[t.toLowerCase()];return e?t.toLowerCase():!1}function Js(t){return typeof t=="number"&&t>=0&&t<=100}function TI(){var t=100,e=3,n=0,i=100,r=0,a=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(o){if(!Js(o))throw new Error("Width must be between 0 and 100.");t=o}},lines:{enumerable:!0,get:function(){return e},set:function(o){if(typeof o!="number")throw new TypeError("Lines must be set to a number.");e=o}},regionAnchorY:{enumerable:!0,get:function(){return i},set:function(o){if(!Js(o))throw new Error("RegionAnchorX must be between 0 and 100.");i=o}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(o){if(!Js(o))throw new Error("RegionAnchorY must be between 0 and 100.");n=o}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(o){if(!Js(o))throw new Error("ViewportAnchorY must be between 0 and 100.");a=o}},viewportAnchorX:{enumerable:!0,get:function(){return r},set:function(o){if(!Js(o))throw new Error("ViewportAnchorX must be between 0 and 100.");r=o}},scroll:{enumerable:!0,get:function(){return s},set:function(o){var u=_I(o);u===!1?console.warn("Scroll: an invalid or illegal string was specified."):s=u}}})}var xI=TI,Mn=R,la=Sp.exports={WebVTT:fI,VTTCue:gI,VTTRegion:xI};Mn.vttjs=la;Mn.WebVTT=la.WebVTT;var SI=la.VTTCue,bI=la.VTTRegion,EI=Mn.VTTCue,CI=Mn.VTTRegion;la.shim=function(){Mn.VTTCue=SI,Mn.VTTRegion=bI};la.restore=function(){Mn.VTTCue=EI,Mn.VTTRegion=CI};Mn.VTTCue||la.shim();function ZS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xl(t,e,n){return ZS()?Xl=Reflect.construct.bind():Xl=function(r,a,s){var o=[null];o.push.apply(o,a);var u=Function.bind.apply(r,o),l=new u;return s&&Jo(l,s.prototype),l},Xl.apply(null,arguments)}function Ci(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jo(t,e)}var eb={exports:{}};(function(t,e){(function(n){var i=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,r=/^(?=([^\/?#]*))\1([^]*)$/,a=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(u,l,c){if(c=c||{},u=u.trim(),l=l.trim(),!l){if(!c.alwaysNormalize)return u;var f=o.parseURL(u);if(!f)throw new Error("Error trying to parse base URL.");return f.path=o.normalizePath(f.path),o.buildURLFromParts(f)}var d=o.parseURL(l);if(!d)throw new Error("Error trying to parse relative URL.");if(d.scheme)return c.alwaysNormalize?(d.path=o.normalizePath(d.path),o.buildURLFromParts(d)):l;var g=o.parseURL(u);if(!g)throw new Error("Error trying to parse base URL.");if(!g.netLoc&&g.path&&g.path[0]!=="/"){var _=r.exec(g.path);g.netLoc=_[1],g.path=_[2]}g.netLoc&&!g.path&&(g.path="/");var y={scheme:g.scheme,netLoc:d.netLoc,path:null,params:d.params,query:d.query,fragment:d.fragment};if(!d.netLoc&&(y.netLoc=g.netLoc,d.path[0]!=="/"))if(!d.path)y.path=g.path,d.params||(y.params=g.params,d.query||(y.query=g.query));else{var x=g.path,T=x.substring(0,x.lastIndexOf("/")+1)+d.path;y.path=o.normalizePath(T)}return y.path===null&&(y.path=c.alwaysNormalize?o.normalizePath(d.path):d.path),o.buildURLFromParts(y)},parseURL:function(u){var l=i.exec(u);return l?{scheme:l[1]||"",netLoc:l[2]||"",path:l[3]||"",params:l[4]||"",query:l[5]||"",fragment:l[6]||""}:null},normalizePath:function(u){for(u=u.split("").reverse().join("").replace(a,"");u.length!==(u=u.replace(s,"")).length;);return u.split("").reverse().join("")},buildURLFromParts:function(u){return u.scheme+u.netLoc+u.path+u.params+u.query+u.fragment}};t.exports=o})()})(eb);const Oy=eb.exports;var Dy="http://example.com",Td=function(e,n){if(/^[a-z]+:/i.test(n))return n;/^data:/.test(e)&&(e=R.location&&R.location.href||"");var i=typeof R.URL=="function",r=/^\/\//.test(e),a=!R.location&&!/\/\//i.test(e);if(i?e=new R.URL(e,R.location||Dy):/\/\//i.test(e)||(e=Oy.buildAbsoluteURL(R.location&&R.location.href||"",e)),i){var s=new URL(n,e);return a?s.href.slice(Dy.length):r?s.href.slice(s.protocol.length):s.href}return Oy.buildAbsoluteURL(e,n)},hv=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(i,r){this.listeners[i]||(this.listeners[i]=[]),this.listeners[i].push(r)},e.off=function(i,r){if(!this.listeners[i])return!1;var a=this.listeners[i].indexOf(r);return this.listeners[i]=this.listeners[i].slice(0),this.listeners[i].splice(a,1),a>-1},e.trigger=function(i){var r=this.listeners[i];if(!!r)if(arguments.length===2)for(var a=r.length,s=0;s<a;++s)r[s].call(this,arguments[1]);else for(var o=Array.prototype.slice.call(arguments,1),u=r.length,l=0;l<u;++l)r[l].apply(this,o)},e.dispose=function(){this.listeners={}},e.pipe=function(i){this.on("data",function(r){i.push(r)})},t}(),wI=function(e){return R.atob?R.atob(e):Buffer.from(e,"base64").toString("binary")};function tb(t){for(var e=wI(t),n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}/*! @name m3u8-parser @version 4.7.1 @license Apache-2.0 */var kI=function(t){ie(e,t);function e(){var i;return i=t.call(this)||this,i.buffer="",i}var n=e.prototype;return n.push=function(r){var a;for(this.buffer+=r,a=this.buffer.indexOf(`
`);a>-1;a=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,a)),this.buffer=this.buffer.substring(a+1)},e}(hv),PI=String.fromCharCode(9),Wf=function(e){var n=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),i={};return n[1]&&(i.length=parseInt(n[1],10)),n[2]&&(i.offset=parseInt(n[2],10)),i},AI=function(){var e="[^=]*",n='"[^"]*"|[^,]*',i="(?:"+e+")=(?:"+n+")";return new RegExp("(?:^|,)("+i+")")},jr=function(e){for(var n=e.split(AI()),i={},r=n.length,a;r--;)n[r]!==""&&(a=/([^=]*)=(.*)/.exec(n[r]).slice(1),a[0]=a[0].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^['"](.*)['"]$/g,"$1"),i[a[0]]=a[1]);return i},II=function(t){ie(e,t);function e(){var i;return i=t.call(this)||this,i.customParsers=[],i.tagMappers=[],i}var n=e.prototype;return n.push=function(r){var a=this,s,o;if(r=r.trim(),r.length!==0){if(r[0]!=="#"){this.trigger("data",{type:"uri",uri:r});return}var u=this.tagMappers.reduce(function(l,c){var f=c(r);return f===r?l:l.concat([f])},[r]);u.forEach(function(l){for(var c=0;c<a.customParsers.length;c++)if(a.customParsers[c].call(a,l))return;if(l.indexOf("#EXT")!==0){a.trigger("data",{type:"comment",text:l.slice(1)});return}if(l=l.replace("\r",""),s=/^#EXTM3U/.exec(l),s){a.trigger("data",{type:"tag",tagType:"m3u"});return}if(s=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(l),s){o={type:"tag",tagType:"inf"},s[1]&&(o.duration=parseFloat(s[1])),s[2]&&(o.title=s[2]),a.trigger("data",o);return}if(s=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(l),s){o={type:"tag",tagType:"targetduration"},s[1]&&(o.duration=parseInt(s[1],10)),a.trigger("data",o);return}if(s=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(l),s){o={type:"tag",tagType:"version"},s[1]&&(o.version=parseInt(s[1],10)),a.trigger("data",o);return}if(s=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(l),s){o={type:"tag",tagType:"media-sequence"},s[1]&&(o.number=parseInt(s[1],10)),a.trigger("data",o);return}if(s=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(l),s){o={type:"tag",tagType:"discontinuity-sequence"},s[1]&&(o.number=parseInt(s[1],10)),a.trigger("data",o);return}if(s=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(l),s){o={type:"tag",tagType:"playlist-type"},s[1]&&(o.playlistType=s[1]),a.trigger("data",o);return}if(s=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(l),s){o=bt(Wf(s[1]),{type:"tag",tagType:"byterange"}),a.trigger("data",o);return}if(s=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(l),s){o={type:"tag",tagType:"allow-cache"},s[1]&&(o.allowed=!/NO/.test(s[1])),a.trigger("data",o);return}if(s=/^#EXT-X-MAP:?(.*)$/.exec(l),s){if(o={type:"tag",tagType:"map"},s[1]){var f=jr(s[1]);f.URI&&(o.uri=f.URI),f.BYTERANGE&&(o.byterange=Wf(f.BYTERANGE))}a.trigger("data",o);return}if(s=/^#EXT-X-STREAM-INF:?(.*)$/.exec(l),s){if(o={type:"tag",tagType:"stream-inf"},s[1]){if(o.attributes=jr(s[1]),o.attributes.RESOLUTION){var d=o.attributes.RESOLUTION.split("x"),g={};d[0]&&(g.width=parseInt(d[0],10)),d[1]&&(g.height=parseInt(d[1],10)),o.attributes.RESOLUTION=g}o.attributes.BANDWIDTH&&(o.attributes.BANDWIDTH=parseInt(o.attributes.BANDWIDTH,10)),o.attributes["PROGRAM-ID"]&&(o.attributes["PROGRAM-ID"]=parseInt(o.attributes["PROGRAM-ID"],10))}a.trigger("data",o);return}if(s=/^#EXT-X-MEDIA:?(.*)$/.exec(l),s){o={type:"tag",tagType:"media"},s[1]&&(o.attributes=jr(s[1])),a.trigger("data",o);return}if(s=/^#EXT-X-ENDLIST/.exec(l),s){a.trigger("data",{type:"tag",tagType:"endlist"});return}if(s=/^#EXT-X-DISCONTINUITY/.exec(l),s){a.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(s=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(l),s){o={type:"tag",tagType:"program-date-time"},s[1]&&(o.dateTimeString=s[1],o.dateTimeObject=new Date(s[1])),a.trigger("data",o);return}if(s=/^#EXT-X-KEY:?(.*)$/.exec(l),s){o={type:"tag",tagType:"key"},s[1]&&(o.attributes=jr(s[1]),o.attributes.IV&&(o.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(o.attributes.IV=o.attributes.IV.substring(2)),o.attributes.IV=o.attributes.IV.match(/.{8}/g),o.attributes.IV[0]=parseInt(o.attributes.IV[0],16),o.attributes.IV[1]=parseInt(o.attributes.IV[1],16),o.attributes.IV[2]=parseInt(o.attributes.IV[2],16),o.attributes.IV[3]=parseInt(o.attributes.IV[3],16),o.attributes.IV=new Uint32Array(o.attributes.IV))),a.trigger("data",o);return}if(s=/^#EXT-X-START:?(.*)$/.exec(l),s){o={type:"tag",tagType:"start"},s[1]&&(o.attributes=jr(s[1]),o.attributes["TIME-OFFSET"]=parseFloat(o.attributes["TIME-OFFSET"]),o.attributes.PRECISE=/YES/.test(o.attributes.PRECISE)),a.trigger("data",o);return}if(s=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(l),s){o={type:"tag",tagType:"cue-out-cont"},s[1]?o.data=s[1]:o.data="",a.trigger("data",o);return}if(s=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(l),s){o={type:"tag",tagType:"cue-out"},s[1]?o.data=s[1]:o.data="",a.trigger("data",o);return}if(s=/^#EXT-X-CUE-IN:?(.*)?$/.exec(l),s){o={type:"tag",tagType:"cue-in"},s[1]?o.data=s[1]:o.data="",a.trigger("data",o);return}if(s=/^#EXT-X-SKIP:(.*)$/.exec(l),s&&s[1]){o={type:"tag",tagType:"skip"},o.attributes=jr(s[1]),o.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(o.attributes["SKIPPED-SEGMENTS"]=parseInt(o.attributes["SKIPPED-SEGMENTS"],10)),o.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(o.attributes["RECENTLY-REMOVED-DATERANGES"]=o.attributes["RECENTLY-REMOVED-DATERANGES"].split(PI)),a.trigger("data",o);return}if(s=/^#EXT-X-PART:(.*)$/.exec(l),s&&s[1]){o={type:"tag",tagType:"part"},o.attributes=jr(s[1]),["DURATION"].forEach(function(_){o.attributes.hasOwnProperty(_)&&(o.attributes[_]=parseFloat(o.attributes[_]))}),["INDEPENDENT","GAP"].forEach(function(_){o.attributes.hasOwnProperty(_)&&(o.attributes[_]=/YES/.test(o.attributes[_]))}),o.attributes.hasOwnProperty("BYTERANGE")&&(o.attributes.byterange=Wf(o.attributes.BYTERANGE)),a.trigger("data",o);return}if(s=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(l),s&&s[1]){o={type:"tag",tagType:"server-control"},o.attributes=jr(s[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(_){o.attributes.hasOwnProperty(_)&&(o.attributes[_]=parseFloat(o.attributes[_]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(_){o.attributes.hasOwnProperty(_)&&(o.attributes[_]=/YES/.test(o.attributes[_]))}),a.trigger("data",o);return}if(s=/^#EXT-X-PART-INF:(.*)$/.exec(l),s&&s[1]){o={type:"tag",tagType:"part-inf"},o.attributes=jr(s[1]),["PART-TARGET"].forEach(function(_){o.attributes.hasOwnProperty(_)&&(o.attributes[_]=parseFloat(o.attributes[_]))}),a.trigger("data",o);return}if(s=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(l),s&&s[1]){o={type:"tag",tagType:"preload-hint"},o.attributes=jr(s[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(_){if(o.attributes.hasOwnProperty(_)){o.attributes[_]=parseInt(o.attributes[_],10);var y=_==="BYTERANGE-LENGTH"?"length":"offset";o.attributes.byterange=o.attributes.byterange||{},o.attributes.byterange[y]=o.attributes[_],delete o.attributes[_]}}),a.trigger("data",o);return}if(s=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(l),s&&s[1]){o={type:"tag",tagType:"rendition-report"},o.attributes=jr(s[1]),["LAST-MSN","LAST-PART"].forEach(function(_){o.attributes.hasOwnProperty(_)&&(o.attributes[_]=parseInt(o.attributes[_],10))}),a.trigger("data",o);return}a.trigger("data",{type:"tag",data:l.slice(4)})})}},n.addParser=function(r){var a=this,s=r.expression,o=r.customType,u=r.dataParser,l=r.segment;typeof u!="function"&&(u=function(f){return f}),this.customParsers.push(function(c){var f=s.exec(c);if(f)return a.trigger("data",{type:"custom",data:u(c),customType:o,segment:l}),!0})},n.addTagMapper=function(r){var a=r.expression,s=r.map,o=function(l){return a.test(l)?s(l):l};this.tagMappers.push(o)},e}(hv),OI=function(e){return e.toLowerCase().replace(/-(\w)/g,function(n){return n[1].toUpperCase()})},ga=function(e){var n={};return Object.keys(e).forEach(function(i){n[OI(i)]=e[i]}),n},qf=function(e){var n=e.serverControl,i=e.targetDuration,r=e.partTargetDuration;if(!!n){var a="#EXT-X-SERVER-CONTROL",s="holdBack",o="partHoldBack",u=i&&i*3,l=r&&r*2;i&&!n.hasOwnProperty(s)&&(n[s]=u,this.trigger("info",{message:a+" defaulting HOLD-BACK to targetDuration * 3 ("+u+")."})),u&&n[s]<u&&(this.trigger("warn",{message:a+" clamping HOLD-BACK ("+n[s]+") to targetDuration * 3 ("+u+")"}),n[s]=u),r&&!n.hasOwnProperty(o)&&(n[o]=r*3,this.trigger("info",{message:a+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+n[o]+")."})),r&&n[o]<l&&(this.trigger("warn",{message:a+" clamping PART-HOLD-BACK ("+n[o]+") to partTargetDuration * 2 ("+l+")."}),n[o]=l)}},DI=function(t){ie(e,t);function e(){var i;i=t.call(this)||this,i.lineStream=new kI,i.parseStream=new II,i.lineStream.pipe(i.parseStream);var r=_e(i),a=[],s={},o,u,l=!1,c=function(){},f={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},d="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",g=0;i.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var _=0,y=0;return i.on("end",function(){s.uri||!s.parts&&!s.preloadHints||(!s.map&&o&&(s.map=o),!s.key&&u&&(s.key=u),!s.timeline&&typeof g=="number"&&(s.timeline=g),i.manifest.preloadSegment=s)}),i.parseStream.on("data",function(x){var T,E;({tag:function(){({version:function(){x.version&&(this.manifest.version=x.version)},"allow-cache":function(){this.manifest.allowCache=x.allowed,"allowed"in x||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var I={};"length"in x&&(s.byterange=I,I.length=x.length,"offset"in x||(x.offset=_)),"offset"in x&&(s.byterange=I,I.offset=x.offset),_=I.offset+I.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),x.duration>0&&(s.duration=x.duration),x.duration===0&&(s.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=a},key:function(){if(!x.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(x.attributes.METHOD==="NONE"){u=null;return}if(!x.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(x.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:x.attributes};return}if(x.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:x.attributes.URI};return}if(x.attributes.KEYFORMAT===d){var I=["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"];if(I.indexOf(x.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(x.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),x.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(x.attributes.KEYID&&x.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:x.attributes.KEYFORMAT,keyId:x.attributes.KEYID.substring(2)},pssh:tb(x.attributes.URI.split(",")[1])};return}x.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),u={method:x.attributes.METHOD||"AES-128",uri:x.attributes.URI},typeof x.attributes.IV<"u"&&(u.iv=x.attributes.IV)},"media-sequence":function(){if(!isFinite(x.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+x.number});return}this.manifest.mediaSequence=x.number},"discontinuity-sequence":function(){if(!isFinite(x.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+x.number});return}this.manifest.discontinuitySequence=x.number,g=x.number},"playlist-type":function(){if(!/VOD|EVENT/.test(x.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+x.playlist});return}this.manifest.playlistType=x.playlistType},map:function(){o={},x.uri&&(o.uri=x.uri),x.byterange&&(o.byterange=x.byterange),u&&(o.key=u)},"stream-inf":function(){if(this.manifest.playlists=a,this.manifest.mediaGroups=this.manifest.mediaGroups||f,!x.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}s.attributes||(s.attributes={}),bt(s.attributes,x.attributes)},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||f,!(x.attributes&&x.attributes.TYPE&&x.attributes["GROUP-ID"]&&x.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}var I=this.manifest.mediaGroups[x.attributes.TYPE];I[x.attributes["GROUP-ID"]]=I[x.attributes["GROUP-ID"]]||{},T=I[x.attributes["GROUP-ID"]],E={default:/yes/i.test(x.attributes.DEFAULT)},E.default?E.autoselect=!0:E.autoselect=/yes/i.test(x.attributes.AUTOSELECT),x.attributes.LANGUAGE&&(E.language=x.attributes.LANGUAGE),x.attributes.URI&&(E.uri=x.attributes.URI),x.attributes["INSTREAM-ID"]&&(E.instreamId=x.attributes["INSTREAM-ID"]),x.attributes.CHARACTERISTICS&&(E.characteristics=x.attributes.CHARACTERISTICS),x.attributes.FORCED&&(E.forced=/yes/i.test(x.attributes.FORCED)),T[x.attributes.NAME]=E},discontinuity:function(){g+=1,s.discontinuity=!0,this.manifest.discontinuityStarts.push(a.length)},"program-date-time":function(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=x.dateTimeString,this.manifest.dateTimeObject=x.dateTimeObject),s.dateTimeString=x.dateTimeString,s.dateTimeObject=x.dateTimeObject},targetduration:function(){if(!isFinite(x.duration)||x.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+x.duration});return}this.manifest.targetDuration=x.duration,qf.call(this,this.manifest)},start:function(){if(!x.attributes||isNaN(x.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:x.attributes["TIME-OFFSET"],precise:x.attributes.PRECISE}},"cue-out":function(){s.cueOut=x.data},"cue-out-cont":function(){s.cueOutCont=x.data},"cue-in":function(){s.cueIn=x.data},skip:function(){this.manifest.skip=ga(x.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",x.attributes,["SKIPPED-SEGMENTS"])},part:function(){var I=this;l=!0;var D=this.manifest.segments.length,F=ga(x.attributes);s.parts=s.parts||[],s.parts.push(F),F.byterange&&(F.byterange.hasOwnProperty("offset")||(F.byterange.offset=y),y=F.byterange.offset+F.byterange.length);var L=s.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+L+" for segment #"+D,x.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(function(V,A){V.hasOwnProperty("lastPart")||I.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+A+" lacks required attribute(s): LAST-PART"})})},"server-control":function(){var I=this.manifest.serverControl=ga(x.attributes);I.hasOwnProperty("canBlockReload")||(I.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),qf.call(this,this.manifest),I.canSkipDateranges&&!I.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var I=this.manifest.segments.length,D=ga(x.attributes),F=D.type&&D.type==="PART";s.preloadHints=s.preloadHints||[],s.preloadHints.push(D),D.byterange&&(D.byterange.hasOwnProperty("offset")||(D.byterange.offset=F?y:0,F&&(y=D.byterange.offset+D.byterange.length)));var L=s.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+L+" for segment #"+I,x.attributes,["TYPE","URI"]),!!D.type)for(var V=0;V<s.preloadHints.length-1;V++){var A=s.preloadHints[V];!A.type||A.type===D.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+L+" for segment #"+I+" has the same TYPE "+D.type+" as preload hint #"+V})}},"rendition-report":function(){var I=ga(x.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(I);var D=this.manifest.renditionReports.length-1,F=["LAST-MSN","URI"];l&&F.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+D,x.attributes,F)},"part-inf":function(){this.manifest.partInf=ga(x.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",x.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),qf.call(this,this.manifest)}}[x.tagType]||c).call(r)},uri:function(){s.uri=x.uri,a.push(s),this.manifest.targetDuration&&!("duration"in s)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),s.duration=this.manifest.targetDuration),u&&(s.key=u),s.timeline=g,o&&(s.map=o),y=0,s={}},comment:function(){},custom:function(){x.segment?(s.custom=s.custom||{},s.custom[x.customType]=x.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[x.customType]=x.data)}})[x.type].call(r)}),i}var n=e.prototype;return n.warnOnMissingAttributes_=function(r,a,s){var o=[];s.forEach(function(u){a.hasOwnProperty(u)||o.push(u)}),o.length&&this.trigger("warn",{message:r+" lacks required attribute(s): "+o.join(", ")})},n.push=function(r){this.lineStream.push(r)},n.end=function(){this.lineStream.push(`
`),this.trigger("end")},n.addParser=function(r){this.parseStream.addParser(r)},n.addTagMapper=function(r){this.parseStream.addTagMapper(r)},e}(hv),Xi={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},LI=["video","audio","text"],Ly=["Video","Audio","Text"],rb=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(n,i,r){var a=("00"+Number(i).toString(16)).slice(-2),s=("00"+Number(r).toString(16)).slice(-2);return"avc1."+a+"00"+s})},nn=function(e){e===void 0&&(e="");var n=e.split(","),i=[];return n.forEach(function(r){r=r.trim();var a;LI.forEach(function(s){var o=Xi[s].exec(r.toLowerCase());if(!(!o||o.length<=1)){a=s;var u=r.substring(0,o[1].length),l=r.replace(u,"");i.push({type:u,details:l,mediaType:s})}}),a||i.push({type:r,details:"",mediaType:"unknown"})}),i},FI=function(e,n){if(!e.mediaGroups.AUDIO||!n)return null;var i=e.mediaGroups.AUDIO[n];if(!i)return null;for(var r in i){var a=i[r];if(a.default&&a.playlists)return nn(a.playlists[0].attributes.CODECS)}return null},nb=function(e){return e===void 0&&(e=""),Xi.audio.test(e.trim().toLowerCase())},RI=function(e){return e===void 0&&(e=""),Xi.text.test(e.trim().toLowerCase())},Zo=function(e){if(!(!e||typeof e!="string")){var n=e.toLowerCase().split(",").map(function(a){return rb(a.trim())}),i="video";n.length===1&&nb(n[0])?i="audio":n.length===1&&RI(n[0])&&(i="application");var r="mp4";return n.every(function(a){return Xi.mp4.test(a)})?r="mp4":n.every(function(a){return Xi.webm.test(a)})?r="webm":n.every(function(a){return Xi.ogg.test(a)})&&(r="ogg"),i+"/"+r+';codecs="'+e+'"'}},Ql=function(e){return e===void 0&&(e=""),R.MediaSource&&R.MediaSource.isTypeSupported&&R.MediaSource.isTypeSupported(Zo(e))||!1},Gf=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(n){n=n.trim();for(var i=0;i<Ly.length;i++){var r=Ly[i];if(Xi["muxer"+r].test(n))return!0}return!1})},Fy="mp4a.40.2",NI="avc1.4d400d",MI=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,UI=/^application\/dash\+xml/i,ib=function(e){return MI.test(e)?"hls":UI.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},BI=function(e){return e.toString(2).length},VI=function(e){return Math.ceil(BI(e)/8)},ab=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},jI=function(e){return ab(e)},me=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!jI(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},At=R.BigInt||Number,bp=[At("0x1"),At("0x100"),At("0x10000"),At("0x1000000"),At("0x100000000"),At("0x10000000000"),At("0x1000000000000"),At("0x100000000000000"),At("0x10000000000000000")];(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var zI=function(e,n){var i=n===void 0?{}:n,r=i.signed,a=r===void 0?!1:r,s=i.le,o=s===void 0?!1:s;e=me(e);var u=o?"reduce":"reduceRight",l=e[u]?e[u]:Array.prototype[u],c=l.call(e,function(d,g,_){var y=o?_:Math.abs(_+1-e.length);return d+At(g)*bp[y]},At(0));if(a){var f=bp[e.length]/At(2)-At(1);c=At(c),c>f&&(c-=f,c-=f,c-=At(2))}return Number(c)},HI=function(e,n){var i=n===void 0?{}:n,r=i.le,a=r===void 0?!1:r;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=At(e);for(var s=VI(e),o=new Uint8Array(new ArrayBuffer(s)),u=0;u<s;u++){var l=a?u:Math.abs(u+1-o.length);o[l]=Number(e/bp[u]&At(255)),e<0&&(o[l]=Math.abs(~o[l]),o[l]-=u===0?1:2)}return o},sb=function(e,n){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;n||(e=unescape(encodeURIComponent(e)));for(var i=new Uint8Array(e.length),r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i},$I=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(n=n.filter(function(o){return o&&(o.byteLength||o.length)&&typeof o!="string"}),n.length<=1)return me(n[0]);var r=n.reduce(function(o,u,l){return o+(u.byteLength||u.length)},0),a=new Uint8Array(r),s=0;return n.forEach(function(o){o=me(o),a.set(o,s),s+=o.byteLength}),a},Qe=function(e,n,i){var r=i===void 0?{}:i,a=r.offset,s=a===void 0?0:a,o=r.mask,u=o===void 0?[]:o;e=me(e),n=me(n);var l=n.every?n.every:Array.prototype.every;return n.length&&e.length-s>=n.length&&l.call(n,function(c,f){var d=u[f]?u[f]&e[s+f]:e[s+f];return c===d})},WI=function(e,n,i){n.forEach(function(r){for(var a in e.mediaGroups[r])for(var s in e.mediaGroups[r][a]){var o=e.mediaGroups[r][a][s];i(o,r,a,s)}})},wi={},ca={};function pv(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}var ob=pv({HTML:"text/html",isHTML:function(t){return t===ob.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),ub=pv({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===ub.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});ca.freeze=pv;ca.MIME_TYPE=ob;ca.NAMESPACE=ub;var qI=ca,eu=qI.NAMESPACE;function GI(t){return t!==""}function KI(t){return t?t.split(/[\t\n\f\r ]+/).filter(GI):[]}function XI(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function Ry(t){if(!t)return[];var e=KI(t);return Object.keys(e.reduce(XI,{}))}function QI(t){return function(e){return t&&t.indexOf(e)!==-1}}function pu(t,e){for(var n in t)e[n]=t[n]}function lr(t,e){var n=t.prototype;if(!(n instanceof e)){let r=function(){};var i=r;r.prototype=e.prototype,r=new r,pu(n,r),t.prototype=n=r}n.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),n.constructor=t)}var cr={},Xr=cr.ELEMENT_NODE=1,cs=cr.ATTRIBUTE_NODE=2,Ic=cr.TEXT_NODE=3,lb=cr.CDATA_SECTION_NODE=4,cb=cr.ENTITY_REFERENCE_NODE=5,YI=cr.ENTITY_NODE=6,db=cr.PROCESSING_INSTRUCTION_NODE=7,fb=cr.COMMENT_NODE=8,hb=cr.DOCUMENT_NODE=9,pb=cr.DOCUMENT_TYPE_NODE=10,Un=cr.DOCUMENT_FRAGMENT_NODE=11,JI=cr.NOTATION_NODE=12,Bt={},Et={};Bt.INDEX_SIZE_ERR=(Et[1]="Index size error",1);Bt.DOMSTRING_SIZE_ERR=(Et[2]="DOMString size error",2);var ZI=Bt.HIERARCHY_REQUEST_ERR=(Et[3]="Hierarchy request error",3);Bt.WRONG_DOCUMENT_ERR=(Et[4]="Wrong document",4);Bt.INVALID_CHARACTER_ERR=(Et[5]="Invalid character",5);Bt.NO_DATA_ALLOWED_ERR=(Et[6]="No data allowed",6);Bt.NO_MODIFICATION_ALLOWED_ERR=(Et[7]="No modification allowed",7);var eO=Bt.NOT_FOUND_ERR=(Et[8]="Not found",8);Bt.NOT_SUPPORTED_ERR=(Et[9]="Not supported",9);var Ny=Bt.INUSE_ATTRIBUTE_ERR=(Et[10]="Attribute in use",10);Bt.INVALID_STATE_ERR=(Et[11]="Invalid state",11);Bt.SYNTAX_ERR=(Et[12]="Syntax error",12);Bt.INVALID_MODIFICATION_ERR=(Et[13]="Invalid modification",13);Bt.NAMESPACE_ERR=(Et[14]="Invalid namespace",14);Bt.INVALID_ACCESS_ERR=(Et[15]="Invalid access",15);function ia(t,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,Et[t]),this.message=Et[t],Error.captureStackTrace&&Error.captureStackTrace(this,ia);return n.code=t,e&&(this.message=this.message+": "+e),n}ia.prototype=Error.prototype;pu(Bt,ia);function An(){}An.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var n=[],i=0;i<this.length;i++)Va(this[i],n,t,e);return n.join("")}};function ds(t,e){this._node=t,this._refresh=e,mv(this)}function mv(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var n=t._refresh(t._node);wb(t,"length",n.length),pu(n,t),t._inc=e}}ds.prototype.item=function(t){return mv(this),this[t]};lr(ds,An);function Oc(){}function mb(t,e){for(var n=t.length;n--;)if(t[n]===e)return n}function My(t,e,n,i){if(i?e[mb(e,i)]=n:e[e.length++]=n,t){n.ownerElement=t;var r=t.ownerDocument;r&&(i&&yb(r,t,i),tO(r,t,n))}}function Uy(t,e,n){var i=mb(e,n);if(i>=0){for(var r=e.length-1;i<r;)e[i]=e[++i];if(e.length=r,t){var a=t.ownerDocument;a&&(yb(a,t,n),n.ownerElement=null)}}else throw ia(eO,new Error(t.tagName+"@"+n))}Oc.prototype={length:0,item:An.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==t)return n}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new ia(Ny);var n=this.getNamedItem(t.nodeName);return My(this._ownerElement,this,t,n),n},setNamedItemNS:function(t){var e=t.ownerElement,n;if(e&&e!=this._ownerElement)throw new ia(Ny);return n=this.getNamedItemNS(t.namespaceURI,t.localName),My(this._ownerElement,this,t,n),n},removeNamedItem:function(t){var e=this.getNamedItem(t);return Uy(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var n=this.getNamedItemNS(t,e);return Uy(this._ownerElement,this,n),n},getNamedItemNS:function(t,e){for(var n=this.length;n--;){var i=this[n];if(i.localName==e&&i.namespaceURI==t)return i}return null}};function vb(){}vb.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,n){var i=new mu;if(i.implementation=this,i.childNodes=new An,i.doctype=n||null,n&&i.appendChild(n),e){var r=i.createElementNS(t,e);i.appendChild(r)}return i},createDocumentType:function(t,e,n){var i=new xd;return i.name=t,i.nodeName=t,i.publicId=e||"",i.systemId=n||"",i}};function Vt(){}Vt.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return Tb(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return _b(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return Ep(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==Ic&&t.nodeType==Ic?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var n=e._nsMap;if(n){for(var i in n)if(n[i]==t)return i}e=e.nodeType==cs?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var n=e._nsMap;if(n&&t in n)return n[t];e=e.nodeType==cs?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function gb(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}pu(cr,Vt);pu(cr,Vt.prototype);function tu(t,e){if(e(t))return!0;if(t=t.firstChild)do if(tu(t,e))return!0;while(t=t.nextSibling)}function mu(){}function tO(t,e,n){t&&t._inc++;var i=n.namespaceURI;i===eu.XMLNS&&(e._nsMap[n.prefix?n.localName:""]=n.value)}function yb(t,e,n,i){t&&t._inc++;var r=n.namespaceURI;r===eu.XMLNS&&delete e._nsMap[n.prefix?n.localName:""]}function vv(t,e,n){if(t&&t._inc){t._inc++;var i=e.childNodes;if(n)i[i.length++]=n;else{for(var r=e.firstChild,a=0;r;)i[a++]=r,r=r.nextSibling;i.length=a}}}function _b(t,e){var n=e.previousSibling,i=e.nextSibling;return n?n.nextSibling=i:t.firstChild=i,i?i.previousSibling=n:t.lastChild=n,vv(t.ownerDocument,t),e}function Tb(t,e,n){var i=e.parentNode;if(i&&i.removeChild(e),e.nodeType===Un){var r=e.firstChild;if(r==null)return e;var a=e.lastChild}else r=a=e;var s=n?n.previousSibling:t.lastChild;r.previousSibling=s,a.nextSibling=n,s?s.nextSibling=r:t.firstChild=r,n==null?t.lastChild=a:n.previousSibling=a;do r.parentNode=t;while(r!==a&&(r=r.nextSibling));return vv(t.ownerDocument||t,t),e.nodeType==Un&&(e.firstChild=e.lastChild=null),e}function rO(t,e){var n=e.parentNode;if(n){var i=t.lastChild;n.removeChild(e);var i=t.lastChild}var i=t.lastChild;return e.parentNode=t,e.previousSibling=i,e.nextSibling=null,i?i.nextSibling=e:t.firstChild=e,t.lastChild=e,vv(t.ownerDocument,t,e),e}mu.prototype={nodeName:"#document",nodeType:hb,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==Un){for(var n=t.firstChild;n;){var i=n.nextSibling;this.insertBefore(n,e),n=i}return t}return this.documentElement==null&&t.nodeType==Xr&&(this.documentElement=t),Tb(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),_b(this,t)},importNode:function(t,e){return Cb(this,t,e)},getElementById:function(t){var e=null;return tu(this.documentElement,function(n){if(n.nodeType==Xr&&n.getAttribute("id")==t)return e=n,!0}),e},getElementsByClassName:function(t){var e=Ry(t);return new ds(this,function(n){var i=[];return e.length>0&&tu(n.documentElement,function(r){if(r!==n&&r.nodeType===Xr){var a=r.getAttribute("class");if(a){var s=t===a;if(!s){var o=Ry(a);s=e.every(QI(o))}s&&i.push(r)}}}),i})},createElement:function(t){var e=new aa;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new An;var n=e.attributes=new Oc;return n._ownerElement=e,e},createDocumentFragment:function(){var t=new Sd;return t.ownerDocument=this,t.childNodes=new An,t},createTextNode:function(t){var e=new gv;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new yv;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new _v;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var n=new xv;return n.ownerDocument=this,n.tagName=n.target=t,n.nodeValue=n.data=e,n},createAttribute:function(t){var e=new Dc;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new Tv;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var n=new aa,i=e.split(":"),r=n.attributes=new Oc;return n.childNodes=new An,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=t,i.length==2?(n.prefix=i[0],n.localName=i[1]):n.localName=e,r._ownerElement=n,n},createAttributeNS:function(t,e){var n=new Dc,i=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=t,n.specified=!0,i.length==2?(n.prefix=i[0],n.localName=i[1]):n.localName=e,n}};lr(mu,Vt);function aa(){this._nsMap={}}aa.prototype={nodeType:Xr,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var n=this.ownerDocument.createAttribute(t);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===Un?this.insertBefore(t,null):rO(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);return n&&n.value||""},setAttributeNS:function(t,e,n){var i=this.ownerDocument.createAttributeNS(t,e);i.value=i.nodeValue=""+n,this.setAttributeNode(i)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new ds(this,function(e){var n=[];return tu(e,function(i){i!==e&&i.nodeType==Xr&&(t==="*"||i.tagName==t)&&n.push(i)}),n})},getElementsByTagNameNS:function(t,e){return new ds(this,function(n){var i=[];return tu(n,function(r){r!==n&&r.nodeType===Xr&&(t==="*"||r.namespaceURI===t)&&(e==="*"||r.localName==e)&&i.push(r)}),i})}};mu.prototype.getElementsByTagName=aa.prototype.getElementsByTagName;mu.prototype.getElementsByTagNameNS=aa.prototype.getElementsByTagNameNS;lr(aa,Vt);function Dc(){}Dc.prototype.nodeType=cs;lr(Dc,Vt);function vu(){}vu.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(Et[ZI])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,n){var i=this.data.substring(0,t),r=this.data.substring(t+e);n=i+n+r,this.nodeValue=this.data=n,this.length=n.length}};lr(vu,Vt);function gv(){}gv.prototype={nodeName:"#text",nodeType:Ic,splitText:function(t){var e=this.data,n=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var i=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}};lr(gv,vu);function yv(){}yv.prototype={nodeName:"#comment",nodeType:fb};lr(yv,vu);function _v(){}_v.prototype={nodeName:"#cdata-section",nodeType:lb};lr(_v,vu);function xd(){}xd.prototype.nodeType=pb;lr(xd,Vt);function xb(){}xb.prototype.nodeType=JI;lr(xb,Vt);function Sb(){}Sb.prototype.nodeType=YI;lr(Sb,Vt);function Tv(){}Tv.prototype.nodeType=cb;lr(Tv,Vt);function Sd(){}Sd.prototype.nodeName="#document-fragment";Sd.prototype.nodeType=Un;lr(Sd,Vt);function xv(){}xv.prototype.nodeType=db;lr(xv,Vt);function bb(){}bb.prototype.serializeToString=function(t,e,n){return Eb.call(t,e,n)};Vt.prototype.toString=Eb;function Eb(t,e){var n=[],i=this.nodeType==9&&this.documentElement||this,r=i.prefix,a=i.namespaceURI;if(a&&r==null){var r=i.lookupPrefix(a);if(r==null)var s=[{namespace:a,prefix:null}]}return Va(this,n,t,e,s),n.join("")}function By(t,e,n){var i=t.prefix||"",r=t.namespaceURI;if(!r||i==="xml"&&r===eu.XML||r===eu.XMLNS)return!1;for(var a=n.length;a--;){var s=n[a];if(s.prefix===i)return s.namespace!==r}return!0}function Kf(t,e,n){t.push(" ",e,'="',n.replace(/[<&"]/g,gb),'"')}function Va(t,e,n,i,r){if(r||(r=[]),i)if(t=i(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case Xr:var a=t.attributes,s=a.length,T=t.firstChild,o=t.tagName;n=eu.isHTML(t.namespaceURI)||n;var u=o;if(!n&&!t.prefix&&t.namespaceURI){for(var l,c=0;c<a.length;c++)if(a.item(c).name==="xmlns"){l=a.item(c).value;break}if(!l)for(var f=r.length-1;f>=0;f--){var d=r[f];if(d.prefix===""&&d.namespace===t.namespaceURI){l=d.namespace;break}}if(l!==t.namespaceURI)for(var f=r.length-1;f>=0;f--){var d=r[f];if(d.namespace===t.namespaceURI){d.prefix&&(u=d.prefix+":"+o);break}}}e.push("<",u);for(var g=0;g<s;g++){var _=a.item(g);_.prefix=="xmlns"?r.push({prefix:_.localName,namespace:_.value}):_.nodeName=="xmlns"&&r.push({prefix:"",namespace:_.value})}for(var g=0;g<s;g++){var _=a.item(g);if(By(_,n,r)){var y=_.prefix||"",x=_.namespaceURI;Kf(e,y?"xmlns:"+y:"xmlns",x),r.push({prefix:y,namespace:x})}Va(_,e,n,i,r)}if(o===u&&By(t,n,r)){var y=t.prefix||"",x=t.namespaceURI;Kf(e,y?"xmlns:"+y:"xmlns",x),r.push({prefix:y,namespace:x})}if(T||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(o)){if(e.push(">"),n&&/^script$/i.test(o))for(;T;)T.data?e.push(T.data):Va(T,e,n,i,r.slice()),T=T.nextSibling;else for(;T;)Va(T,e,n,i,r.slice()),T=T.nextSibling;e.push("</",u,">")}else e.push("/>");return;case hb:case Un:for(var T=t.firstChild;T;)Va(T,e,n,i,r.slice()),T=T.nextSibling;return;case cs:return Kf(e,t.name,t.value);case Ic:return e.push(t.data.replace(/[<&]/g,gb).replace(/]]>/g,"]]&gt;"));case lb:return e.push("<![CDATA[",t.data,"]]>");case fb:return e.push("<!--",t.data,"-->");case pb:var E=t.publicId,w=t.systemId;if(e.push("<!DOCTYPE ",t.name),E)e.push(" PUBLIC ",E),w&&w!="."&&e.push(" ",w),e.push(">");else if(w&&w!=".")e.push(" SYSTEM ",w,">");else{var k=t.internalSubset;k&&e.push(" [",k,"]"),e.push(">")}return;case db:return e.push("<?",t.target," ",t.data,"?>");case cb:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function Cb(t,e,n){var i;switch(e.nodeType){case Xr:i=e.cloneNode(!1),i.ownerDocument=t;case Un:break;case cs:n=!0;break}if(i||(i=e.cloneNode(!1)),i.ownerDocument=t,i.parentNode=null,n)for(var r=e.firstChild;r;)i.appendChild(Cb(t,r,n)),r=r.nextSibling;return i}function Ep(t,e,n){var i=new e.constructor;for(var r in e){var a=e[r];typeof a!="object"&&a!=i[r]&&(i[r]=a)}switch(e.childNodes&&(i.childNodes=new An),i.ownerDocument=t,i.nodeType){case Xr:var s=e.attributes,o=i.attributes=new Oc,u=s.length;o._ownerElement=i;for(var l=0;l<u;l++)i.setAttributeNode(Ep(t,s.item(l),!0));break;case cs:n=!0}if(n)for(var c=e.firstChild;c;)i.appendChild(Ep(t,c,n)),c=c.nextSibling;return i}function wb(t,e,n){t[e]=n}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case Xr:case Un:var n=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&n.push(t(e)),e=e.nextSibling;return n.join("");default:return e.nodeValue}};var getTextContent=t;Object.defineProperty(ds.prototype,"length",{get:function(){return mv(this),this.$$length}}),Object.defineProperty(Vt.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case Xr:case Un:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),wb=function(e,n,i){e["$$"+n]=i}}}catch{}wi.DocumentType=xd;wi.DOMException=ia;wi.DOMImplementation=vb;wi.Element=aa;wi.Node=Vt;wi.NodeList=An;wi.XMLSerializer=bb;var gu={},kb={};(function(t){var e=ca.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",times:"\xD7",divide:"\xF7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",euro:"\u20AC",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}),t.entityMap=t.HTML_ENTITIES})(kb);var Sv={},ru=ca.NAMESPACE,Cp=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Vy=new RegExp("[\\-\\.0-9"+Cp.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),jy=new RegExp("^"+Cp.source+Vy.source+"*(?::"+Cp.source+Vy.source+"*)?$"),Zs=0,Yn=1,ya=2,eo=3,_a=4,Ta=5,to=6,yl=7;function fs(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,fs)}fs.prototype=new Error;fs.prototype.name=fs.name;function Pb(){}Pb.prototype={parse:function(t,e,n){var i=this.domBuilder;i.startDocument(),Ab(e,e={}),nO(t,e,n,i,this.errorHandler),i.endDocument()}};function nO(t,e,n,i,r){function a(Z){if(Z>65535){Z-=65536;var se=55296+(Z>>10),W=56320+(Z&1023);return String.fromCharCode(se,W)}else return String.fromCharCode(Z)}function s(Z){var se=Z.slice(1,-1);return se in n?n[se]:se.charAt(0)==="#"?a(parseInt(se.substr(1).replace("x","0x"))):(r.error("entity not found:"+Z),Z)}function o(Z){if(Z>y){var se=t.substring(y,Z).replace(/&#?\w+;/g,s);d&&u(y),i.characters(se,0,Z-y),y=Z}}function u(Z,se){for(;Z>=c&&(se=f.exec(t));)l=se.index,c=l+se[0].length,d.lineNumber++;d.columnNumber=Z-l+1}for(var l=0,c=0,f=/.*(?:\r\n?|\n)|.*$/g,d=i.locator,g=[{currentNSMap:e}],_={},y=0;;){try{var x=t.indexOf("<",y);if(x<0){if(!t.substr(y).match(/^\s*$/)){var T=i.doc,E=T.createTextNode(t.substr(y));T.appendChild(E),i.currentElement=E}return}switch(x>y&&o(x),t.charAt(x+1)){case"/":var M=t.indexOf(">",x+3),w=t.substring(x+2,M).replace(/[ \t\n\r]+$/g,""),k=g.pop();M<0?(w=t.substring(x+2).replace(/[\s<].*/,""),r.error("end tag name: "+w+" is not complete:"+k.tagName),M=x+1+w.length):w.match(/\s</)&&(w=w.replace(/[\s<].*/,""),r.error("end tag name: "+w+" maybe not complete"),M=x+1+w.length);var I=k.localNSMap,D=k.tagName==w,F=D||k.tagName&&k.tagName.toLowerCase()==w.toLowerCase();if(F){if(i.endElement(k.uri,k.localName,w),I)for(var L in I)i.endPrefixMapping(L);D||r.fatalError("end tag name: "+w+" is not match the current start tagName:"+k.tagName)}else g.push(k);M++;break;case"?":d&&u(x),M=uO(t,x,i);break;case"!":d&&u(x),M=oO(t,x,i,r);break;default:d&&u(x);var V=new Ib,A=g[g.length-1].currentNSMap,M=iO(t,x,V,A,s,r),B=V.length;if(!V.closed&&sO(t,M,V.tagName,_)&&(V.closed=!0,n.nbsp||r.warning("unclosed xml attribute")),d&&B){for(var $=zy(d,{}),G=0;G<B;G++){var Q=V[G];u(Q.offset),Q.locator=zy(d,{})}i.locator=$,Hy(V,i,A)&&g.push(V),i.locator=d}else Hy(V,i,A)&&g.push(V);ru.isHTML(V.uri)&&!V.closed?M=aO(t,M,V.tagName,s,i):M++}}catch(Z){if(Z instanceof fs)throw Z;r.error("element parse error: "+Z),M=-1}M>y?y=M:o(Math.max(x,y)+1)}}function zy(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function iO(t,e,n,i,r,a){function s(d,g,_){n.attributeNames.hasOwnProperty(d)&&a.fatalError("Attribute "+d+" redefined"),n.addValue(d,g,_)}for(var o,u,l=++e,c=Zs;;){var f=t.charAt(l);switch(f){case"=":if(c===Yn)o=t.slice(e,l),c=eo;else if(c===ya)c=eo;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(c===eo||c===Yn)if(c===Yn&&(a.warning('attribute value must after "="'),o=t.slice(e,l)),e=l+1,l=t.indexOf(f,e),l>0)u=t.slice(e,l).replace(/&#?\w+;/g,r),s(o,u,e-1),c=Ta;else throw new Error("attribute value no end '"+f+"' match");else if(c==_a)u=t.slice(e,l).replace(/&#?\w+;/g,r),s(o,u,e),a.warning('attribute "'+o+'" missed start quot('+f+")!!"),e=l+1,c=Ta;else throw new Error('attribute value must after "="');break;case"/":switch(c){case Zs:n.setTagName(t.slice(e,l));case Ta:case to:case yl:c=yl,n.closed=!0;case _a:case Yn:case ya:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),c==Zs&&n.setTagName(t.slice(e,l)),l;case">":switch(c){case Zs:n.setTagName(t.slice(e,l));case Ta:case to:case yl:break;case _a:case Yn:u=t.slice(e,l),u.slice(-1)==="/"&&(n.closed=!0,u=u.slice(0,-1));case ya:c===ya&&(u=o),c==_a?(a.warning('attribute "'+u+'" missed quot(")!'),s(o,u.replace(/&#?\w+;/g,r),e)):((!ru.isHTML(i[""])||!u.match(/^(?:disabled|checked|selected)$/i))&&a.warning('attribute "'+u+'" missed value!! "'+u+'" instead!!'),s(u,u,e));break;case eo:throw new Error("attribute value missed!!")}return l;case"\x80":f=" ";default:if(f<=" ")switch(c){case Zs:n.setTagName(t.slice(e,l)),c=to;break;case Yn:o=t.slice(e,l),c=ya;break;case _a:var u=t.slice(e,l).replace(/&#?\w+;/g,r);a.warning('attribute "'+u+'" missed quot(")!!'),s(o,u,e);case Ta:c=to;break}else switch(c){case ya:n.tagName,(!ru.isHTML(i[""])||!o.match(/^(?:disabled|checked|selected)$/i))&&a.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),s(o,o,e),e=l,c=Yn;break;case Ta:a.warning('attribute space is required"'+o+'"!!');case to:c=Yn,e=l;break;case eo:c=_a,e=l;break;case yl:throw new Error("elements closed character '/' and '>' must be connected to")}}l++}}function Hy(t,e,n){for(var i=t.tagName,r=null,f=t.length;f--;){var a=t[f],s=a.qName,o=a.value,d=s.indexOf(":");if(d>0)var u=a.prefix=s.slice(0,d),l=s.slice(d+1),c=u==="xmlns"&&l;else l=s,u=null,c=s==="xmlns"&&"";a.localName=l,c!==!1&&(r==null&&(r={},Ab(n,n={})),n[c]=r[c]=o,a.uri=ru.XMLNS,e.startPrefixMapping(c,o))}for(var f=t.length;f--;){a=t[f];var u=a.prefix;u&&(u==="xml"&&(a.uri=ru.XML),u!=="xmlns"&&(a.uri=n[u||""]))}var d=i.indexOf(":");d>0?(u=t.prefix=i.slice(0,d),l=t.localName=i.slice(d+1)):(u=null,l=t.localName=i);var g=t.uri=n[u||""];if(e.startElement(g,l,i,t),t.closed){if(e.endElement(g,l,i),r)for(u in r)e.endPrefixMapping(u)}else return t.currentNSMap=n,t.localNSMap=r,!0}function aO(t,e,n,i,r){if(/^(?:script|textarea)$/i.test(n)){var a=t.indexOf("</"+n+">",e),s=t.substring(e+1,a);if(/[&<]/.test(s))return/^script$/i.test(n)?(r.characters(s,0,s.length),a):(s=s.replace(/&#?\w+;/g,i),r.characters(s,0,s.length),a)}return e+1}function sO(t,e,n,i){var r=i[n];return r==null&&(r=t.lastIndexOf("</"+n+">"),r<e&&(r=t.lastIndexOf("</"+n)),i[n]=r),r<e}function Ab(t,e){for(var n in t)e[n]=t[n]}function oO(t,e,n,i){var r=t.charAt(e+2);switch(r){case"-":if(t.charAt(e+3)==="-"){var a=t.indexOf("-->",e+4);return a>e?(n.comment(t,e+4,a-e-4),a+3):(i.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var a=t.indexOf("]]>",e+9);return n.startCDATA(),n.characters(t,e+9,a-e-9),n.endCDATA(),a+3}var s=lO(t,e),o=s.length;if(o>1&&/!doctype/i.test(s[0][0])){var u=s[1][0],l=!1,c=!1;o>3&&(/^public$/i.test(s[2][0])?(l=s[3][0],c=o>4&&s[4][0]):/^system$/i.test(s[2][0])&&(c=s[3][0]));var f=s[o-1];return n.startDTD(u,l,c),n.endDTD(),f.index+f[0].length}}return-1}function uO(t,e,n){var i=t.indexOf("?>",e);if(i){var r=t.substring(e,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return r?(r[0].length,n.processingInstruction(r[1],r[2]),i+2):-1}return-1}function Ib(){this.attributeNames={}}Ib.prototype={setTagName:function(t){if(!jy.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,n){if(!jy.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:n}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function lO(t,e){var n,i=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(r.lastIndex=e,r.exec(t);n=r.exec(t);)if(i.push(n),n[1])return i}Sv.XMLReader=Pb;Sv.ParseError=fs;var cO=ca,bv=wi,$y=kb,Ob=Sv,dO=bv.DOMImplementation,Wy=cO.NAMESPACE,fO=Ob.ParseError,hO=Ob.XMLReader;function Db(t){this.options=t||{locator:{}}}Db.prototype.parseFromString=function(t,e){var n=this.options,i=new hO,r=n.domBuilder||new yu,a=n.errorHandler,s=n.locator,o=n.xmlns||{},u=/\/x?html?$/.test(e),l=u?$y.HTML_ENTITIES:$y.XML_ENTITIES;return s&&r.setDocumentLocator(s),i.errorHandler=pO(a,r,s),i.domBuilder=n.domBuilder||r,u&&(o[""]=Wy.HTML),o.xml=o.xml||Wy.XML,t&&typeof t=="string"?i.parse(t,o,l):i.errorHandler.error("invalid doc source"),r.doc};function pO(t,e,n){if(!t){if(e instanceof yu)return e;t=e}var i={},r=t instanceof Function;n=n||{};function a(s){var o=t[s];!o&&r&&(o=t.length==2?function(u){t(s,u)}:t),i[s]=o&&function(u){o("[xmldom "+s+"]	"+u+wp(n))}||function(){}}return a("warning"),a("error"),a("fatalError"),i}function yu(){this.cdata=!1}function xa(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}yu.prototype={startDocument:function(){this.doc=new dO().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,n,i){var r=this.doc,a=r.createElementNS(t,n||e),s=i.length;_l(this,a),this.currentElement=a,this.locator&&xa(this.locator,a);for(var o=0;o<s;o++){var t=i.getURI(o),u=i.getValue(o),n=i.getQName(o),l=r.createAttributeNS(t,n);this.locator&&xa(i.getLocator(o),l),l.value=l.nodeValue=u,a.setAttributeNode(l)}},endElement:function(t,e,n){var i=this.currentElement;i.tagName,this.currentElement=i.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var n=this.doc.createProcessingInstruction(t,e);this.locator&&xa(this.locator,n),_l(this,n)},ignorableWhitespace:function(t,e,n){},characters:function(t,e,n){if(t=qy.apply(this,arguments),t){if(this.cdata)var i=this.doc.createCDATASection(t);else var i=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(t)&&this.doc.appendChild(i),this.locator&&xa(this.locator,i)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){t=qy.apply(this,arguments);var i=this.doc.createComment(t);this.locator&&xa(this.locator,i),_l(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var i=this.doc.implementation;if(i&&i.createDocumentType){var r=i.createDocumentType(t,e,n);this.locator&&xa(this.locator,r),_l(this,r),this.doc.doctype=r}},warning:function(t){console.warn("[xmldom warning]	"+t,wp(this.locator))},error:function(t){console.error("[xmldom error]	"+t,wp(this.locator))},fatalError:function(t){throw new fO(t,this.locator)}};function wp(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function qy(t,e,n){return typeof t=="string"?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){yu.prototype[t]=function(){return null}});function _l(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}gu.__DOMHandler=yu;gu.DOMParser=Db;gu.DOMImplementation=bv.DOMImplementation;gu.XMLSerializer=bv.XMLSerializer;var mO=gu.DOMParser;/*! @name mpd-parser @version 0.21.1 @license Apache-2.0 */var Gy=function(e){return!!e&&typeof e=="object"},Xt=function t(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.reduce(function(r,a){return typeof a!="object"||Object.keys(a).forEach(function(s){Array.isArray(r[s])&&Array.isArray(a[s])?r[s]=r[s].concat(a[s]):Gy(r[s])&&Gy(a[s])?r[s]=t(r[s],a[s]):r[s]=a[s]}),r},{})},Lb=function(e){return Object.keys(e).map(function(n){return e[n]})},vO=function(e,n){for(var i=[],r=e;r<n;r++)i.push(r);return i},bd=function(e){return e.reduce(function(n,i){return n.concat(i)},[])},Fb=function(e){if(!e.length)return[];for(var n=[],i=0;i<e.length;i++)n.push(e[i]);return n},gO=function(e,n){return e.reduce(function(i,r,a){return r[n]&&i.push(a),i},[])},kp=function(e,n){for(var i=0;i<e.length;i++)if(n(e[i]))return i;return-1},yO=function(e,n){return Lb(e.reduce(function(i,r){return r.forEach(function(a){i[n(a)]=a}),i},{}))},hs={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},nu=function(e){var n=e.baseUrl,i=n===void 0?"":n,r=e.source,a=r===void 0?"":r,s=e.range,o=s===void 0?"":s,u=e.indexRange,l=u===void 0?"":u,c={uri:a,resolvedUri:Td(i||"",a)};if(o||l){var f=o||l,d=f.split("-"),g=R.BigInt?R.BigInt(d[0]):parseInt(d[0],10),_=R.BigInt?R.BigInt(d[1]):parseInt(d[1],10);g<Number.MAX_SAFE_INTEGER&&typeof g=="bigint"&&(g=Number(g)),_<Number.MAX_SAFE_INTEGER&&typeof _=="bigint"&&(_=Number(_));var y;typeof _=="bigint"||typeof g=="bigint"?y=R.BigInt(_)-R.BigInt(g)+R.BigInt(1):y=_-g+1,typeof y=="bigint"&&y<Number.MAX_SAFE_INTEGER&&(y=Number(y)),c.byterange={length:y,offset:g}}return c},_O=function(e){var n;return typeof e.offset=="bigint"||typeof e.length=="bigint"?n=R.BigInt(e.offset)+R.BigInt(e.length)-R.BigInt(1):n=e.offset+e.length-1,e.offset+"-"+n},Ky=function(e){return e&&typeof e!="number"&&(e=parseInt(e,10)),isNaN(e)?null:e},TO={static:function(e){var n=e.duration,i=e.timescale,r=i===void 0?1:i,a=e.sourceDuration,s=e.periodDuration,o=Ky(e.endNumber),u=n/r;return typeof o=="number"?{start:0,end:o}:typeof s=="number"?{start:0,end:s/u}:{start:0,end:a/u}},dynamic:function(e){var n=e.NOW,i=e.clientOffset,r=e.availabilityStartTime,a=e.timescale,s=a===void 0?1:a,o=e.duration,u=e.periodStart,l=u===void 0?0:u,c=e.minimumUpdatePeriod,f=c===void 0?0:c,d=e.timeShiftBufferDepth,g=d===void 0?1/0:d,_=Ky(e.endNumber),y=(n+i)/1e3,x=r+l,T=y+f,E=T-x,w=Math.ceil(E*s/o),k=Math.floor((y-x-g)*s/o),I=Math.floor((y-x)*s/o);return{start:Math.max(0,k),end:typeof _=="number"?_:Math.min(w,I)}}},xO=function(e){return function(n){var i=e.duration,r=e.timescale,a=r===void 0?1:r,s=e.periodStart,o=e.startNumber,u=o===void 0?1:o;return{number:u+n,duration:i/a,timeline:s,time:n*i}}},Ev=function(e){var n=e.type,i=e.duration,r=e.timescale,a=r===void 0?1:r,s=e.periodDuration,o=e.sourceDuration,u=TO[n](e),l=u.start,c=u.end,f=vO(l,c).map(xO(e));if(n==="static"){var d=f.length-1,g=typeof s=="number"?s:o;f[d].duration=g-i/a*d}return f},Rb=function(e){var n=e.baseUrl,i=e.initialization,r=i===void 0?{}:i,a=e.sourceDuration,s=e.indexRange,o=s===void 0?"":s,u=e.periodStart,l=e.presentationTime,c=e.number,f=c===void 0?0:c,d=e.duration;if(!n)throw new Error(hs.NO_BASE_URL);var g=nu({baseUrl:n,source:r.sourceURL,range:r.range}),_=nu({baseUrl:n,source:n,indexRange:o});if(_.map=g,d){var y=Ev(e);y.length&&(_.duration=y[0].duration,_.timeline=y[0].timeline)}else a&&(_.duration=a,_.timeline=u);return _.presentationTime=l||u,_.number=f,[_]},Cv=function(e,n,i){var r=e.sidx.map?e.sidx.map:null,a=e.sidx.duration,s=e.timeline||0,o=e.sidx.byterange,u=o.offset+o.length,l=n.timescale,c=n.references.filter(function(V){return V.referenceType!==1}),f=[],d=e.endList?"static":"dynamic",g=e.sidx.timeline,_=g,y=e.mediaSequence||0,x;typeof n.firstOffset=="bigint"?x=R.BigInt(u)+n.firstOffset:x=u+n.firstOffset;for(var T=0;T<c.length;T++){var E=n.references[T],w=E.referencedSize,k=E.subsegmentDuration,I=void 0;typeof x=="bigint"?I=x+R.BigInt(w)-R.BigInt(1):I=x+w-1;var D=x+"-"+I,F={baseUrl:i,timescale:l,timeline:s,periodStart:g,presentationTime:_,number:y,duration:k,sourceDuration:a,indexRange:D,type:d},L=Rb(F)[0];r&&(L.map=r),f.push(L),typeof x=="bigint"?x+=R.BigInt(w):x+=w,_+=k/l,y++}return e.segments=f,e},SO=["AUDIO","SUBTITLES"],bO=1/60,Nb=function(e){return yO(e,function(n){var i=n.timeline;return i}).sort(function(n,i){return n.timeline>i.timeline?1:-1})},EO=function(e,n){for(var i=0;i<e.length;i++)if(e[i].attributes.NAME===n)return e[i];return null},Xy=function(e){var n=[];return WI(e,SO,function(i,r,a,s){n=n.concat(i.playlists||[])}),n},Qy=function(e){var n=e.playlist,i=e.mediaSequence;n.mediaSequence=i,n.segments.forEach(function(r,a){r.number=n.mediaSequence+a})},CO=function(e){var n=e.oldPlaylists,i=e.newPlaylists,r=e.timelineStarts;i.forEach(function(a){a.discontinuitySequence=kp(r,function(c){var f=c.timeline;return f===a.timeline});var s=EO(n,a.attributes.NAME);if(!!s&&!a.sidx){var o=a.segments[0],u=kp(s.segments,function(c){return Math.abs(c.presentationTime-o.presentationTime)<bO});if(u===-1){Qy({playlist:a,mediaSequence:s.mediaSequence+s.segments.length}),a.segments[0].discontinuity=!0,a.discontinuityStarts.unshift(0),(!s.segments.length&&a.timeline>s.timeline||s.segments.length&&a.timeline>s.segments[s.segments.length-1].timeline)&&a.discontinuitySequence--;return}var l=s.segments[u];l.discontinuity&&!o.discontinuity&&(o.discontinuity=!0,a.discontinuityStarts.unshift(0),a.discontinuitySequence--),Qy({playlist:a,mediaSequence:s.segments[u].number})}})},wO=function(e){var n=e.oldManifest,i=e.newManifest,r=n.playlists.concat(Xy(n)),a=i.playlists.concat(Xy(i));return i.timelineStarts=Nb([n.timelineStarts,i.timelineStarts]),CO({oldPlaylists:r,newPlaylists:a,timelineStarts:i.timelineStarts}),i},Ed=function(e){return e&&e.uri+"-"+_O(e.byterange)},Xf=function(e){var n=Lb(e.reduce(function(i,r){var a=r.attributes.id+(r.attributes.lang||"");if(!i[a])i[a]=r,i[a].attributes.timelineStarts=[];else{if(r.segments){var s;r.segments[0]&&(r.segments[0].discontinuity=!0),(s=i[a].segments).push.apply(s,r.segments)}r.attributes.contentProtection&&(i[a].attributes.contentProtection=r.attributes.contentProtection)}return i[a].attributes.timelineStarts.push({start:r.attributes.periodStart,timeline:r.attributes.periodStart}),i},{}));return n.map(function(i){return i.discontinuityStarts=gO(i.segments||[],"discontinuity"),i})},wv=function(e,n){var i=Ed(e.sidx),r=i&&n[i]&&n[i].sidx;return r&&Cv(e,r,e.sidx.resolvedUri),e},kO=function(e,n){if(n===void 0&&(n={}),!Object.keys(n).length)return e;for(var i in e)e[i]=wv(e[i],n);return e},PO=function(e,n){var i,r=e.attributes,a=e.segments,s=e.sidx,o=e.mediaSequence,u=e.discontinuitySequence,l=e.discontinuityStarts,c={attributes:(i={NAME:r.id,BANDWIDTH:r.bandwidth,CODECS:r.codecs},i["PROGRAM-ID"]=1,i),uri:"",endList:r.type==="static",timeline:r.periodStart,resolvedUri:"",targetDuration:r.duration,discontinuitySequence:u,discontinuityStarts:l,timelineStarts:r.timelineStarts,mediaSequence:o,segments:a};return r.contentProtection&&(c.contentProtection=r.contentProtection),s&&(c.sidx=s),n&&(c.attributes.AUDIO="audio",c.attributes.SUBTITLES="subs"),c},AO=function(e){var n,i=e.attributes,r=e.segments,a=e.mediaSequence,s=e.discontinuityStarts,o=e.discontinuitySequence;typeof r>"u"&&(r=[{uri:i.baseUrl,timeline:i.periodStart,resolvedUri:i.baseUrl||"",duration:i.sourceDuration,number:0}],i.duration=i.sourceDuration);var u=(n={NAME:i.id,BANDWIDTH:i.bandwidth},n["PROGRAM-ID"]=1,n);return i.codecs&&(u.CODECS=i.codecs),{attributes:u,uri:"",endList:i.type==="static",timeline:i.periodStart,resolvedUri:i.baseUrl||"",targetDuration:i.duration,timelineStarts:i.timelineStarts,discontinuityStarts:s,discontinuitySequence:o,mediaSequence:a,segments:r}},IO=function(e,n,i){n===void 0&&(n={}),i===void 0&&(i=!1);var r,a=e.reduce(function(o,u){var l=u.attributes.role&&u.attributes.role.value||"",c=u.attributes.lang||"",f=u.attributes.label||"main";if(c&&!u.attributes.label){var d=l?" ("+l+")":"";f=""+u.attributes.lang+d}o[f]||(o[f]={language:c,autoselect:!0,default:l==="main",playlists:[],uri:""});var g=wv(PO(u,i),n);return o[f].playlists.push(g),typeof r>"u"&&l==="main"&&(r=u,r.default=!0),o},{});if(!r){var s=Object.keys(a)[0];a[s].default=!0}return a},OO=function(e,n){return n===void 0&&(n={}),e.reduce(function(i,r){var a=r.attributes.lang||"text";return i[a]||(i[a]={language:a,default:!1,autoselect:!1,playlists:[],uri:""}),i[a].playlists.push(wv(AO(r),n)),i},{})},DO=function(e){return e.reduce(function(n,i){return i&&i.forEach(function(r){var a=r.channel,s=r.language;n[s]={autoselect:!1,default:!1,instreamId:a,language:s},r.hasOwnProperty("aspectRatio")&&(n[s].aspectRatio=r.aspectRatio),r.hasOwnProperty("easyReader")&&(n[s].easyReader=r.easyReader),r.hasOwnProperty("3D")&&(n[s]["3D"]=r["3D"])}),n},{})},LO=function(e){var n,i=e.attributes,r=e.segments,a=e.sidx,s=e.discontinuityStarts,o={attributes:(n={NAME:i.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:i.width,height:i.height},CODECS:i.codecs,BANDWIDTH:i.bandwidth},n["PROGRAM-ID"]=1,n),uri:"",endList:i.type==="static",timeline:i.periodStart,resolvedUri:"",targetDuration:i.duration,discontinuityStarts:s,timelineStarts:i.timelineStarts,segments:r};return i.contentProtection&&(o.contentProtection=i.contentProtection),a&&(o.sidx=a),o},FO=function(e){var n=e.attributes;return n.mimeType==="video/mp4"||n.mimeType==="video/webm"||n.contentType==="video"},RO=function(e){var n=e.attributes;return n.mimeType==="audio/mp4"||n.mimeType==="audio/webm"||n.contentType==="audio"},NO=function(e){var n=e.attributes;return n.mimeType==="text/vtt"||n.contentType==="text"},MO=function(e,n){e.forEach(function(i){i.mediaSequence=0,i.discontinuitySequence=kp(n,function(r){var a=r.timeline;return a===i.timeline}),i.segments&&i.segments.forEach(function(r,a){r.number=a})})},Yy=function(e){return e?Object.keys(e).reduce(function(n,i){var r=e[i];return n.concat(r.playlists)},[]):[]},UO=function(e){var n,i=e.dashPlaylists,r=e.locations,a=e.sidxMapping,s=a===void 0?{}:a,o=e.previousManifest;if(!i.length)return{};var u=i[0].attributes,l=u.sourceDuration,c=u.type,f=u.suggestedPresentationDelay,d=u.minimumUpdatePeriod,g=Xf(i.filter(FO)).map(LO),_=Xf(i.filter(RO)),y=Xf(i.filter(NO)),x=i.map(function(F){return F.attributes.captionServices}).filter(Boolean),T={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(n={AUDIO:{},VIDEO:{}},n["CLOSED-CAPTIONS"]={},n.SUBTITLES={},n),uri:"",duration:l,playlists:kO(g,s)};d>=0&&(T.minimumUpdatePeriod=d*1e3),r&&(T.locations=r),c==="dynamic"&&(T.suggestedPresentationDelay=f);var E=T.playlists.length===0,w=_.length?IO(_,s,E):null,k=y.length?OO(y,s):null,I=g.concat(Yy(w),Yy(k)),D=I.map(function(F){var L=F.timelineStarts;return L});return T.timelineStarts=Nb(D),MO(I,T.timelineStarts),w&&(T.mediaGroups.AUDIO.audio=w),k&&(T.mediaGroups.SUBTITLES.subs=k),x.length&&(T.mediaGroups["CLOSED-CAPTIONS"].cc=DO(x)),o?wO({oldManifest:o,newManifest:T}):T},BO=function(e,n,i){var r=e.NOW,a=e.clientOffset,s=e.availabilityStartTime,o=e.timescale,u=o===void 0?1:o,l=e.periodStart,c=l===void 0?0:l,f=e.minimumUpdatePeriod,d=f===void 0?0:f,g=(r+a)/1e3,_=s+c,y=g+d,x=y-_;return Math.ceil((x*u-n)/i)},Mb=function(e,n){for(var i=e.type,r=e.minimumUpdatePeriod,a=r===void 0?0:r,s=e.media,o=s===void 0?"":s,u=e.sourceDuration,l=e.timescale,c=l===void 0?1:l,f=e.startNumber,d=f===void 0?1:f,g=e.periodStart,_=[],y=-1,x=0;x<n.length;x++){var T=n[x],E=T.d,w=T.r||0,k=T.t||0;y<0&&(y=k),k&&k>y&&(y=k);var I=void 0;if(w<0){var D=x+1;D===n.length?i==="dynamic"&&a>0&&o.indexOf("$Number$")>0?I=BO(e,y,E):I=(u*c-y)/E:I=(n[D].t-y)/E}else I=w+1;for(var F=d+_.length+I,L=d+_.length;L<F;)_.push({number:L,duration:E/c,time:y,timeline:g}),y+=E,L++}return _},VO=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,jO=function(e){return function(n,i,r,a){if(n==="$$")return"$";if(typeof e[i]>"u")return n;var s=""+e[i];return i==="RepresentationID"||(r?a=parseInt(a,10):a=1,s.length>=a)?s:""+new Array(a-s.length+1).join("0")+s}},Jy=function(e,n){return e.replace(VO,jO(n))},zO=function(e,n){return!e.duration&&!n?[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodStart}]:e.duration?Ev(e):Mb(e,n)},HO=function(e,n){var i={RepresentationID:e.id,Bandwidth:e.bandwidth||0},r=e.initialization,a=r===void 0?{sourceURL:"",range:""}:r,s=nu({baseUrl:e.baseUrl,source:Jy(a.sourceURL,i),range:a.range}),o=zO(e,n);return o.map(function(u){i.Number=u.number,i.Time=u.time;var l=Jy(e.media||"",i),c=e.timescale||1,f=e.presentationTimeOffset||0,d=e.periodStart+(u.time-f)/c,g={uri:l,timeline:u.timeline,duration:u.duration,resolvedUri:Td(e.baseUrl||"",l),map:s,number:u.number,presentationTime:d};return g})},$O=function(e,n){var i=e.baseUrl,r=e.initialization,a=r===void 0?{}:r,s=nu({baseUrl:i,source:a.sourceURL,range:a.range}),o=nu({baseUrl:i,source:n.media,range:n.mediaRange});return o.map=s,o},WO=function(e,n){var i=e.duration,r=e.segmentUrls,a=r===void 0?[]:r,s=e.periodStart;if(!i&&!n||i&&n)throw new Error(hs.SEGMENT_TIME_UNSPECIFIED);var o=a.map(function(c){return $O(e,c)}),u;i&&(u=Ev(e)),n&&(u=Mb(e,n));var l=u.map(function(c,f){if(o[f]){var d=o[f],g=e.timescale||1,_=e.presentationTimeOffset||0;return d.timeline=c.timeline,d.duration=c.duration,d.number=c.number,d.presentationTime=s+(c.time-_)/g,d}}).filter(function(c){return c});return l},qO=function(e){var n=e.attributes,i=e.segmentInfo,r,a;i.template?(a=HO,r=Xt(n,i.template)):i.base?(a=Rb,r=Xt(n,i.base)):i.list&&(a=WO,r=Xt(n,i.list));var s={attributes:n};if(!a)return s;var o=a(r,i.segmentTimeline);if(r.duration){var u=r,l=u.duration,c=u.timescale,f=c===void 0?1:c;r.duration=l/f}else o.length?r.duration=o.reduce(function(d,g){return Math.max(d,Math.ceil(g.duration))},0):r.duration=0;return s.attributes=r,s.segments=o,i.base&&r.indexRange&&(s.sidx=o[0],s.segments=[]),s},GO=function(e){return e.map(qO)},ot=function(e,n){return Fb(e.childNodes).filter(function(i){var r=i.tagName;return r===n})},kv=function(e){return e.textContent.trim()},Sa=function(e){var n=31536e3,i=30*24*60*60,r=24*60*60,a=60*60,s=60,o=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/,u=o.exec(e);if(!u)return 0;var l=u.slice(1),c=l[0],f=l[1],d=l[2],g=l[3],_=l[4],y=l[5];return parseFloat(c||0)*n+parseFloat(f||0)*i+parseFloat(d||0)*r+parseFloat(g||0)*a+parseFloat(_||0)*s+parseFloat(y||0)},KO=function(e){var n=/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/;return n.test(e)&&(e+="Z"),Date.parse(e)},Zy={mediaPresentationDuration:function(e){return Sa(e)},availabilityStartTime:function(e){return KO(e)/1e3},minimumUpdatePeriod:function(e){return Sa(e)},suggestedPresentationDelay:function(e){return Sa(e)},type:function(e){return e},timeShiftBufferDepth:function(e){return Sa(e)},start:function(e){return Sa(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},presentationTimeOffset:function(e){return parseInt(e,10)},duration:function(e){var n=parseInt(e,10);return isNaN(n)?Sa(e):n},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},Rt=function(e){return e&&e.attributes?Fb(e.attributes).reduce(function(n,i){var r=Zy[i.name]||Zy.DEFAULT;return n[i.name]=r(i.value),n},{}):{}},XO={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},Cd=function(e,n){return n.length?bd(e.map(function(i){return n.map(function(r){return Td(i,kv(r))})})):e},Pv=function(e){var n=ot(e,"SegmentTemplate")[0],i=ot(e,"SegmentList")[0],r=i&&ot(i,"SegmentURL").map(function(d){return Xt({tag:"SegmentURL"},Rt(d))}),a=ot(e,"SegmentBase")[0],s=i||n,o=s&&ot(s,"SegmentTimeline")[0],u=i||a||n,l=u&&ot(u,"Initialization")[0],c=n&&Rt(n);c&&l?c.initialization=l&&Rt(l):c&&c.initialization&&(c.initialization={sourceURL:c.initialization});var f={template:c,segmentTimeline:o&&ot(o,"S").map(function(d){return Rt(d)}),list:i&&Xt(Rt(i),{segmentUrls:r,initialization:Rt(l)}),base:a&&Xt(Rt(a),{initialization:Rt(l)})};return Object.keys(f).forEach(function(d){f[d]||delete f[d]}),f},QO=function(e,n,i){return function(r){var a=ot(r,"BaseURL"),s=Cd(n,a),o=Xt(e,Rt(r)),u=Pv(r);return s.map(function(l){return{segmentInfo:Xt(i,u),attributes:Xt(o,{baseUrl:l})}})}},YO=function(e){return e.reduce(function(n,i){var r=Rt(i);r.schemeIdUri&&(r.schemeIdUri=r.schemeIdUri.toLowerCase());var a=XO[r.schemeIdUri];if(a){n[a]={attributes:r};var s=ot(i,"cenc:pssh")[0];if(s){var o=kv(s);n[a].pssh=o&&tb(o)}}return n},{})},JO=function(e){if(e.schemeIdUri==="urn:scte:dash:cc:cea-608:2015"){var n=typeof e.value!="string"?[]:e.value.split(";");return n.map(function(r){var a,s;if(s=r,/^CC\d=/.test(r)){var o=r.split("=");a=o[0],s=o[1]}else/^CC\d$/.test(r)&&(a=r);return{channel:a,language:s}})}else if(e.schemeIdUri==="urn:scte:dash:cc:cea-708:2015"){var i=typeof e.value!="string"?[]:e.value.split(";");return i.map(function(r){var a={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(r)){var s=r.split("="),o=s[0],u=s[1],l=u===void 0?"":u;a.channel=o,a.language=r,l.split(",").forEach(function(c){var f=c.split(":"),d=f[0],g=f[1];d==="lang"?a.language=g:d==="er"?a.easyReader=Number(g):d==="war"?a.aspectRatio=Number(g):d==="3D"&&(a["3D"]=Number(g))})}else a.language=r;return a.channel&&(a.channel="SERVICE"+a.channel),a})}},ZO=function(e,n,i){return function(r){var a=Rt(r),s=Cd(n,ot(r,"BaseURL")),o=ot(r,"Role")[0],u={role:Rt(o)},l=Xt(e,a,u),c=ot(r,"Accessibility")[0],f=JO(Rt(c));f&&(l=Xt(l,{captionServices:f}));var d=ot(r,"Label")[0];if(d&&d.childNodes.length){var g=d.childNodes[0].nodeValue.trim();l=Xt(l,{label:g})}var _=YO(ot(r,"ContentProtection"));Object.keys(_).length&&(l=Xt(l,{contentProtection:_}));var y=Pv(r),x=ot(r,"Representation"),T=Xt(i,y);return bd(x.map(QO(l,s,T)))}},eD=function(e,n){return function(i,r){var a=Cd(n,ot(i.node,"BaseURL")),s=Xt(e,{periodStart:i.attributes.start});typeof i.attributes.duration=="number"&&(s.periodDuration=i.attributes.duration);var o=ot(i.node,"AdaptationSet"),u=Pv(i.node);return bd(o.map(ZO(s,a,u)))}},tD=function(e){var n=e.attributes,i=e.priorPeriodAttributes,r=e.mpdType;return typeof n.start=="number"?n.start:i&&typeof i.start=="number"&&typeof i.duration=="number"?i.start+i.duration:!i&&r==="static"?0:null},rD=function(e,n){n===void 0&&(n={});var i=n,r=i.manifestUri,a=r===void 0?"":r,s=i.NOW,o=s===void 0?Date.now():s,u=i.clientOffset,l=u===void 0?0:u,c=ot(e,"Period");if(!c.length)throw new Error(hs.INVALID_NUMBER_OF_PERIOD);var f=ot(e,"Location"),d=Rt(e),g=Cd([a],ot(e,"BaseURL"));d.type=d.type||"static",d.sourceDuration=d.mediaPresentationDuration||0,d.NOW=o,d.clientOffset=l,f.length&&(d.locations=f.map(kv));var _=[];return c.forEach(function(y,x){var T=Rt(y),E=_[x-1];T.start=tD({attributes:T,priorPeriodAttributes:E?E.attributes:null,mpdType:d.type}),_.push({node:y,attributes:T})}),{locations:d.locations,representationInfo:bd(_.map(eD(d,g)))}},Ub=function(e){if(e==="")throw new Error(hs.DASH_EMPTY_MANIFEST);var n=new mO,i,r;try{i=n.parseFromString(e,"application/xml"),r=i&&i.documentElement.tagName==="MPD"?i.documentElement:null}catch{}if(!r||r&&r.getElementsByTagName("parsererror").length>0)throw new Error(hs.DASH_INVALID_XML);return r},nD=function(e){var n=ot(e,"UTCTiming")[0];if(!n)return null;var i=Rt(n);switch(i.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":i.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":i.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":i.method="DIRECT",i.value=Date.parse(i.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(hs.UNSUPPORTED_UTC_TIMING_SCHEME)}return i},iD=function(e,n){n===void 0&&(n={});var i=rD(Ub(e),n),r=GO(i.representationInfo);return UO({dashPlaylists:r,locations:i.locations,sidxMapping:n.sidxMapping,previousManifest:n.previousManifest})},aD=function(e){return nD(Ub(e))},Bb=Math.pow(2,32),sD=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n;return e.getBigUint64?(n=e.getBigUint64(0),n<Number.MAX_SAFE_INTEGER?Number(n):n):e.getUint32(0)*Bb+e.getUint32(4)},oD={getUint64:sD,MAX_UINT32:Bb},e_=oD.getUint64,uD=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},i=12;n.version===0?(n.earliestPresentationTime=e.getUint32(i),n.firstOffset=e.getUint32(i+4),i+=8):(n.earliestPresentationTime=e_(t.subarray(i)),n.firstOffset=e_(t.subarray(i+8)),i+=16),i+=2;var r=e.getUint16(i);for(i+=2;r>0;i+=12,r--)n.references.push({referenceType:(t[i]&128)>>>7,referencedSize:e.getUint32(i)&2147483647,subsegmentDuration:e.getUint32(i+4),startsWithSap:!!(t[i+8]&128),sapType:(t[i+8]&112)>>>4,sapDeltaTime:e.getUint32(i+8)&268435455});return n},lD=uD,cD=me([73,68,51]),dD=function(e,n){n===void 0&&(n=0),e=me(e);var i=e[n+5],r=e[n+6]<<21|e[n+7]<<14|e[n+8]<<7|e[n+9],a=(i&16)>>4;return a?r+20:r+10},po=function t(e,n){return n===void 0&&(n=0),e=me(e),e.length-n<10||!Qe(e,cD,{offset:n})?n:(n+=dD(e,n),t(e,n))},t_=function(e){return typeof e=="string"?sb(e):e},fD=function(e){return Array.isArray(e)?e.map(function(n){return t_(n)}):[t_(e)]},hD=function t(e,n,i){i===void 0&&(i=!1),n=fD(n),e=me(e);var r=[];if(!n.length)return r;for(var a=0;a<e.length;){var s=(e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3])>>>0,o=e.subarray(a+4,a+8);if(s===0)break;var u=a+s;if(u>e.length){if(i)break;u=e.length}var l=e.subarray(a+8,u);Qe(o,n[0])&&(n.length===1?r.push(l):r.push.apply(r,t(l,n.slice(1),i))),a=u}return r},Tl={EBML:me([26,69,223,163]),DocType:me([66,130]),Segment:me([24,83,128,103]),SegmentInfo:me([21,73,169,102]),Tracks:me([22,84,174,107]),Track:me([174]),TrackNumber:me([215]),DefaultDuration:me([35,227,131]),TrackEntry:me([174]),TrackType:me([131]),FlagDefault:me([136]),CodecID:me([134]),CodecPrivate:me([99,162]),VideoTrack:me([224]),AudioTrack:me([225]),Cluster:me([31,67,182,117]),Timestamp:me([231]),TimestampScale:me([42,215,177]),BlockGroup:me([160]),BlockDuration:me([155]),Block:me([161]),SimpleBlock:me([163])},Pp=[128,64,32,16,8,4,2,1],pD=function(e){for(var n=1,i=0;i<Pp.length&&!(e&Pp[i]);i++)n++;return n},Lc=function(e,n,i,r){i===void 0&&(i=!0),r===void 0&&(r=!1);var a=pD(e[n]),s=e.subarray(n,n+a);return i&&(s=Array.prototype.slice.call(e,n,n+a),s[0]^=Pp[a-1]),{length:a,value:zI(s,{signed:r}),bytes:s}},r_=function t(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(n){return t(n)}):typeof e=="number"?HI(e):e},mD=function(e){return Array.isArray(e)?e.map(function(n){return r_(n)}):[r_(e)]},vD=function t(e,n,i){if(i>=n.length)return n.length;var r=Lc(n,i,!1);if(Qe(e.bytes,r.bytes))return i;var a=Lc(n,i+r.length);return t(e,n,i+a.length+a.value+r.length)},n_=function t(e,n){n=mD(n),e=me(e);var i=[];if(!n.length)return i;for(var r=0;r<e.length;){var a=Lc(e,r,!1),s=Lc(e,r+a.length),o=r+a.length+s.length;s.value===127&&(s.value=vD(a,e,o),s.value!==e.length&&(s.value-=o));var u=o+s.value>e.length?e.length:o+s.value,l=e.subarray(o,u);Qe(n[0],a.bytes)&&(n.length===1?i.push(l):i=i.concat(t(l,n.slice(1))));var c=a.length+s.length+l.length;r+=c}return i},gD=me([0,0,0,1]),yD=me([0,0,1]),_D=me([0,0,3]),TD=function(e){for(var n=[],i=1;i<e.length-2;)Qe(e.subarray(i,i+3),_D)&&(n.push(i+2),i++),i++;if(n.length===0)return e;var r=e.length-n.length,a=new Uint8Array(r),s=0;for(i=0;i<r;s++,i++)s===n[0]&&(s++,n.shift()),a[i]=e[s];return a},Vb=function(e,n,i,r){r===void 0&&(r=1/0),e=me(e),i=[].concat(i);for(var a=0,s,o=0;a<e.length&&(o<r||s);){var u=void 0;if(Qe(e.subarray(a),gD)?u=4:Qe(e.subarray(a),yD)&&(u=3),!u){a++;continue}if(o++,s)return TD(e.subarray(s,a));var l=void 0;n==="h264"?l=e[a+u]&31:n==="h265"&&(l=e[a+u]>>1&63),i.indexOf(l)!==-1&&(s=a+u),a+=u+(n==="h264"?1:2)}return e.subarray(0,0)},xD=function(e,n,i){return Vb(e,"h264",n,i)},SD=function(e,n,i){return Vb(e,"h265",n,i)},Wt={webm:me([119,101,98,109]),matroska:me([109,97,116,114,111,115,107,97]),flac:me([102,76,97,67]),ogg:me([79,103,103,83]),ac3:me([11,119]),riff:me([82,73,70,70]),avi:me([65,86,73]),wav:me([87,65,86,69]),"3gp":me([102,116,121,112,51,103]),mp4:me([102,116,121,112]),fmp4:me([115,116,121,112]),mov:me([102,116,121,112,113,116]),moov:me([109,111,111,118]),moof:me([109,111,111,102])},ps={aac:function(e){var n=po(e);return Qe(e,[255,16],{offset:n,mask:[255,22]})},mp3:function(e){var n=po(e);return Qe(e,[255,2],{offset:n,mask:[255,6]})},webm:function(e){var n=n_(e,[Tl.EBML,Tl.DocType])[0];return Qe(n,Wt.webm)},mkv:function(e){var n=n_(e,[Tl.EBML,Tl.DocType])[0];return Qe(n,Wt.matroska)},mp4:function(e){if(ps["3gp"](e)||ps.mov(e))return!1;if(Qe(e,Wt.mp4,{offset:4})||Qe(e,Wt.fmp4,{offset:4})||Qe(e,Wt.moof,{offset:4})||Qe(e,Wt.moov,{offset:4}))return!0},mov:function(e){return Qe(e,Wt.mov,{offset:4})},"3gp":function(e){return Qe(e,Wt["3gp"],{offset:4})},ac3:function(e){var n=po(e);return Qe(e,Wt.ac3,{offset:n})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var n=0;n+188<e.length&&n<188;){if(e[n]===71&&e[n+188]===71)return!0;n+=1}return!1},flac:function(e){var n=po(e);return Qe(e,Wt.flac,{offset:n})},ogg:function(e){return Qe(e,Wt.ogg)},avi:function(e){return Qe(e,Wt.riff)&&Qe(e,Wt.avi,{offset:8})},wav:function(e){return Qe(e,Wt.riff)&&Qe(e,Wt.wav,{offset:8})},h264:function(e){return xD(e,7,3).length},h265:function(e){return SD(e,[32,33],3).length}},Ap=Object.keys(ps).filter(function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"}).concat(["ts","h264","h265"]);Ap.forEach(function(t){var e=ps[t];ps[t]=function(n){return e(me(n))}});var bD=ps,Av=function(e){e=me(e);for(var n=0;n<Ap.length;n++){var i=Ap[n];if(bD[i](e))return i}return""},ED=function(e){return hD(e,["moof"]).length>0},Iv=9e4,Ov,Dv,wd,Lv,jb,zb,Hb;Ov=function(t){return t*Iv};Dv=function(t,e){return t*e};wd=function(t){return t/Iv};Lv=function(t,e){return t/e};jb=function(t,e){return Ov(Lv(t,e))};zb=function(t,e){return Dv(wd(t),e)};Hb=function(t,e,n){return wd(n?t:t-e)};var Fc={ONE_SECOND_IN_TS:Iv,secondsToVideoTs:Ov,secondsToAudioTs:Dv,videoTsToSeconds:wd,audioTsToSeconds:Lv,audioTsToVideoTs:jb,videoTsToAudioTs:zb,metadataTsToSeconds:Hb};/**
 * @license
 * Video.js 7.20.2 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var $b="7.20.2",En={},_i=function(e,n){return En[e]=En[e]||[],n&&(En[e]=En[e].concat(n)),En[e]},CD=function(e,n){_i(e,n)},Wb=function(e,n){var i=_i(e).indexOf(n);return i<=-1?!1:(En[e]=En[e].slice(),En[e].splice(i,1),!0)},wD=function(e,n){_i(e,[].concat(n).map(function(i){var r=function a(){return Wb(e,a),i.apply(void 0,arguments)};return r}))},Rc={prefixed:!0},Yl=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],i_=Yl[0],mo;for(var xl=0;xl<Yl.length;xl++)if(Yl[xl][1]in te){mo=Yl[xl];break}if(mo){for(var Sl=0;Sl<mo.length;Sl++)Rc[i_[Sl]]=mo[Sl];Rc.prefixed=mo[0]!==i_[0]}var rr=[],kD=function(e,n){return function(i,r,a){var s=n.levels[r],o=new RegExp("^("+s+")$");if(i!=="log"&&a.unshift(i.toUpperCase()+":"),a.unshift(e+":"),rr){rr.push([].concat(a));var u=rr.length-1e3;rr.splice(0,u>0?u:0)}if(!!R.console){var l=R.console[i];!l&&i==="debug"&&(l=R.console.info||R.console.log),!(!l||!s||!o.test(i))&&l[Array.isArray(a)?"apply":"call"](R.console,a)}}};function qb(t){var e="info",n,i=function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];n("log",e,s)};return n=kD(t,i),i.createLogger=function(r){return qb(t+": "+r)},i.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:e},i.level=function(r){if(typeof r=="string"){if(!i.levels.hasOwnProperty(r))throw new Error('"'+r+'" in not a valid log level');e=r}return e},i.history=function(){return rr?[].concat(rr):[]},i.history.filter=function(r){return(rr||[]).filter(function(a){return new RegExp(".*"+r+".*").test(a[0])})},i.history.clear=function(){rr&&(rr.length=0)},i.history.disable=function(){rr!==null&&(rr.length=0,rr=null)},i.history.enable=function(){rr===null&&(rr=[])},i.error=function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n("error",e,a)},i.warn=function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n("warn",e,a)},i.debug=function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n("debug",e,a)},i}var Se=qb("VIDEOJS"),Gb=Se.createLogger,PD=Object.prototype.toString,Kb=function(e){return Bn(e)?Object.keys(e):[]};function Ja(t,e){Kb(t).forEach(function(n){return e(t[n],n)})}function AD(t,e,n){return n===void 0&&(n=0),Kb(t).reduce(function(i,r){return e(i,t[r],r)},n)}function it(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return Object.assign?bt.apply(void 0,[t].concat(n)):(n.forEach(function(r){!r||Ja(r,function(a,s){t[s]=a})}),t)}function Bn(t){return!!t&&typeof t=="object"}function iu(t){return Bn(t)&&PD.call(t)==="[object Object]"&&t.constructor===Object}function au(t,e){if(!t||!e)return"";if(typeof R.getComputedStyle=="function"){var n;try{n=R.getComputedStyle(t)}catch{return""}return n?n.getPropertyValue(e)||n[e]:""}return""}var St=R.navigator&&R.navigator.userAgent||"",a_=/AppleWebKit\/([\d.]+)/i.exec(St),ID=a_?parseFloat(a_.pop()):null,Xb=/iPod/i.test(St),OD=function(){var t=St.match(/OS (\d+)_/i);return t&&t[1]?t[1]:null}(),Hn=/Android/i.test(St),Fv=function(){var t=St.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),n=t[2]&&parseFloat(t[2]);return e&&n?parseFloat(t[1]+"."+t[2]):e||null}(),Qb=Hn&&Fv<5&&ID<537,Yb=/Firefox/i.test(St),_u=/Edg/i.test(St),$n=!_u&&(/Chrome/i.test(St)||/CriOS/i.test(St)),Jb=function(){var t=St.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),Tu=function(){var t=/MSIE\s(\d+)\.\d/.exec(St),e=t&&parseFloat(t[1]);return!e&&/Trident\/7.0/i.test(St)&&/rv:11.0/.test(St)&&(e=11),e}(),Rv=/Safari/i.test(St)&&!$n&&!Hn&&!_u,Zb=/Windows/i.test(St),ms=Boolean(As()&&("ontouchstart"in R||R.navigator.maxTouchPoints||R.DocumentTouch&&R.document instanceof R.DocumentTouch)),Nv=/iPad/i.test(St)||Rv&&ms&&!/iPhone/i.test(St),Mv=/iPhone/i.test(St)&&!Nv,Zt=Mv||Nv||Xb,kd=(Rv||Zt)&&!$n,DD=Object.freeze({__proto__:null,IS_IPOD:Xb,IOS_VERSION:OD,IS_ANDROID:Hn,ANDROID_VERSION:Fv,IS_NATIVE_ANDROID:Qb,IS_FIREFOX:Yb,IS_EDGE:_u,IS_CHROME:$n,CHROME_VERSION:Jb,IE_VERSION:Tu,IS_SAFARI:Rv,IS_WINDOWS:Zb,TOUCH_ENABLED:ms,IS_IPAD:Nv,IS_IPHONE:Mv,IS_IOS:Zt,IS_ANY_SAFARI:kd});function s_(t){return typeof t=="string"&&Boolean(t.trim())}function eE(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function LD(t){return new RegExp("(^|\\s)"+t+"($|\\s)")}function As(){return te===R.document}function Is(t){return Bn(t)&&t.nodeType===1}function tE(){try{return R.parent!==R.self}catch{return!0}}function rE(t){return function(e,n){if(!s_(e))return te[t](null);s_(n)&&(n=te.querySelector(n));var i=Is(n)?n:te;return i[t]&&i[t](e)}}function ke(t,e,n,i){t===void 0&&(t="div"),e===void 0&&(e={}),n===void 0&&(n={});var r=te.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(a){var s=e[a];a.indexOf("aria-")!==-1||a==="role"||a==="type"?(Se.warn(`Setting attributes in the second argument of createEl()
has been deprecated. Use the third argument instead.
`+("createEl(type, properties, attributes). Attempting to set "+a+" to "+s+".")),r.setAttribute(a,s)):a==="textContent"?da(r,s):(r[a]!==s||a==="tabIndex")&&(r[a]=s)}),Object.getOwnPropertyNames(n).forEach(function(a){r.setAttribute(a,n[a])}),i&&Bv(r,i),r}function da(t,e){return typeof t.textContent>"u"?t.innerText=e:t.textContent=e,t}function Ip(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function Qi(t,e){return eE(e),t.classList?t.classList.contains(e):LD(e).test(t.className)}function In(t,e){return t.classList?t.classList.add(e):Qi(t,e)||(t.className=(t.className+" "+e).trim()),t}function xu(t,e){return t?(t.classList?t.classList.remove(e):(eE(e),t.className=t.className.split(/\s+/).filter(function(n){return n!==e}).join(" ")),t):(Se.warn("removeClass was called with an element that doesn't exist"),null)}function nE(t,e,n){var i=Qi(t,e);if(typeof n=="function"&&(n=n(t,e)),typeof n!="boolean"&&(n=!i),n!==i)return n?In(t,e):xu(t,e),t}function iE(t,e){Object.getOwnPropertyNames(e).forEach(function(n){var i=e[n];i===null||typeof i>"u"||i===!1?t.removeAttribute(n):t.setAttribute(n,i===!0?"":i)})}function Tn(t){var e={},n=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&t.attributes.length>0)for(var i=t.attributes,r=i.length-1;r>=0;r--){var a=i[r].name,s=i[r].value;(typeof t[a]=="boolean"||n.indexOf(","+a+",")!==-1)&&(s=s!==null),e[a]=s}return e}function aE(t,e){return t.getAttribute(e)}function vs(t,e,n){t.setAttribute(e,n)}function Pd(t,e){t.removeAttribute(e)}function sE(){te.body.focus(),te.onselectstart=function(){return!1}}function oE(){te.onselectstart=function(){return!0}}function gs(t){if(t&&t.getBoundingClientRect&&t.parentNode){var e=t.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(function(i){e[i]!==void 0&&(n[i]=e[i])}),n.height||(n.height=parseFloat(au(t,"height"))),n.width||(n.width=parseFloat(au(t,"width"))),n}}function su(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};for(var e=t.offsetWidth,n=t.offsetHeight,i=0,r=0;t.offsetParent&&t!==te[Rc.fullscreenElement];)i+=t.offsetLeft,r+=t.offsetTop,t=t.offsetParent;return{left:i,top:r,width:e,height:n}}function Ad(t,e){var n={x:0,y:0};if(Zt)for(var i=t;i&&i.nodeName.toLowerCase()!=="html";){var r=au(i,"transform");if(/^matrix/.test(r)){var a=r.slice(7,-1).split(/,\s/).map(Number);n.x+=a[4],n.y+=a[5]}else if(/^matrix3d/.test(r)){var s=r.slice(9,-1).split(/,\s/).map(Number);n.x+=s[12],n.y+=s[13]}i=i.parentNode}var o={},u=su(e.target),l=su(t),c=l.width,f=l.height,d=e.offsetY-(l.top-u.top),g=e.offsetX-(l.left-u.left);return e.changedTouches&&(g=e.changedTouches[0].pageX-l.left,d=e.changedTouches[0].pageY+l.top,Zt&&(g-=n.x,d-=n.y)),o.y=1-Math.max(0,Math.min(1,d/f)),o.x=Math.max(0,Math.min(1,g/c)),o}function uE(t){return Bn(t)&&t.nodeType===3}function Uv(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function lE(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(function(e){if(typeof e=="function"&&(e=e()),Is(e)||uE(e))return e;if(typeof e=="string"&&/\S/.test(e))return te.createTextNode(e)}).filter(function(e){return e})}function Bv(t,e){return lE(e).forEach(function(n){return t.appendChild(n)}),t}function cE(t,e){return Bv(Uv(t),e)}function ou(t){return t.button===void 0&&t.buttons===void 0||t.button===0&&t.buttons===void 0||t.type==="mouseup"&&t.button===0&&t.buttons===0?!0:!(t.button!==0||t.buttons!==1)}var Ti=rE("querySelector"),dE=rE("querySelectorAll"),fE=Object.freeze({__proto__:null,isReal:As,isEl:Is,isInFrame:tE,createEl:ke,textContent:da,prependTo:Ip,hasClass:Qi,addClass:In,removeClass:xu,toggleClass:nE,setAttributes:iE,getAttributes:Tn,getAttribute:aE,setAttribute:vs,removeAttribute:Pd,blockTextSelection:sE,unblockTextSelection:oE,getBoundingClientRect:gs,findPosition:su,getPointerPosition:Ad,isTextNode:uE,emptyEl:Uv,normalizeContent:lE,appendContent:Bv,insertContent:cE,isSingleLeftClick:ou,$:Ti,$$:dE}),hE=!1,Op,FD=function(){if(Op.options.autoSetup!==!1){var e=Array.prototype.slice.call(te.getElementsByTagName("video")),n=Array.prototype.slice.call(te.getElementsByTagName("audio")),i=Array.prototype.slice.call(te.getElementsByTagName("video-js")),r=e.concat(n,i);if(r&&r.length>0)for(var a=0,s=r.length;a<s;a++){var o=r[a];if(o&&o.getAttribute){if(o.player===void 0){var u=o.getAttribute("data-setup");u!==null&&Op(o)}}else{Dp(1);break}}else hE||Dp(1)}};function Dp(t,e){!As()||(e&&(Op=e),R.setTimeout(FD,t))}function Lp(){hE=!0,R.removeEventListener("load",Lp)}As()&&(te.readyState==="complete"?Lp():R.addEventListener("load",Lp));var pE=function(e){var n=te.createElement("style");return n.className=e,n},mE=function(e,n){e.styleSheet?e.styleSheet.cssText=n:e.textContent=n},RD=3,ND=RD;function Wn(){return ND++}var vE;R.WeakMap||(vE=function(){function t(){this.vdata="vdata"+Math.floor(R.performance&&R.performance.now()||Date.now()),this.data={}}var e=t.prototype;return e.set=function(i,r){var a=i[this.vdata]||Wn();return i[this.vdata]||(i[this.vdata]=a),this.data[a]=r,this},e.get=function(i){var r=i[this.vdata];if(r)return this.data[r];Se("We have no data for this element",i)},e.has=function(i){var r=i[this.vdata];return r in this.data},e.delete=function(i){var r=i[this.vdata];r&&(delete this.data[r],delete i[this.vdata])},t}());var Qt=R.WeakMap?new WeakMap:new vE;function o_(t,e){if(!!Qt.has(t)){var n=Qt.get(t);n.handlers[e].length===0&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),Object.getOwnPropertyNames(n).length===0&&Qt.delete(t)}}function Vv(t,e,n,i){n.forEach(function(r){t(e,r,i)})}function Id(t){if(t.fixed_)return t;function e(){return!0}function n(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){var i=t||R.event;t={};for(var r in i)r!=="layerX"&&r!=="layerY"&&r!=="keyLocation"&&r!=="webkitMovementX"&&r!=="webkitMovementY"&&r!=="path"&&(r==="returnValue"&&i.preventDefault||(t[r]=i[r]));if(t.target||(t.target=t.srcElement||te),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){i.preventDefault&&i.preventDefault(),t.returnValue=!1,i.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),t.cancelBubble=!0,i.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=n,t.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=n,t.clientX!==null&&t.clientX!==void 0){var a=te.documentElement,s=te.body;t.pageX=t.clientX+(a&&a.scrollLeft||s&&s.scrollLeft||0)-(a&&a.clientLeft||s&&s.clientLeft||0),t.pageY=t.clientY+(a&&a.scrollTop||s&&s.scrollTop||0)-(a&&a.clientTop||s&&s.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!==null&&t.button!==void 0&&(t.button=t.button&1?0:t.button&4?1:t.button&2?2:0)}return t.fixed_=!0,t}var bl,MD=function(){if(typeof bl!="boolean"){bl=!1;try{var e=Object.defineProperty({},"passive",{get:function(){bl=!0}});R.addEventListener("test",null,e),R.removeEventListener("test",null,e)}catch{}}return bl},UD=["touchstart","touchmove"];function br(t,e,n){if(Array.isArray(e))return Vv(br,t,e,n);Qt.has(t)||Qt.set(t,{});var i=Qt.get(t);if(i.handlers||(i.handlers={}),i.handlers[e]||(i.handlers[e]=[]),n.guid||(n.guid=Wn()),i.handlers[e].push(n),i.dispatcher||(i.disabled=!1,i.dispatcher=function(a,s){if(!i.disabled){a=Id(a);var o=i.handlers[a.type];if(o)for(var u=o.slice(0),l=0,c=u.length;l<c&&!a.isImmediatePropagationStopped();l++)try{u[l].call(t,a,s)}catch(f){Se.error(f)}}}),i.handlers[e].length===1)if(t.addEventListener){var r=!1;MD()&&UD.indexOf(e)>-1&&(r={passive:!0}),t.addEventListener(e,i.dispatcher,r)}else t.attachEvent&&t.attachEvent("on"+e,i.dispatcher)}function Mt(t,e,n){if(!!Qt.has(t)){var i=Qt.get(t);if(!!i.handlers){if(Array.isArray(e))return Vv(Mt,t,e,n);var r=function(l,c){i.handlers[c]=[],o_(l,c)};if(e===void 0){for(var a in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},a)&&r(t,a);return}var s=i.handlers[e];if(!!s){if(!n){r(t,e);return}if(n.guid)for(var o=0;o<s.length;o++)s[o].guid===n.guid&&s.splice(o--,1);o_(t,e)}}}}function Os(t,e,n){var i=Qt.has(t)?Qt.get(t):{},r=t.parentNode||t.ownerDocument;if(typeof e=="string"?e={type:e,target:t}:e.target||(e.target=t),e=Id(e),i.dispatcher&&i.dispatcher.call(t,e,n),r&&!e.isPropagationStopped()&&e.bubbles===!0)Os.call(null,r,e,n);else if(!r&&!e.defaultPrevented&&e.target&&e.target[e.type]){Qt.has(e.target)||Qt.set(e.target,{});var a=Qt.get(e.target);e.target[e.type]&&(a.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),a.disabled=!1)}return!e.defaultPrevented}function Od(t,e,n){if(Array.isArray(e))return Vv(Od,t,e,n);var i=function r(){Mt(t,e,r),n.apply(this,arguments)};i.guid=n.guid=n.guid||Wn(),br(t,e,i)}function gE(t,e,n){var i=function r(){Mt(t,e,r),n.apply(this,arguments)};i.guid=n.guid=n.guid||Wn(),br(t,e,i)}var BD=Object.freeze({__proto__:null,fixEvent:Id,on:br,off:Mt,trigger:Os,one:Od,any:gE}),Jr=30,qe=function(e,n,i){n.guid||(n.guid=Wn());var r=n.bind(e);return r.guid=i?i+"_"+n.guid:n.guid,r},Vn=function(e,n){var i=R.performance.now(),r=function(){var s=R.performance.now();s-i>=n&&(e.apply(void 0,arguments),i=s)};return r},VD=function(e,n,i,r){r===void 0&&(r=R);var a,s=function(){r.clearTimeout(a),a=null},o=function(){var l=this,c=arguments,f=function(){a=null,f=null,i||e.apply(l,c)};!a&&i&&e.apply(l,c),r.clearTimeout(a),a=r.setTimeout(f,n)};return o.cancel=s,o},Ct=function(){};Ct.prototype.allowedEvents_={};Ct.prototype.on=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},br(this,t,e),this.addEventListener=n};Ct.prototype.addEventListener=Ct.prototype.on;Ct.prototype.off=function(t,e){Mt(this,t,e)};Ct.prototype.removeEventListener=Ct.prototype.off;Ct.prototype.one=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},Od(this,t,e),this.addEventListener=n};Ct.prototype.any=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},gE(this,t,e),this.addEventListener=n};Ct.prototype.trigger=function(t){var e=t.type||t;typeof t=="string"&&(t={type:e}),t=Id(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),Os(this,t)};Ct.prototype.dispatchEvent=Ct.prototype.trigger;var ro;Ct.prototype.queueTrigger=function(t){var e=this;ro||(ro=new Map);var n=t.type||t,i=ro.get(this);i||(i=new Map,ro.set(this,i));var r=i.get(n);i.delete(n),R.clearTimeout(r);var a=R.setTimeout(function(){i.size===0&&(i=null,ro.delete(e)),e.trigger(t)},0);i.set(n,a)};var Dd=function(e){return typeof e.name=="function"?e.name():typeof e.name=="string"?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:typeof e},On=function(e){return e instanceof Ct||!!e.eventBusEl_&&["on","one","off","trigger"].every(function(n){return typeof e[n]=="function"})},jD=function(e,n){On(e)?n():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(n))},Fp=function(e){return typeof e=="string"&&/\S/.test(e)||Array.isArray(e)&&!!e.length},Nc=function(e,n,i){if(!e||!e.nodeName&&!On(e))throw new Error("Invalid target for "+Dd(n)+"#"+i+"; must be a DOM node or evented object.")},yE=function(e,n,i){if(!Fp(e))throw new Error("Invalid event type for "+Dd(n)+"#"+i+"; must be a non-empty string or array.")},_E=function(e,n,i){if(typeof e!="function")throw new Error("Invalid listener for "+Dd(n)+"#"+i+"; must be a function.")},Qf=function(e,n,i){var r=n.length<3||n[0]===e||n[0]===e.eventBusEl_,a,s,o;return r?(a=e.eventBusEl_,n.length>=3&&n.shift(),s=n[0],o=n[1]):(a=n[0],s=n[1],o=n[2]),Nc(a,e,i),yE(s,e,i),_E(o,e,i),o=qe(e,o),{isTargetingSelf:r,target:a,type:s,listener:o}},Ri=function(e,n,i,r){Nc(e,e,n),e.nodeName?BD[n](e,i,r):e[n](i,r)},zD={on:function(){for(var e=this,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=Qf(this,i,"on"),s=a.isTargetingSelf,o=a.target,u=a.type,l=a.listener;if(Ri(o,"on",u,l),!s){var c=function(){return e.off(o,u,l)};c.guid=l.guid;var f=function(){return e.off("dispose",c)};f.guid=l.guid,Ri(this,"on","dispose",c),Ri(o,"on","dispose",f)}},one:function(){for(var e=this,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=Qf(this,i,"one"),s=a.isTargetingSelf,o=a.target,u=a.type,l=a.listener;if(s)Ri(o,"one",u,l);else{var c=function f(){e.off(o,u,f);for(var d=arguments.length,g=new Array(d),_=0;_<d;_++)g[_]=arguments[_];l.apply(null,g)};c.guid=l.guid,Ri(o,"one",u,c)}},any:function(){for(var e=this,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=Qf(this,i,"any"),s=a.isTargetingSelf,o=a.target,u=a.type,l=a.listener;if(s)Ri(o,"any",u,l);else{var c=function f(){e.off(o,u,f);for(var d=arguments.length,g=new Array(d),_=0;_<d;_++)g[_]=arguments[_];l.apply(null,g)};c.guid=l.guid,Ri(o,"any",u,c)}},off:function(e,n,i){if(!e||Fp(e))Mt(this.eventBusEl_,e,n);else{var r=e,a=n;Nc(r,this,"off"),yE(a,this,"off"),_E(i,this,"off"),i=qe(this,i),this.off("dispose",i),r.nodeName?(Mt(r,a,i),Mt(r,"dispose",i)):On(r)&&(r.off(a,i),r.off("dispose",i))}},trigger:function(e,n){Nc(this.eventBusEl_,this,"trigger");var i=e&&typeof e!="string"?e.type:e;if(!Fp(i)){var r="Invalid event type for "+Dd(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(e)(this.log||Se).error(r);else throw new Error(r)}return Os(this.eventBusEl_,e,n)}};function jv(t,e){e===void 0&&(e={});var n=e,i=n.eventBusKey;if(i){if(!t[i].nodeName)throw new Error('The eventBusKey "'+i+'" does not refer to an element.');t.eventBusEl_=t[i]}else t.eventBusEl_=ke("span",{className:"vjs-event-bus"});return it(t,zD),t.eventedCallbacks&&t.eventedCallbacks.forEach(function(r){r()}),t.on("dispose",function(){t.off(),[t,t.el_,t.eventBusEl_].forEach(function(r){r&&Qt.has(r)&&Qt.delete(r)}),R.setTimeout(function(){t.eventBusEl_=null},0)}),t}var HD={state:{},setState:function(e){var n=this;typeof e=="function"&&(e=e());var i;return Ja(e,function(r,a){n.state[a]!==r&&(i=i||{},i[a]={from:n.state[a],to:r}),n.state[a]=r}),i&&On(this)&&this.trigger({changes:i,type:"statechanged"}),i}};function TE(t,e){return it(t,HD),t.state=it({},t.state,e),typeof t.handleStateChanged=="function"&&On(t)&&t.on("statechanged",t.handleStateChanged),t}var Jl=function(e){return typeof e!="string"?e:e.replace(/./,function(n){return n.toLowerCase()})},ut=function(e){return typeof e!="string"?e:e.replace(/./,function(n){return n.toUpperCase()})},$D=function(e,n){return ut(e)===ut(n)};function We(){for(var t={},e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.forEach(function(r){!r||Ja(r,function(a,s){if(!iu(a)){t[s]=a;return}iu(t[s])||(t[s]={}),t[s]=We(t[s],a)})}),t}var WD=function(){function t(){this.map_={}}var e=t.prototype;return e.has=function(i){return i in this.map_},e.delete=function(i){var r=this.has(i);return delete this.map_[i],r},e.set=function(i,r){return this.map_[i]=r,this},e.forEach=function(i,r){for(var a in this.map_)i.call(r,this.map_[a],a,this)},t}(),qD=R.Map?R.Map:WD,GD=function(){function t(){this.set_={}}var e=t.prototype;return e.has=function(i){return i in this.set_},e.delete=function(i){var r=this.has(i);return delete this.set_[i],r},e.add=function(i){return this.set_[i]=1,this},e.forEach=function(i,r){for(var a in this.set_)i.call(r,a,a,this)},t}(),Yf=R.Set?R.Set:GD,Y=function(){function t(n,i,r){var a=this;if(!n&&this.play?this.player_=n=this:this.player_=n,this.isDisposed_=!1,this.parentComponent_=null,this.options_=We({},this.options_),i=this.options_=We(this.options_,i),this.id_=i.id||i.el&&i.el.id,!this.id_){var s=n&&n.id&&n.id()||"no_player";this.id_=s+"_component_"+Wn()}this.name_=i.name||null,i.el?this.el_=i.el:i.createEl!==!1&&(this.el_=this.createEl()),i.className&&this.el_&&i.className.split(" ").forEach(function(o){return a.addClass(o)}),i.evented!==!1&&(jv(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),TE(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Yf,this.setIntervalIds_=new Yf,this.rafIds_=new Yf,this.namedRafs_=new qD,this.clearingTimersOnDispose_=!1,i.initChildren!==!1&&this.initChildren(),this.ready(r),i.reportTouchActivity!==!1&&this.enableTouchActivity()}var e=t.prototype;return e.dispose=function(i){if(i===void 0&&(i={}),!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var r=this.children_.length-1;r>=0;r--)this.children_[r].dispose&&this.children_[r].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(i.restoreEl?this.el_.parentNode.replaceChild(i.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}},e.isDisposed=function(){return Boolean(this.isDisposed_)},e.player=function(){return this.player_},e.options=function(i){return i?(this.options_=We(this.options_,i),this.options_):this.options_},e.el=function(){return this.el_},e.createEl=function(i,r,a){return ke(i,r,a)},e.localize=function(i,r,a){a===void 0&&(a=i);var s=this.player_.language&&this.player_.language(),o=this.player_.languages&&this.player_.languages(),u=o&&o[s],l=s&&s.split("-")[0],c=o&&o[l],f=a;return u&&u[i]?f=u[i]:c&&c[i]&&(f=c[i]),r&&(f=f.replace(/\{(\d+)\}/g,function(d,g){var _=r[g-1],y=_;return typeof _>"u"&&(y=d),y})),f},e.handleLanguagechange=function(){},e.contentEl=function(){return this.contentEl_||this.el_},e.id=function(){return this.id_},e.name=function(){return this.name_},e.children=function(){return this.children_},e.getChildById=function(i){return this.childIndex_[i]},e.getChild=function(i){if(!!i)return this.childNameIndex_[i]},e.getDescendant=function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];r=r.reduce(function(u,l){return u.concat(l)},[]);for(var s=this,o=0;o<r.length;o++)if(s=s.getChild(r[o]),!s||!s.getChild)return;return s},e.addChild=function(i,r,a){r===void 0&&(r={}),a===void 0&&(a=this.children_.length);var s,o;if(typeof i=="string"){o=ut(i);var u=r.componentClass||o;r.name=o;var l=t.getComponent(u);if(!l)throw new Error("Component "+u+" does not exist");if(typeof l!="function")return null;s=new l(this.player_||this,r)}else s=i;if(s.parentComponent_&&s.parentComponent_.removeChild(s),this.children_.splice(a,0,s),s.parentComponent_=this,typeof s.id=="function"&&(this.childIndex_[s.id()]=s),o=o||s.name&&ut(s.name()),o&&(this.childNameIndex_[o]=s,this.childNameIndex_[Jl(o)]=s),typeof s.el=="function"&&s.el()){var c=null;this.children_[a+1]&&(this.children_[a+1].el_?c=this.children_[a+1].el_:Is(this.children_[a+1])&&(c=this.children_[a+1])),this.contentEl().insertBefore(s.el(),c)}return s},e.removeChild=function(i){if(typeof i=="string"&&(i=this.getChild(i)),!(!i||!this.children_)){for(var r=!1,a=this.children_.length-1;a>=0;a--)if(this.children_[a]===i){r=!0,this.children_.splice(a,1);break}if(!!r){i.parentComponent_=null,this.childIndex_[i.id()]=null,this.childNameIndex_[ut(i.name())]=null,this.childNameIndex_[Jl(i.name())]=null;var s=i.el();s&&s.parentNode===this.contentEl()&&this.contentEl().removeChild(i.el())}}},e.initChildren=function(){var i=this,r=this.options_.children;if(r){var a=this.options_,s=function(c){var f=c.name,d=c.opts;if(a[f]!==void 0&&(d=a[f]),d!==!1){d===!0&&(d={}),d.playerOptions=i.options_.playerOptions;var g=i.addChild(f,d);g&&(i[f]=g)}},o,u=t.getComponent("Tech");Array.isArray(r)?o=r:o=Object.keys(r),o.concat(Object.keys(this.options_).filter(function(l){return!o.some(function(c){return typeof c=="string"?l===c:l===c.name})})).map(function(l){var c,f;return typeof l=="string"?(c=l,f=r[c]||i.options_[c]||{}):(c=l.name,f=l),{name:c,opts:f}}).filter(function(l){var c=t.getComponent(l.opts.componentClass||ut(l.name));return c&&!u.isTech(c)}).forEach(s)}},e.buildCSSClass=function(){return""},e.ready=function(i,r){if(r===void 0&&(r=!1),!!i){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(i);return}r?i.call(this):this.setTimeout(i,1)}},e.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var i=this.readyQueue_;this.readyQueue_=[],i&&i.length>0&&i.forEach(function(r){r.call(this)},this),this.trigger("ready")},1)},e.$=function(i,r){return Ti(i,r||this.contentEl())},e.$$=function(i,r){return dE(i,r||this.contentEl())},e.hasClass=function(i){return Qi(this.el_,i)},e.addClass=function(i){In(this.el_,i)},e.removeClass=function(i){xu(this.el_,i)},e.toggleClass=function(i,r){nE(this.el_,i,r)},e.show=function(){this.removeClass("vjs-hidden")},e.hide=function(){this.addClass("vjs-hidden")},e.lockShowing=function(){this.addClass("vjs-lock-showing")},e.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.getAttribute=function(i){return aE(this.el_,i)},e.setAttribute=function(i,r){vs(this.el_,i,r)},e.removeAttribute=function(i){Pd(this.el_,i)},e.width=function(i,r){return this.dimension("width",i,r)},e.height=function(i,r){return this.dimension("height",i,r)},e.dimensions=function(i,r){this.width(i,!0),this.height(r)},e.dimension=function(i,r,a){if(r!==void 0){(r===null||r!==r)&&(r=0),(""+r).indexOf("%")!==-1||(""+r).indexOf("px")!==-1?this.el_.style[i]=r:r==="auto"?this.el_.style[i]="":this.el_.style[i]=r+"px",a||this.trigger("componentresize");return}if(!this.el_)return 0;var s=this.el_.style[i],o=s.indexOf("px");return parseInt(o!==-1?s.slice(0,o):this.el_["offset"+ut(i)],10)},e.currentDimension=function(i){var r=0;if(i!=="width"&&i!=="height")throw new Error("currentDimension only accepts width or height value");if(r=au(this.el_,i),r=parseFloat(r),r===0||isNaN(r)){var a="offset"+ut(i);r=this.el_[a]}return r},e.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.currentWidth=function(){return this.currentDimension("width")},e.currentHeight=function(){return this.currentDimension("height")},e.focus=function(){this.el_.focus()},e.blur=function(){this.el_.blur()},e.handleKeyDown=function(i){this.player_&&(Te.isEventKey(i,"Tab")||i.stopPropagation(),this.player_.handleKeyDown(i))},e.handleKeyPress=function(i){this.handleKeyDown(i)},e.emitTapEvents=function(){var i=0,r=null,a=10,s=200,o;this.on("touchstart",function(l){l.touches.length===1&&(r={pageX:l.touches[0].pageX,pageY:l.touches[0].pageY},i=R.performance.now(),o=!0)}),this.on("touchmove",function(l){if(l.touches.length>1)o=!1;else if(r){var c=l.touches[0].pageX-r.pageX,f=l.touches[0].pageY-r.pageY,d=Math.sqrt(c*c+f*f);d>a&&(o=!1)}});var u=function(){o=!1};this.on("touchleave",u),this.on("touchcancel",u),this.on("touchend",function(l){if(r=null,o===!0){var c=R.performance.now()-i;c<s&&(l.preventDefault(),this.trigger("tap"))}})},e.enableTouchActivity=function(){if(!(!this.player()||!this.player().reportUserActivity)){var i=qe(this.player(),this.player().reportUserActivity),r;this.on("touchstart",function(){i(),this.clearInterval(r),r=this.setInterval(i,250)});var a=function(o){i(),this.clearInterval(r)};this.on("touchmove",i),this.on("touchend",a),this.on("touchcancel",a)}},e.setTimeout=function(i,r){var a=this,s;return i=qe(this,i),this.clearTimersOnDispose_(),s=R.setTimeout(function(){a.setTimeoutIds_.has(s)&&a.setTimeoutIds_.delete(s),i()},r),this.setTimeoutIds_.add(s),s},e.clearTimeout=function(i){return this.setTimeoutIds_.has(i)&&(this.setTimeoutIds_.delete(i),R.clearTimeout(i)),i},e.setInterval=function(i,r){i=qe(this,i),this.clearTimersOnDispose_();var a=R.setInterval(i,r);return this.setIntervalIds_.add(a),a},e.clearInterval=function(i){return this.setIntervalIds_.has(i)&&(this.setIntervalIds_.delete(i),R.clearInterval(i)),i},e.requestAnimationFrame=function(i){var r=this;if(!this.supportsRaf_)return this.setTimeout(i,1e3/60);this.clearTimersOnDispose_();var a;return i=qe(this,i),a=R.requestAnimationFrame(function(){r.rafIds_.has(a)&&r.rafIds_.delete(a),i()}),this.rafIds_.add(a),a},e.requestNamedAnimationFrame=function(i,r){var a=this;if(!this.namedRafs_.has(i)){this.clearTimersOnDispose_(),r=qe(this,r);var s=this.requestAnimationFrame(function(){r(),a.namedRafs_.has(i)&&a.namedRafs_.delete(i)});return this.namedRafs_.set(i,s),i}},e.cancelNamedAnimationFrame=function(i){!this.namedRafs_.has(i)||(this.cancelAnimationFrame(this.namedRafs_.get(i)),this.namedRafs_.delete(i))},e.cancelAnimationFrame=function(i){return this.supportsRaf_?(this.rafIds_.has(i)&&(this.rafIds_.delete(i),R.cancelAnimationFrame(i)),i):this.clearTimeout(i)},e.clearTimersOnDispose_=function(){var i=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(r){var a=r[0],s=r[1];i[a].forEach(function(o,u){return i[s](u)})}),i.clearingTimersOnDispose_=!1}))},t.registerComponent=function(i,r){if(typeof i!="string"||!i)throw new Error('Illegal component name, "'+i+'"; must be a non-empty string.');var a=t.getComponent("Tech"),s=a&&a.isTech(r),o=t===r||t.prototype.isPrototypeOf(r.prototype);if(s||!o){var u;throw s?u="techs must be registered using Tech.registerTech()":u="must be a Component subclass",new Error('Illegal component, "'+i+'"; '+u+".")}i=ut(i),t.components_||(t.components_={});var l=t.getComponent("Player");if(i==="Player"&&l&&l.players){var c=l.players,f=Object.keys(c);if(c&&f.length>0&&f.map(function(d){return c[d]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return t.components_[i]=r,t.components_[Jl(i)]=r,r},t.getComponent=function(i){if(!(!i||!t.components_))return t.components_[i]},t}();Y.prototype.supportsRaf_=typeof R.requestAnimationFrame=="function"&&typeof R.cancelAnimationFrame=="function";Y.registerComponent("Component",Y);function KD(t,e,n){if(typeof e!="number"||e<0||e>n)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+n+").")}function u_(t,e,n,i){return KD(t,i,n.length-1),n[i][e]}function Jf(t){var e;return t===void 0||t.length===0?e={length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:e={length:t.length,start:u_.bind(null,"start",0,t),end:u_.bind(null,"end",1,t)},R.Symbol&&R.Symbol.iterator&&(e[R.Symbol.iterator]=function(){return(t||[]).values()}),e}function Yi(t,e){return Array.isArray(t)?Jf(t):t===void 0||e===void 0?Jf():Jf([[t,e]])}function xE(t,e){var n=0,i,r;if(!e)return 0;(!t||!t.length)&&(t=Yi(0,0));for(var a=0;a<t.length;a++)i=t.start(a),r=t.end(a),r>e&&(r=e),n+=r-i;return n/e}function Yt(t){if(t instanceof Yt)return t;typeof t=="number"?this.code=t:typeof t=="string"?this.message=t:Bn(t)&&(typeof t.code=="number"&&(this.code=t.code),it(this,t)),this.message||(this.message=Yt.defaultMessages[this.code]||"")}Yt.prototype.code=0;Yt.prototype.message="";Yt.prototype.status=null;Yt.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];Yt.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var ba=0;ba<Yt.errorTypes.length;ba++)Yt[Yt.errorTypes[ba]]=ba,Yt.prototype[Yt.errorTypes[ba]]=ba;function Po(t){return t!=null&&typeof t.then=="function"}function on(t){Po(t)&&t.then(null,function(e){})}var Rp=function(e){var n=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(i,r,a){return e[r]&&(i[r]=e[r]),i},{cues:e.cues&&Array.prototype.map.call(e.cues,function(i){return{startTime:i.startTime,endTime:i.endTime,text:i.text,id:i.id}})});return n},XD=function(e){var n=e.$$("track"),i=Array.prototype.map.call(n,function(a){return a.track}),r=Array.prototype.map.call(n,function(a){var s=Rp(a.track);return a.src&&(s.src=a.src),s});return r.concat(Array.prototype.filter.call(e.textTracks(),function(a){return i.indexOf(a)===-1}).map(Rp))},QD=function(e,n){return e.forEach(function(i){var r=n.addRemoteTextTrack(i).track;!i.src&&i.cues&&i.cues.forEach(function(a){return r.addCue(a)})}),n.textTracks()},l_={textTracksToJson:XD,jsonToTextTracks:QD,trackToJson_:Rp},Zf="vjs-modal-dialog",Ds=function(t){ie(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.handleKeyDown_=function(s){return a.handleKeyDown(s)},a.close_=function(s){return a.close(s)},a.opened_=a.hasBeenOpened_=a.hasBeenFilled_=!1,a.closeable(!a.options_.uncloseable),a.content(a.options_.content),a.contentEl_=ke("div",{className:Zf+"-content"},{role:"document"}),a.descEl_=ke("p",{className:Zf+"-description vjs-control-text",id:a.el().getAttribute("aria-describedby")}),da(a.descEl_,a.description()),a.el_.appendChild(a.descEl_),a.el_.appendChild(a.contentEl_),a}var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},n.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,t.prototype.dispose.call(this)},n.buildCSSClass=function(){return Zf+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},n.label=function(){return this.localize(this.options_.label||"Modal Window")},n.description=function(){var r=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(r+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),r},n.open=function(){if(!this.opened_){var r=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!r.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&r.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=r.controls(),r.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},n.opened=function(r){return typeof r=="boolean"&&this[r?"open":"close"](),this.opened_},n.close=function(){if(!!this.opened_){var r=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&r.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&r.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},n.closeable=function(r){if(typeof r=="boolean"){var a=this.closeable_=!!r,s=this.getChild("closeButton");if(a&&!s){var o=this.contentEl_;this.contentEl_=this.el_,s=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=o,this.on(s,"close",this.close_)}!a&&s&&(this.off(s,"close",this.close_),this.removeChild(s),s.dispose())}return this.closeable_},n.fill=function(){this.fillWith(this.content())},n.fillWith=function(r){var a=this.contentEl(),s=a.parentNode,o=a.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,s.removeChild(a),this.empty(),cE(a,r),this.trigger("modalfill"),o?s.insertBefore(a,o):s.appendChild(a);var u=this.getChild("closeButton");u&&s.appendChild(u.el_)},n.empty=function(){this.trigger("beforemodalempty"),Uv(this.contentEl()),this.trigger("modalempty")},n.content=function(r){return typeof r<"u"&&(this.content_=r),this.content_},n.conditionalFocus_=function(){var r=te.activeElement,a=this.player_.el_;this.previouslyActiveEl_=null,(a.contains(r)||a===r)&&(this.previouslyActiveEl_=r,this.focus())},n.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},n.handleKeyDown=function(r){if(r.stopPropagation(),Te.isEventKey(r,"Escape")&&this.closeable()){r.preventDefault(),this.close();return}if(!!Te.isEventKey(r,"Tab")){for(var a=this.focusableEls_(),s=this.el_.querySelector(":focus"),o,u=0;u<a.length;u++)if(s===a[u]){o=u;break}te.activeElement===this.el_&&(o=0),r.shiftKey&&o===0?(a[a.length-1].focus(),r.preventDefault()):!r.shiftKey&&o===a.length-1&&(a[0].focus(),r.preventDefault())}},n.focusableEls_=function(){var r=this.el_.querySelectorAll("*");return Array.prototype.filter.call(r,function(a){return(a instanceof R.HTMLAnchorElement||a instanceof R.HTMLAreaElement)&&a.hasAttribute("href")||(a instanceof R.HTMLInputElement||a instanceof R.HTMLSelectElement||a instanceof R.HTMLTextAreaElement||a instanceof R.HTMLButtonElement)&&!a.hasAttribute("disabled")||a instanceof R.HTMLIFrameElement||a instanceof R.HTMLObjectElement||a instanceof R.HTMLEmbedElement||a.hasAttribute("tabindex")&&a.getAttribute("tabindex")!==-1||a.hasAttribute("contenteditable")})},e}(Y);Ds.prototype.options_={pauseOnOpen:!0,temporary:!0};Y.registerComponent("ModalDialog",Ds);var ys=function(t){ie(e,t);function e(i){var r;i===void 0&&(i=[]),r=t.call(this)||this,r.tracks_=[],Object.defineProperty(_e(r),"length",{get:function(){return this.tracks_.length}});for(var a=0;a<i.length;a++)r.addTrack(i[a]);return r}var n=e.prototype;return n.addTrack=function(r){var a=this,s=this.tracks_.length;""+s in this||Object.defineProperty(this,s,{get:function(){return this.tracks_[s]}}),this.tracks_.indexOf(r)===-1&&(this.tracks_.push(r),this.trigger({track:r,type:"addtrack",target:this})),r.labelchange_=function(){a.trigger({track:r,type:"labelchange",target:a})},On(r)&&r.addEventListener("labelchange",r.labelchange_)},n.removeTrack=function(r){for(var a,s=0,o=this.length;s<o;s++)if(this[s]===r){a=this[s],a.off&&a.off(),this.tracks_.splice(s,1);break}!a||this.trigger({track:a,type:"removetrack",target:this})},n.getTrackById=function(r){for(var a=null,s=0,o=this.length;s<o;s++){var u=this[s];if(u.id===r){a=u;break}}return a},e}(Ct);ys.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(var YD in ys.prototype.allowedEvents_)ys.prototype["on"+YD]=null;var eh=function(e,n){for(var i=0;i<e.length;i++)!Object.keys(e[i]).length||n.id===e[i].id||(e[i].enabled=!1)},JD=function(t){ie(e,t);function e(i){var r;i===void 0&&(i=[]);for(var a=i.length-1;a>=0;a--)if(i[a].enabled){eh(i,i[a]);break}return r=t.call(this,i)||this,r.changing_=!1,r}var n=e.prototype;return n.addTrack=function(r){var a=this;r.enabled&&eh(this,r),t.prototype.addTrack.call(this,r),r.addEventListener&&(r.enabledChange_=function(){a.changing_||(a.changing_=!0,eh(a,r),a.changing_=!1,a.trigger("change"))},r.addEventListener("enabledchange",r.enabledChange_))},n.removeTrack=function(r){t.prototype.removeTrack.call(this,r),r.removeEventListener&&r.enabledChange_&&(r.removeEventListener("enabledchange",r.enabledChange_),r.enabledChange_=null)},e}(ys),th=function(e,n){for(var i=0;i<e.length;i++)!Object.keys(e[i]).length||n.id===e[i].id||(e[i].selected=!1)},ZD=function(t){ie(e,t);function e(i){var r;i===void 0&&(i=[]);for(var a=i.length-1;a>=0;a--)if(i[a].selected){th(i,i[a]);break}return r=t.call(this,i)||this,r.changing_=!1,Object.defineProperty(_e(r),"selectedIndex",{get:function(){for(var o=0;o<this.length;o++)if(this[o].selected)return o;return-1},set:function(){}}),r}var n=e.prototype;return n.addTrack=function(r){var a=this;r.selected&&th(this,r),t.prototype.addTrack.call(this,r),r.addEventListener&&(r.selectedChange_=function(){a.changing_||(a.changing_=!0,th(a,r),a.changing_=!1,a.trigger("change"))},r.addEventListener("selectedchange",r.selectedChange_))},n.removeTrack=function(r){t.prototype.removeTrack.call(this,r),r.removeEventListener&&r.selectedChange_&&(r.removeEventListener("selectedchange",r.selectedChange_),r.selectedChange_=null)},e}(ys),SE=function(t){ie(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.addTrack=function(r){var a=this;t.prototype.addTrack.call(this,r),this.queueChange_||(this.queueChange_=function(){return a.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return a.trigger("selectedlanguagechange")}),r.addEventListener("modechange",this.queueChange_);var s=["metadata","chapters"];s.indexOf(r.kind)===-1&&r.addEventListener("modechange",this.triggerSelectedlanguagechange_)},n.removeTrack=function(r){t.prototype.removeTrack.call(this,r),r.removeEventListener&&(this.queueChange_&&r.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&r.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},e}(ys),eL=function(){function t(n){n===void 0&&(n=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var i=0,r=n.length;i<r;i++)this.addTrackElement_(n[i])}var e=t.prototype;return e.addTrackElement_=function(i){var r=this.trackElements_.length;""+r in this||Object.defineProperty(this,r,{get:function(){return this.trackElements_[r]}}),this.trackElements_.indexOf(i)===-1&&this.trackElements_.push(i)},e.getTrackElementByTrack_=function(i){for(var r,a=0,s=this.trackElements_.length;a<s;a++)if(i===this.trackElements_[a].track){r=this.trackElements_[a];break}return r},e.removeTrackElement_=function(i){for(var r=0,a=this.trackElements_.length;r<a;r++)if(i===this.trackElements_[r]){this.trackElements_[r].track&&typeof this.trackElements_[r].track.off=="function"&&this.trackElements_[r].track.off(),typeof this.trackElements_[r].off=="function"&&this.trackElements_[r].off(),this.trackElements_.splice(r,1);break}},t}(),c_=function(){function t(n){t.prototype.setCues_.call(this,n),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=t.prototype;return e.setCues_=function(i){var r=this.length||0,a=0,s=i.length;this.cues_=i,this.length_=i.length;var o=function(l){""+l in this||Object.defineProperty(this,""+l,{get:function(){return this.cues_[l]}})};if(r<s)for(a=r;a<s;a++)o.call(this,a)},e.getCueById=function(i){for(var r=null,a=0,s=this.length;a<s;a++){var o=this[a];if(o.id===i){r=o;break}}return r},t}(),tL={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},rL={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},nL={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},d_={disabled:"disabled",hidden:"hidden",showing:"showing"},zv=function(t){ie(e,t);function e(n){var i;n===void 0&&(n={}),i=t.call(this)||this;var r={id:n.id||"vjs_track_"+Wn(),kind:n.kind||"",language:n.language||""},a=n.label||"",s=function(l){Object.defineProperty(_e(i),l,{get:function(){return r[l]},set:function(){}})};for(var o in r)s(o);return Object.defineProperty(_e(i),"label",{get:function(){return a},set:function(l){l!==a&&(a=l,this.trigger("labelchange"))}}),i}return e}(Ct),Hv=function(e){var n=["protocol","hostname","port","pathname","search","hash","host"],i=te.createElement("a");i.href=e;for(var r={},a=0;a<n.length;a++)r[n[a]]=i[n[a]];return r.protocol==="http:"&&(r.host=r.host.replace(/:80$/,"")),r.protocol==="https:"&&(r.host=r.host.replace(/:443$/,"")),r.protocol||(r.protocol=R.location.protocol),r.host||(r.host=R.location.host),r},bE=function(e){if(!e.match(/^https?:\/\//)){var n=te.createElement("a");n.href=e,e=n.href}return e},$v=function(e){if(typeof e=="string"){var n=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/,i=n.exec(e);if(i)return i.pop().toLowerCase()}return""},Ld=function(e,n){n===void 0&&(n=R.location);var i=Hv(e),r=i.protocol===":"?n.protocol:i.protocol,a=r+i.host!==n.protocol+n.host;return a},iL=Object.freeze({__proto__:null,parseUrl:Hv,getAbsoluteURL:bE,getFileExtension:$v,isCrossOrigin:Ld}),f_=function(e,n){var i=new R.WebVTT.Parser(R,R.vttjs,R.WebVTT.StringDecoder()),r=[];i.oncue=function(a){n.addCue(a)},i.onparsingerror=function(a){r.push(a)},i.onflush=function(){n.trigger({type:"loadeddata",target:n})},i.parse(e),r.length>0&&(R.console&&R.console.groupCollapsed&&R.console.groupCollapsed("Text Track parsing errors for "+n.src),r.forEach(function(a){return Se.error(a)}),R.console&&R.console.groupEnd&&R.console.groupEnd()),i.flush()},h_=function(e,n){var i={uri:e},r=Ld(e);r&&(i.cors=r);var a=n.tech_.crossOrigin()==="use-credentials";a&&(i.withCredentials=a),yd.exports(i,qe(this,function(s,o,u){if(s)return Se.error(s,o);n.loaded_=!0,typeof R.WebVTT!="function"?n.tech_&&n.tech_.any(["vttjsloaded","vttjserror"],function(l){if(l.type==="vttjserror"){Se.error("vttjs failed to load, stopping trying to process "+n.src);return}return f_(u,n)}):f_(u,n)}))},Su=function(t){ie(e,t);function e(i){var r;if(i===void 0&&(i={}),!i.tech)throw new Error("A tech was not provided.");var a=We(i,{kind:nL[i.kind]||"subtitles",language:i.language||i.srclang||""}),s=d_[a.mode]||"disabled",o=a.default;(a.kind==="metadata"||a.kind==="chapters")&&(s="hidden"),r=t.call(this,a)||this,r.tech_=a.tech,r.cues_=[],r.activeCues_=[],r.preload_=r.tech_.preloadTextTracks!==!1;var u=new c_(r.cues_),l=new c_(r.activeCues_),c=!1;r.timeupdateHandler=qe(_e(r),function(){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler);return}this.activeCues=this.activeCues,c&&(this.trigger("cuechange"),c=!1),this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler)}});var f=function(){r.stopTracking()};return r.tech_.one("dispose",f),s!=="disabled"&&r.startTracking(),Object.defineProperties(_e(r),{default:{get:function(){return o},set:function(){}},mode:{get:function(){return s},set:function(g){!d_[g]||s!==g&&(s=g,!this.preload_&&s!=="disabled"&&this.cues.length===0&&h_(this.src,this),this.stopTracking(),s!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?u:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(this.cues.length===0)return l;for(var g=this.tech_.currentTime(),_=[],y=0,x=this.cues.length;y<x;y++){var T=this.cues[y];(T.startTime<=g&&T.endTime>=g||T.startTime===T.endTime&&T.startTime<=g&&T.startTime+.5>=g)&&_.push(T)}if(c=!1,_.length!==this.activeCues_.length)c=!0;else for(var E=0;E<_.length;E++)this.activeCues_.indexOf(_[E])===-1&&(c=!0);return this.activeCues_=_,l.setCues_(this.activeCues_),l},set:function(){}}}),a.src?(r.src=a.src,r.preload_||(r.loaded_=!0),(r.preload_||a.kind!=="subtitles"&&a.kind!=="captions")&&h_(r.src,_e(r))):r.loaded_=!0,r}var n=e.prototype;return n.startTracking=function(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler)},n.stopTracking=function(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0)},n.addCue=function(r){var a=r;if(R.vttjs&&!(r instanceof R.vttjs.VTTCue)){a=new R.vttjs.VTTCue(r.startTime,r.endTime,r.text);for(var s in r)s in a||(a[s]=r[s]);a.id=r.id,a.originalCue_=r}for(var o=this.tech_.textTracks(),u=0;u<o.length;u++)o[u]!==this&&o[u].removeCue(a);this.cues_.push(a),this.cues.setCues_(this.cues_)},n.removeCue=function(r){for(var a=this.cues_.length;a--;){var s=this.cues_[a];if(s===r||s.originalCue_&&s.originalCue_===r){this.cues_.splice(a,1),this.cues.setCues_(this.cues_);break}}},e}(zv);Su.prototype.allowedEvents_={cuechange:"cuechange"};var EE=function(t){ie(e,t);function e(n){var i;n===void 0&&(n={});var r=We(n,{kind:rL[n.kind]||""});i=t.call(this,r)||this;var a=!1;return Object.defineProperty(_e(i),"enabled",{get:function(){return a},set:function(o){typeof o!="boolean"||o===a||(a=o,this.trigger("enabledchange"))}}),r.enabled&&(i.enabled=r.enabled),i.loaded_=!0,i}return e}(zv),CE=function(t){ie(e,t);function e(n){var i;n===void 0&&(n={});var r=We(n,{kind:tL[n.kind]||""});i=t.call(this,r)||this;var a=!1;return Object.defineProperty(_e(i),"selected",{get:function(){return a},set:function(o){typeof o!="boolean"||o===a||(a=o,this.trigger("selectedchange"))}}),r.selected&&(i.selected=r.selected),i}return e}(zv),wE=0,aL=1,kE=2,sL=3,Ls=function(t){ie(e,t);function e(n){var i;n===void 0&&(n={}),i=t.call(this)||this;var r,a=new Su(n);return i.kind=a.kind,i.src=a.src,i.srclang=a.language,i.label=a.label,i.default=a.default,Object.defineProperties(_e(i),{readyState:{get:function(){return r}},track:{get:function(){return a}}}),r=wE,a.addEventListener("loadeddata",function(){r=kE,i.trigger({type:"load",target:_e(i)})}),i}return e}(Ct);Ls.prototype.allowedEvents_={load:"load"};Ls.NONE=wE;Ls.LOADING=aL;Ls.LOADED=kE;Ls.ERROR=sL;var Fr={audio:{ListClass:JD,TrackClass:EE,capitalName:"Audio"},video:{ListClass:ZD,TrackClass:CE,capitalName:"Video"},text:{ListClass:SE,TrackClass:Su,capitalName:"Text"}};Object.keys(Fr).forEach(function(t){Fr[t].getterName=t+"Tracks",Fr[t].privateName=t+"Tracks_"});var _s={remoteText:{ListClass:SE,TrackClass:Su,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:eL,TrackClass:Ls,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Gt=bt({},Fr,_s);_s.names=Object.keys(_s);Fr.names=Object.keys(Fr);Gt.names=[].concat(_s.names).concat(Fr.names);function oL(t,e,n,i,r){r===void 0&&(r={});var a=t.textTracks();r.kind=e,n&&(r.label=n),i&&(r.language=i),r.tech=t;var s=new Gt.text.TrackClass(r);return a.addTrack(s),s}var Ve=function(t){ie(e,t);function e(i,r){var a;return i===void 0&&(i={}),r===void 0&&(r=function(){}),i.reportTouchActivity=!1,a=t.call(this,null,i,r)||this,a.onDurationChange_=function(s){return a.onDurationChange(s)},a.trackProgress_=function(s){return a.trackProgress(s)},a.trackCurrentTime_=function(s){return a.trackCurrentTime(s)},a.stopTrackingCurrentTime_=function(s){return a.stopTrackingCurrentTime(s)},a.disposeSourceHandler_=function(s){return a.disposeSourceHandler(s)},a.queuedHanders_=new Set,a.hasStarted_=!1,a.on("playing",function(){this.hasStarted_=!0}),a.on("loadstart",function(){this.hasStarted_=!1}),Gt.names.forEach(function(s){var o=Gt[s];i&&i[o.getterName]&&(a[o.privateName]=i[o.getterName])}),a.featuresProgressEvents||a.manualProgressOn(),a.featuresTimeupdateEvents||a.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(s){i["native"+s+"Tracks"]===!1&&(a["featuresNative"+s+"Tracks"]=!1)}),i.nativeCaptions===!1||i.nativeTextTracks===!1?a.featuresNativeTextTracks=!1:(i.nativeCaptions===!0||i.nativeTextTracks===!0)&&(a.featuresNativeTextTracks=!0),a.featuresNativeTextTracks||a.emulateTextTracks(),a.preloadTextTracks=i.preloadTextTracks!==!1,a.autoRemoteTextTracks_=new Gt.text.ListClass,a.initTrackListeners(),i.nativeControlsForTouch||a.emitTapEvents(),a.constructor&&(a.name_=a.constructor.name||"Unknown Tech"),a}var n=e.prototype;return n.triggerSourceset=function(r){var a=this;this.isReady_||this.one("ready",function(){return a.setTimeout(function(){return a.triggerSourceset(r)},1)}),this.trigger({src:r,type:"sourceset"})},n.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},n.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},n.trackProgress=function(r){this.stopTrackingProgress(),this.progressInterval=this.setInterval(qe(this,function(){var a=this.bufferedPercent();this.bufferedPercent_!==a&&this.trigger("progress"),this.bufferedPercent_=a,a===1&&this.stopTrackingProgress()}),500)},n.onDurationChange=function(r){this.duration_=this.duration()},n.buffered=function(){return Yi(0,0)},n.bufferedPercent=function(){return xE(this.buffered(),this.duration_)},n.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},n.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},n.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},n.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.dispose=function(){this.clearTracks(Fr.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},n.clearTracks=function(r){var a=this;r=[].concat(r),r.forEach(function(s){for(var o=a[s+"Tracks"]()||[],u=o.length;u--;){var l=o[u];s==="text"&&a.removeRemoteTextTrack(l),o.removeTrack(l)}})},n.cleanupAutoTextTracks=function(){for(var r=this.autoRemoteTextTracks_||[],a=r.length;a--;){var s=r[a];this.removeRemoteTextTrack(s)}},n.reset=function(){},n.crossOrigin=function(){},n.setCrossOrigin=function(){},n.error=function(r){return r!==void 0&&(this.error_=new Yt(r),this.trigger("error")),this.error_},n.played=function(){return this.hasStarted_?Yi(0,0):Yi()},n.play=function(){},n.setScrubbing=function(){},n.scrubbing=function(){},n.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.initTrackListeners=function(){var r=this;Fr.names.forEach(function(a){var s=Fr[a],o=function(){r.trigger(a+"trackchange")},u=r[s.getterName]();u.addEventListener("removetrack",o),u.addEventListener("addtrack",o),r.on("dispose",function(){u.removeEventListener("removetrack",o),u.removeEventListener("addtrack",o)})})},n.addWebVttScript_=function(){var r=this;if(!R.WebVTT)if(te.body.contains(this.el())){if(!this.options_["vtt.js"]&&iu(Sp.exports)&&Object.keys(Sp.exports).length>0){this.trigger("vttjsloaded");return}var a=te.createElement("script");a.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",a.onload=function(){r.trigger("vttjsloaded")},a.onerror=function(){r.trigger("vttjserror")},this.on("dispose",function(){a.onload=null,a.onerror=null}),R.WebVTT=!0,this.el().parentNode.appendChild(a)}else this.ready(this.addWebVttScript_)},n.emulateTextTracks=function(){var r=this,a=this.textTracks(),s=this.remoteTextTracks(),o=function(d){return a.addTrack(d.track)},u=function(d){return a.removeTrack(d.track)};s.on("addtrack",o),s.on("removetrack",u),this.addWebVttScript_();var l=function(){return r.trigger("texttrackchange")},c=function(){l();for(var d=0;d<a.length;d++){var g=a[d];g.removeEventListener("cuechange",l),g.mode==="showing"&&g.addEventListener("cuechange",l)}};c(),a.addEventListener("change",c),a.addEventListener("addtrack",c),a.addEventListener("removetrack",c),this.on("dispose",function(){s.off("addtrack",o),s.off("removetrack",u),a.removeEventListener("change",c),a.removeEventListener("addtrack",c),a.removeEventListener("removetrack",c);for(var f=0;f<a.length;f++){var d=a[f];d.removeEventListener("cuechange",l)}})},n.addTextTrack=function(r,a,s){if(!r)throw new Error("TextTrack kind is required but was not provided");return oL(this,r,a,s)},n.createRemoteTextTrack=function(r){var a=We(r,{tech:this});return new _s.remoteTextEl.TrackClass(a)},n.addRemoteTextTrack=function(r,a){var s=this;r===void 0&&(r={});var o=this.createRemoteTextTrack(r);return a!==!0&&a!==!1&&(Se.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),a=!0),this.remoteTextTrackEls().addTrackElement_(o),this.remoteTextTracks().addTrack(o.track),a!==!0&&this.ready(function(){return s.autoRemoteTextTracks_.addTrack(o.track)}),o},n.removeRemoteTextTrack=function(r){var a=this.remoteTextTrackEls().getTrackElementByTrack_(r);this.remoteTextTrackEls().removeTrackElement_(a),this.remoteTextTracks().removeTrack(r),this.autoRemoteTextTracks_.removeTrack(r)},n.getVideoPlaybackQuality=function(){return{}},n.requestPictureInPicture=function(){var r=this.options_.Promise||R.Promise;if(r)return r.reject()},n.disablePictureInPicture=function(){return!0},n.setDisablePictureInPicture=function(){},n.requestVideoFrameCallback=function(r){var a=this,s=Wn();return this.paused()?(this.queuedHanders_.add(s),this.one("playing",function(){a.queuedHanders_.has(s)&&(a.queuedHanders_.delete(s),r())})):this.requestNamedAnimationFrame(s,r),s},n.cancelVideoFrameCallback=function(r){this.queuedHanders_.has(r)?this.queuedHanders_.delete(r):this.cancelNamedAnimationFrame(r)},n.setPoster=function(){},n.playsinline=function(){},n.setPlaysinline=function(){},n.overrideNativeAudioTracks=function(){},n.overrideNativeVideoTracks=function(){},n.canPlayType=function(){return""},e.canPlayType=function(){return""},e.canPlaySource=function(r,a){return e.canPlayType(r.type)},e.isTech=function(r){return r.prototype instanceof e||r instanceof e||r===e},e.registerTech=function(r,a){if(e.techs_||(e.techs_={}),!e.isTech(a))throw new Error("Tech "+r+" must be a Tech");if(!e.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!e.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return r=ut(r),e.techs_[r]=a,e.techs_[Jl(r)]=a,r!=="Tech"&&e.defaultTechOrder_.push(r),a},e.getTech=function(r){if(!!r){if(e.techs_&&e.techs_[r])return e.techs_[r];if(r=ut(r),R&&R.videojs&&R.videojs[r])return Se.warn("The "+r+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),R.videojs[r]}},e}(Y);Gt.names.forEach(function(t){var e=Gt[t];Ve.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});Ve.prototype.featuresVolumeControl=!0;Ve.prototype.featuresMuteControl=!0;Ve.prototype.featuresFullscreenResize=!1;Ve.prototype.featuresPlaybackRate=!1;Ve.prototype.featuresProgressEvents=!1;Ve.prototype.featuresSourceset=!1;Ve.prototype.featuresTimeupdateEvents=!1;Ve.prototype.featuresNativeTextTracks=!1;Ve.prototype.featuresVideoFrameCallback=!1;Ve.withSourceHandlers=function(t){t.registerSourceHandler=function(n,i){var r=t.sourceHandlers;r||(r=t.sourceHandlers=[]),i===void 0&&(i=r.length),r.splice(i,0,n)},t.canPlayType=function(n){for(var i=t.sourceHandlers||[],r,a=0;a<i.length;a++)if(r=i[a].canPlayType(n),r)return r;return""},t.selectSourceHandler=function(n,i){for(var r=t.sourceHandlers||[],a,s=0;s<r.length;s++)if(a=r[s].canHandleSource(n,i),a)return r[s];return null},t.canPlaySource=function(n,i){var r=t.selectSourceHandler(n,i);return r?r.canHandleSource(n,i):""};var e=["seekable","seeking","duration"];e.forEach(function(n){var i=this[n];typeof i=="function"&&(this[n]=function(){return this.sourceHandler_&&this.sourceHandler_[n]?this.sourceHandler_[n].apply(this.sourceHandler_,arguments):i.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(n){var i=t.selectSourceHandler(n,this.options_);i||(t.nativeSourceHandler?i=t.nativeSourceHandler:Se.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),i!==t.nativeSourceHandler&&(this.currentSource_=n),this.sourceHandler_=i.handleSource(n,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};Y.registerComponent("Tech",Ve);Ve.registerTech("Tech",Ve);Ve.defaultTechOrder_=[];var Ji={},Np={},Mc={};function uL(t,e){Ji[t]=Ji[t]||[],Ji[t].push(e)}function lL(t,e,n){t.setTimeout(function(){return Ui(e,Ji[e.type],n,t)},1)}function cL(t,e){t.forEach(function(n){return n.setTech&&n.setTech(e)})}function dL(t,e,n){return t.reduceRight(Wv(n),e[n]())}function fL(t,e,n,i){return e[n](t.reduce(Wv(n),i))}function p_(t,e,n,i){i===void 0&&(i=null);var r="call"+ut(n),a=t.reduce(Wv(r),i),s=a===Mc,o=s?null:e[n](a);return mL(t,n,o,s),o}var hL={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},pL={setCurrentTime:1,setMuted:1,setVolume:1},m_={play:1,pause:1};function Wv(t){return function(e,n){return e===Mc?Mc:n[t]?n[t](e):e}}function mL(t,e,n,i){for(var r=t.length-1;r>=0;r--){var a=t[r];a[e]&&a[e](i,n)}}function vL(t){Np[t.id()]=null}function gL(t,e){var n=Np[t.id()],i=null;if(n==null)return i=e(t),Np[t.id()]=[[e,i]],i;for(var r=0;r<n.length;r++){var a=n[r],s=a[0],o=a[1];s===e&&(i=o)}return i===null&&(i=e(t),n.push([e,i])),i}function Ui(t,e,n,i,r,a){t===void 0&&(t={}),e===void 0&&(e=[]),r===void 0&&(r=[]),a===void 0&&(a=!1);var s=e,o=s[0],u=s.slice(1);if(typeof o=="string")Ui(t,Ji[o],n,i,r,a);else if(o){var l=gL(i,o);if(!l.setSource)return r.push(l),Ui(t,u,n,i,r,a);l.setSource(it({},t),function(c,f){if(c)return Ui(t,u,n,i,r,a);r.push(l),Ui(f,t.type===f.type?u:Ji[f.type],n,i,r,a)})}else u.length?Ui(t,u,n,i,r,a):a?n(t,r):Ui(t,Ji["*"],n,i,r,!0)}var yL={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Uc=function(e){e===void 0&&(e="");var n=$v(e),i=yL[n.toLowerCase()];return i||""},_L=function(e,n){if(!n)return"";if(e.cache_.source.src===n&&e.cache_.source.type)return e.cache_.source.type;var i=e.cache_.sources.filter(function(o){return o.src===n});if(i.length)return i[0].type;for(var r=e.$$("source"),a=0;a<r.length;a++){var s=r[a];if(s.type&&s.src&&s.src===n)return s.type}return Uc(n)},TL=function t(e){if(Array.isArray(e)){var n=[];e.forEach(function(i){i=t(i),Array.isArray(i)?n=n.concat(i):Bn(i)&&n.push(i)}),e=n}else typeof e=="string"&&e.trim()?e=[v_({src:e})]:Bn(e)&&typeof e.src=="string"&&e.src&&e.src.trim()?e=[v_(e)]:e=[];return e};function v_(t){if(!t.type){var e=Uc(t.src);e&&(t.type=e)}return t}var xL=function(t){ie(e,t);function e(n,i,r){var a,s=We({createEl:!1},i);if(a=t.call(this,n,s,r)||this,!i.playerOptions.sources||i.playerOptions.sources.length===0)for(var o=0,u=i.playerOptions.techOrder;o<u.length;o++){var l=ut(u[o]),c=Ve.getTech(l);if(l||(c=Y.getComponent(l)),c&&c.isSupported()){n.loadTech_(l);break}}else n.src(i.playerOptions.sources);return a}return e}(Y);Y.registerComponent("MediaLoader",xL);var Fd=function(t){ie(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.options_.controlText&&a.controlText(a.options_.controlText),a.handleMouseOver_=function(s){return a.handleMouseOver(s)},a.handleMouseOut_=function(s){return a.handleMouseOut(s)},a.handleClick_=function(s){return a.handleClick(s)},a.handleKeyDown_=function(s){return a.handleKeyDown(s)},a.emitTapEvents(),a.enable(),a}var n=e.prototype;return n.createEl=function(r,a,s){r===void 0&&(r="div"),a===void 0&&(a={}),s===void 0&&(s={}),a=it({className:this.buildCSSClass(),tabIndex:0},a),r==="button"&&Se.error("Creating a ClickableComponent with an HTML element of "+r+" is not supported; use a Button instead."),s=it({role:"button"},s),this.tabIndex_=a.tabIndex;var o=ke(r,a,s);return o.appendChild(ke("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(o),o},n.dispose=function(){this.controlTextEl_=null,t.prototype.dispose.call(this)},n.createControlTextEl=function(r){return this.controlTextEl_=ke("span",{className:"vjs-control-text"},{"aria-live":"polite"}),r&&r.appendChild(this.controlTextEl_),this.controlText(this.controlText_,r),this.controlTextEl_},n.controlText=function(r,a){if(a===void 0&&(a=this.el()),r===void 0)return this.controlText_||"Need Text";var s=this.localize(r);this.controlText_=r,da(this.controlTextEl_,s),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&a.setAttribute("title",s)},n.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},n.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},n.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},n.handleLanguagechange=function(){this.controlText(this.controlText_)},n.handleClick=function(r){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},n.handleKeyDown=function(r){Te.isEventKey(r,"Space")||Te.isEventKey(r,"Enter")?(r.preventDefault(),r.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,r)},e}(Y);Y.registerComponent("ClickableComponent",Fd);var SL=function(t){ie(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.update(),a.update_=function(s){return a.update(s)},i.on("posterchange",a.update_),a}var n=e.prototype;return n.dispose=function(){this.player().off("posterchange",this.update_),t.prototype.dispose.call(this)},n.createEl=function(){var r=ke("div",{className:"vjs-poster",tabIndex:-1});return r},n.update=function(r){var a=this.player().poster();this.setSrc(a),a?this.show():this.hide()},n.setSrc=function(r){var a="";r&&(a='url("'+r+'")'),this.el_.style.backgroundImage=a},n.handleClick=function(r){if(!!this.player_.controls()){var a=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;this.player_.tech(!0)&&!((Tu||_u)&&a)&&this.player_.tech(!0).focus(),this.player_.paused()?on(this.player_.play()):this.player_.pause()}},e}(Fd);Y.registerComponent("PosterImage",SL);var kr="#222",g_="#ccc",bL={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function rh(t,e){var n;if(t.length===4)n=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else if(t.length===7)n=t.slice(1);else throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+e+")"}function nh(t,e,n){try{t.style[e]=n}catch{return}}var EL=function(t){ie(e,t);function e(i,r,a){var s;s=t.call(this,i,r,a)||this;var o=function(l){return s.updateDisplay(l)};return i.on("loadstart",function(u){return s.toggleDisplay(u)}),i.on("texttrackchange",o),i.on("loadedmetadata",function(u){return s.preselectTrack(u)}),i.ready(qe(_e(s),function(){if(i.tech_&&i.tech_.featuresNativeTextTracks){this.hide();return}i.on("fullscreenchange",o),i.on("playerresize",o),R.addEventListener("orientationchange",o),i.on("dispose",function(){return R.removeEventListener("orientationchange",o)});for(var u=this.options_.playerOptions.tracks||[],l=0;l<u.length;l++)this.player_.addRemoteTextTrack(u[l],!0);this.preselectTrack()})),s}var n=e.prototype;return n.preselectTrack=function(){for(var r={captions:1,subtitles:1},a=this.player_.textTracks(),s=this.player_.cache_.selectedLanguage,o,u,l,c=0;c<a.length;c++){var f=a[c];s&&s.enabled&&s.language&&s.language===f.language&&f.kind in r?f.kind===s.kind?l=f:l||(l=f):s&&!s.enabled?(l=null,o=null,u=null):f.default&&(f.kind==="descriptions"&&!o?o=f:f.kind in r&&!u&&(u=f))}l?l.mode="showing":u?u.mode="showing":o&&(o.mode="showing")},n.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},n.clearDisplay=function(){typeof R.WebVTT=="function"&&R.WebVTT.processCues(R,[],this.el_)},n.updateDisplay=function(){var r=this.player_.textTracks(),a=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),a){for(var s=[],o=0;o<r.length;++o){var u=r[o];u.mode==="showing"&&s.push(u)}this.updateForTrack(s);return}for(var l=null,c=null,f=r.length;f--;){var d=r[f];d.mode==="showing"&&(d.kind==="descriptions"?l=d:c=d)}c?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(c)):l&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(l))},n.updateDisplayState=function(r){for(var a=this.player_.textTrackSettings.getValues(),s=r.activeCues,o=s.length;o--;){var u=s[o];if(!!u){var l=u.displayState;if(a.color&&(l.firstChild.style.color=a.color),a.textOpacity&&nh(l.firstChild,"color",rh(a.color||"#fff",a.textOpacity)),a.backgroundColor&&(l.firstChild.style.backgroundColor=a.backgroundColor),a.backgroundOpacity&&nh(l.firstChild,"backgroundColor",rh(a.backgroundColor||"#000",a.backgroundOpacity)),a.windowColor&&(a.windowOpacity?nh(l,"backgroundColor",rh(a.windowColor,a.windowOpacity)):l.style.backgroundColor=a.windowColor),a.edgeStyle&&(a.edgeStyle==="dropshadow"?l.firstChild.style.textShadow="2px 2px 3px "+kr+", 2px 2px 4px "+kr+", 2px 2px 5px "+kr:a.edgeStyle==="raised"?l.firstChild.style.textShadow="1px 1px "+kr+", 2px 2px "+kr+", 3px 3px "+kr:a.edgeStyle==="depressed"?l.firstChild.style.textShadow="1px 1px "+g_+", 0 1px "+g_+", -1px -1px "+kr+", 0 -1px "+kr:a.edgeStyle==="uniform"&&(l.firstChild.style.textShadow="0 0 4px "+kr+", 0 0 4px "+kr+", 0 0 4px "+kr+", 0 0 4px "+kr)),a.fontPercent&&a.fontPercent!==1){var c=R.parseFloat(l.style.fontSize);l.style.fontSize=c*a.fontPercent+"px",l.style.height="auto",l.style.top="auto"}a.fontFamily&&a.fontFamily!=="default"&&(a.fontFamily==="small-caps"?l.firstChild.style.fontVariant="small-caps":l.firstChild.style.fontFamily=bL[a.fontFamily])}}},n.updateForTrack=function(r){if(Array.isArray(r)||(r=[r]),!(typeof R.WebVTT!="function"||r.every(function(g){return!g.activeCues}))){for(var a=[],s=0;s<r.length;++s)for(var o=r[s],u=0;u<o.activeCues.length;++u)a.push(o.activeCues[u]);R.WebVTT.processCues(R,a,this.el_);for(var l=0;l<r.length;++l){for(var c=r[l],f=0;f<c.activeCues.length;++f){var d=c.activeCues[f].displayState;In(d,"vjs-text-track-cue"),In(d,"vjs-text-track-cue-"+(c.language?c.language:l)),c.language&&vs(d,"lang",c.language)}this.player_.textTrackSettings&&this.updateDisplayState(c)}}},e}(Y);Y.registerComponent("TextTrackDisplay",EL);var CL=function(t){ie(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(){var r=this.player_.isAudio(),a=this.localize(r?"Audio Player":"Video Player"),s=ke("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[a])}),o=t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return o.appendChild(s),o},e}(Y);Y.registerComponent("LoadingSpinner",CL);var Qr=function(t){ie(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(r,a,s){a===void 0&&(a={}),s===void 0&&(s={}),r="button",a=it({className:this.buildCSSClass()},a),s=it({type:"button"},s);var o=ke(r,a,s);return o.appendChild(ke("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(o),o},n.addChild=function(r,a){a===void 0&&(a={});var s=this.constructor.name;return Se.warn("Adding an actionable (user controllable) child to a Button ("+s+") is not supported; use a ClickableComponent instead."),Y.prototype.addChild.call(this,r,a)},n.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},n.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},n.handleKeyDown=function(r){if(Te.isEventKey(r,"Space")||Te.isEventKey(r,"Enter")){r.stopPropagation();return}t.prototype.handleKeyDown.call(this,r)},e}(Fd);Y.registerComponent("Button",Qr);var PE=function(t){ie(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.mouseused_=!1,a.on("mousedown",function(s){return a.handleMouseDown(s)}),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-big-play-button"},n.handleClick=function(r){var a=this.player_.play();if(this.mouseused_&&r.clientX&&r.clientY){var s=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;on(a),this.player_.tech(!0)&&!((Tu||_u)&&s)&&this.player_.tech(!0).focus();return}var o=this.player_.getChild("controlBar"),u=o&&o.getChild("playToggle");if(!u){this.player_.tech(!0).focus();return}var l=function(){return u.focus()};Po(a)?a.then(l,function(){}):this.setTimeout(l,1)},n.handleKeyDown=function(r){this.mouseused_=!1,t.prototype.handleKeyDown.call(this,r)},n.handleMouseDown=function(r){this.mouseused_=!0},e}(Qr);PE.prototype.controlText_="Play Video";Y.registerComponent("BigPlayButton",PE);var wL=function(t){ie(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.controlText(r&&r.controlText||a.localize("Close")),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(r){this.trigger({type:"close",bubbles:!1})},n.handleKeyDown=function(r){Te.isEventKey(r,"Esc")?(r.preventDefault(),r.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,r)},e}(Qr);Y.registerComponent("CloseButton",wL);var AE=function(t){ie(e,t);function e(i,r){var a;return r===void 0&&(r={}),a=t.call(this,i,r)||this,r.replay=r.replay===void 0||r.replay,a.on(i,"play",function(s){return a.handlePlay(s)}),a.on(i,"pause",function(s){return a.handlePause(s)}),r.replay&&a.on(i,"ended",function(s){return a.handleEnded(s)}),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(r){this.player_.paused()?on(this.player_.play()):this.player_.pause()},n.handleSeeked=function(r){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(r):this.handlePlay(r)},n.handlePlay=function(r){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.handlePause=function(r){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n.handleEnded=function(r){var a=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",function(s){return a.handleSeeked(s)})},e}(Qr);AE.prototype.controlText_="Play";Y.registerComponent("PlayToggle",AE);var IE=function(e,n){e=e<0?0:e;var i=Math.floor(e%60),r=Math.floor(e/60%60),a=Math.floor(e/3600),s=Math.floor(n/60%60),o=Math.floor(n/3600);return(isNaN(e)||e===1/0)&&(a=r=i="-"),a=a>0||o>0?a+":":"",r=((a||s>=10)&&r<10?"0"+r:r)+":",i=i<10?"0"+i:i,a+r+i},qv=IE;function kL(t){qv=t}function PL(){qv=IE}function Ts(t,e){return e===void 0&&(e=t),qv(t,e)}var Fs=function(t){ie(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.on(i,["timeupdate","ended"],function(s){return a.updateContent(s)}),a.updateTextNode_(),a}var n=e.prototype;return n.createEl=function(){var r=this.buildCSSClass(),a=t.prototype.createEl.call(this,"div",{className:r+" vjs-time-control vjs-control"}),s=ke("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+"\xA0"},{role:"presentation"});return a.appendChild(s),this.contentEl_=ke("span",{className:r+"-display"},{"aria-live":"off",role:"presentation"}),a.appendChild(this.contentEl_),a},n.dispose=function(){this.contentEl_=null,this.textNode_=null,t.prototype.dispose.call(this)},n.updateTextNode_=function(r){var a=this;r===void 0&&(r=0),r=Ts(r),this.formattedTime_!==r&&(this.formattedTime_=r,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){if(!!a.contentEl_){var s=a.textNode_;s&&a.contentEl_.firstChild!==s&&(s=null,Se.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),a.textNode_=te.createTextNode(a.formattedTime_),a.textNode_&&(s?a.contentEl_.replaceChild(a.textNode_,s):a.contentEl_.appendChild(a.textNode_))}}))},n.updateContent=function(r){},e}(Y);Fs.prototype.labelText_="Time";Fs.prototype.controlText_="Time";Y.registerComponent("TimeDisplay",Fs);var Gv=function(t){ie(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-current-time"},n.updateContent=function(r){var a;this.player_.ended()?a=this.player_.duration():a=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(a)},e}(Fs);Gv.prototype.labelText_="Current Time";Gv.prototype.controlText_="Current Time";Y.registerComponent("CurrentTimeDisplay",Gv);var Kv=function(t){ie(e,t);function e(i,r){var a;a=t.call(this,i,r)||this;var s=function(u){return a.updateContent(u)};return a.on(i,"durationchange",s),a.on(i,"loadstart",s),a.on(i,"loadedmetadata",s),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-duration"},n.updateContent=function(r){var a=this.player_.duration();this.updateTextNode_(a)},e}(Fs);Kv.prototype.labelText_="Duration";Kv.prototype.controlText_="Duration";Y.registerComponent("DurationDisplay",Kv);var AL=function(t){ie(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(){var r=t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),a=t.prototype.createEl.call(this,"div"),s=t.prototype.createEl.call(this,"span",{textContent:"/"});return a.appendChild(s),r.appendChild(a),r},e}(Y);Y.registerComponent("TimeDivider",AL);var Xv=function(t){ie(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.on(i,"durationchange",function(s){return a.updateContent(s)}),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-remaining-time"},n.createEl=function(){var r=t.prototype.createEl.call(this);return this.options_.displayNegative!==!1&&r.insertBefore(ke("span",{},{"aria-hidden":!0},"-"),this.contentEl_),r},n.updateContent=function(r){if(typeof this.player_.duration()=="number"){var a;this.player_.ended()?a=0:this.player_.remainingTimeDisplay?a=this.player_.remainingTimeDisplay():a=this.player_.remainingTime(),this.updateTextNode_(a)}},e}(Fs);Xv.prototype.labelText_="Remaining Time";Xv.prototype.controlText_="Remaining Time";Y.registerComponent("RemainingTimeDisplay",Xv);var IL=function(t){ie(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.updateShowing(),a.on(a.player(),"durationchange",function(s){return a.updateShowing(s)}),a}var n=e.prototype;return n.createEl=function(){var r=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=ke("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(ke("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+"\xA0"})),this.contentEl_.appendChild(te.createTextNode(this.localize("LIVE"))),r.appendChild(this.contentEl_),r},n.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},n.updateShowing=function(r){this.player().duration()===1/0?this.show():this.hide()},e}(Y);Y.registerComponent("LiveDisplay",IL);var OE=function(t){ie(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.updateLiveEdgeStatus(),a.player_.liveTracker&&(a.updateLiveEdgeStatusHandler_=function(s){return a.updateLiveEdgeStatus(s)},a.on(a.player_.liveTracker,"liveedgechange",a.updateLiveEdgeStatusHandler_)),a}var n=e.prototype;return n.createEl=function(){var r=t.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=ke("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),r.appendChild(this.textEl_),r},n.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},n.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},n.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,t.prototype.dispose.call(this)},e}(Qr);OE.prototype.controlText_="Seek to live, currently playing live";Y.registerComponent("SeekToLive",OE);var Rd=function(e,n,i){return e=Number(e),Math.min(i,Math.max(n,isNaN(e)?n:e))},Qv=function(t){ie(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.handleMouseDown_=function(s){return a.handleMouseDown(s)},a.handleMouseUp_=function(s){return a.handleMouseUp(s)},a.handleKeyDown_=function(s){return a.handleKeyDown(s)},a.handleClick_=function(s){return a.handleClick(s)},a.handleMouseMove_=function(s){return a.handleMouseMove(s)},a.update_=function(s){return a.update(s)},a.bar=a.getChild(a.options_.barName),a.vertical(!!a.options_.vertical),a.enable(),a}var n=e.prototype;return n.enabled=function(){return this.enabled_},n.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},n.disable=function(){if(!!this.enabled()){var r=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(r,"mousemove",this.handleMouseMove_),this.off(r,"mouseup",this.handleMouseUp_),this.off(r,"touchmove",this.handleMouseMove_),this.off(r,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},n.createEl=function(r,a,s){return a===void 0&&(a={}),s===void 0&&(s={}),a.className=a.className+" vjs-slider",a=it({tabIndex:0},a),s=it({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},s),t.prototype.createEl.call(this,r,a,s)},n.handleMouseDown=function(r){var a=this.bar.el_.ownerDocument;r.type==="mousedown"&&r.preventDefault(),r.type==="touchstart"&&!$n&&r.preventDefault(),sE(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(a,"mousemove",this.handleMouseMove_),this.on(a,"mouseup",this.handleMouseUp_),this.on(a,"touchmove",this.handleMouseMove_),this.on(a,"touchend",this.handleMouseUp_),this.handleMouseMove(r,!0)},n.handleMouseMove=function(r){},n.handleMouseUp=function(){var r=this.bar.el_.ownerDocument;oE(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(r,"mousemove",this.handleMouseMove_),this.off(r,"mouseup",this.handleMouseUp_),this.off(r,"touchmove",this.handleMouseMove_),this.off(r,"touchend",this.handleMouseUp_),this.update()},n.update=function(){var r=this;if(!(!this.el_||!this.bar)){var a=this.getProgress();return a===this.progress_||(this.progress_=a,this.requestNamedAnimationFrame("Slider#update",function(){var s=r.vertical()?"height":"width";r.bar.el().style[s]=(a*100).toFixed(2)+"%"})),a}},n.getProgress=function(){return Number(Rd(this.getPercent(),0,1).toFixed(4))},n.calculateDistance=function(r){var a=Ad(this.el_,r);return this.vertical()?a.y:a.x},n.handleKeyDown=function(r){Te.isEventKey(r,"Left")||Te.isEventKey(r,"Down")?(r.preventDefault(),r.stopPropagation(),this.stepBack()):Te.isEventKey(r,"Right")||Te.isEventKey(r,"Up")?(r.preventDefault(),r.stopPropagation(),this.stepForward()):t.prototype.handleKeyDown.call(this,r)},n.handleClick=function(r){r.stopPropagation(),r.preventDefault()},n.vertical=function(r){if(r===void 0)return this.vertical_||!1;this.vertical_=!!r,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(Y);Y.registerComponent("Slider",Qv);var ih=function(e,n){return Rd(e/n*100,0,100).toFixed(2)+"%"},OL=function(t){ie(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.partEls_=[],a.on(i,"progress",function(s){return a.update(s)}),a}var n=e.prototype;return n.createEl=function(){var r=t.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),a=ke("span",{className:"vjs-control-text"}),s=ke("span",{textContent:this.localize("Loaded")}),o=te.createTextNode(": ");return this.percentageEl_=ke("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),r.appendChild(a),a.appendChild(s),a.appendChild(o),a.appendChild(this.percentageEl_),r},n.dispose=function(){this.partEls_=null,this.percentageEl_=null,t.prototype.dispose.call(this)},n.update=function(r){var a=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var s=a.player_.liveTracker,o=a.player_.buffered(),u=s&&s.isLive()?s.seekableEnd():a.player_.duration(),l=a.player_.bufferedEnd(),c=a.partEls_,f=ih(l,u);a.percent_!==f&&(a.el_.style.width=f,da(a.percentageEl_,f),a.percent_=f);for(var d=0;d<o.length;d++){var g=o.start(d),_=o.end(d),y=c[d];y||(y=a.el_.appendChild(ke()),c[d]=y),!(y.dataset.start===g&&y.dataset.end===_)&&(y.dataset.start=g,y.dataset.end=_,y.style.left=ih(g,l),y.style.width=ih(_-g,l))}for(var x=c.length;x>o.length;x--)a.el_.removeChild(c[x-1]);c.length=o.length})},e}(Y);Y.registerComponent("LoadProgressBar",OL);var DL=function(t){ie(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.update=Vn(qe(_e(a),a.update),Jr),a}var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},n.update=function(r,a,s){var o=su(this.el_),u=gs(this.player_.el()),l=r.width*a;if(!(!u||!o)){var c=r.left-u.left+l,f=r.width-l+(u.right-r.right),d=o.width/2;c<d?d+=d-c:f<d&&(d=f),d<0?d=0:d>o.width&&(d=o.width),d=Math.round(d),this.el_.style.right="-"+d+"px",this.write(s)}},n.write=function(r){da(this.el_,r)},n.updateTime=function(r,a,s,o){var u=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var l,c=u.player_.duration();if(u.player_.liveTracker&&u.player_.liveTracker.isLive()){var f=u.player_.liveTracker.liveWindow(),d=f-a*f;l=(d<1?"":"-")+Ts(d,f)}else l=Ts(s,c);u.update(r,a,l),o&&o()})},e}(Y);Y.registerComponent("TimeTooltip",DL);var Yv=function(t){ie(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.update=Vn(qe(_e(a),a.update),Jr),a}var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},n.update=function(r,a){var s=this.getChild("timeTooltip");if(!!s){var o=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();s.updateTime(r,a,o)}},e}(Y);Yv.prototype.options_={children:[]};!Zt&&!Hn&&Yv.prototype.options_.children.push("timeTooltip");Y.registerComponent("PlayProgressBar",Yv);var DE=function(t){ie(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.update=Vn(qe(_e(a),a.update),Jr),a}var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(r,a){var s=this,o=a*this.player_.duration();this.getChild("timeTooltip").updateTime(r,a,o,function(){s.el_.style.left=r.width*a+"px"})},e}(Y);DE.prototype.options_={children:["timeTooltip"]};Y.registerComponent("MouseTimeDisplay",DE);var El=5,y_=12,Jv=function(t){ie(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.setEventHandlers_(),a}var n=e.prototype;return n.setEventHandlers_=function(){var r=this;this.update_=qe(this,this.update),this.update=Vn(this.update_,Jr),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(a){return r.enableInterval_(a)},this.disableIntervalHandler_=function(a){return r.disableInterval_(a)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in te&&"visibilityState"in te&&this.on(te,"visibilitychange",this.toggleVisibility_)},n.toggleVisibility_=function(r){te.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(r)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())},n.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,Jr))},n.disableInterval_=function(r){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&r&&r.type!=="ended"||!this.updateInterval||(this.clearInterval(this.updateInterval),this.updateInterval=null)},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},n.update=function(r){var a=this;if(te.visibilityState!=="hidden"){var s=t.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var o=a.player_.ended()?a.player_.duration():a.getCurrentTime_(),u=a.player_.liveTracker,l=a.player_.duration();u&&u.isLive()&&(l=a.player_.liveTracker.liveCurrentTime()),a.percent_!==s&&(a.el_.setAttribute("aria-valuenow",(s*100).toFixed(2)),a.percent_=s),(a.currentTime_!==o||a.duration_!==l)&&(a.el_.setAttribute("aria-valuetext",a.localize("progress bar timing: currentTime={1} duration={2}",[Ts(o,l),Ts(l,l)],"{1} of {2}")),a.currentTime_=o,a.duration_=l),a.bar&&a.bar.update(gs(a.el()),a.getProgress())}),s}},n.userSeek_=function(r){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(r)},n.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},n.getPercent=function(){var r=this.getCurrentTime_(),a,s=this.player_.liveTracker;return s&&s.isLive()?(a=(r-s.seekableStart())/s.liveWindow(),s.atLiveEdge()&&(a=1)):a=r/this.player_.duration(),a},n.handleMouseDown=function(r){!ou(r)||(r.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),t.prototype.handleMouseDown.call(this,r))},n.handleMouseMove=function(r,a){if(a===void 0&&(a=!1),!!ou(r)){!a&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);var s,o=this.calculateDistance(r),u=this.player_.liveTracker;if(!u||!u.isLive())s=o*this.player_.duration(),s===this.player_.duration()&&(s=s-.1);else{if(o>=.99){u.seekToLiveEdge();return}var l=u.seekableStart(),c=u.liveCurrentTime();if(s=l+o*u.liveWindow(),s>=c&&(s=c),s<=l&&(s=l+.1),s===1/0)return}this.userSeek_(s)}},n.enable=function(){t.prototype.enable.call(this);var r=this.getChild("mouseTimeDisplay");!r||r.show()},n.disable=function(){t.prototype.disable.call(this);var r=this.getChild("mouseTimeDisplay");!r||r.hide()},n.handleMouseUp=function(r){t.prototype.handleMouseUp.call(this,r),r&&r.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?on(this.player_.play()):this.update_()},n.stepForward=function(){this.userSeek_(this.player_.currentTime()+El)},n.stepBack=function(){this.userSeek_(this.player_.currentTime()-El)},n.handleAction=function(r){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleKeyDown=function(r){var a=this.player_.liveTracker;if(Te.isEventKey(r,"Space")||Te.isEventKey(r,"Enter"))r.preventDefault(),r.stopPropagation(),this.handleAction(r);else if(Te.isEventKey(r,"Home"))r.preventDefault(),r.stopPropagation(),this.userSeek_(0);else if(Te.isEventKey(r,"End"))r.preventDefault(),r.stopPropagation(),a&&a.isLive()?this.userSeek_(a.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(Te(r))){r.preventDefault(),r.stopPropagation();var s=(Te.codes[Te(r)]-Te.codes[0])*10/100;a&&a.isLive()?this.userSeek_(a.seekableStart()+a.liveWindow()*s):this.userSeek_(this.player_.duration()*s)}else Te.isEventKey(r,"PgDn")?(r.preventDefault(),r.stopPropagation(),this.userSeek_(this.player_.currentTime()-El*y_)):Te.isEventKey(r,"PgUp")?(r.preventDefault(),r.stopPropagation(),this.userSeek_(this.player_.currentTime()+El*y_)):t.prototype.handleKeyDown.call(this,r)},n.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in te&&"visibilityState"in te&&this.off(te,"visibilitychange",this.toggleVisibility_),t.prototype.dispose.call(this)},e}(Qv);Jv.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!Zt&&!Hn&&Jv.prototype.options_.children.splice(1,0,"mouseTimeDisplay");Y.registerComponent("SeekBar",Jv);var LE=function(t){ie(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.handleMouseMove=Vn(qe(_e(a),a.handleMouseMove),Jr),a.throttledHandleMouseSeek=Vn(qe(_e(a),a.handleMouseSeek),Jr),a.handleMouseUpHandler_=function(s){return a.handleMouseUp(s)},a.handleMouseDownHandler_=function(s){return a.handleMouseDown(s)},a.enable(),a}var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n.handleMouseMove=function(r){var a=this.getChild("seekBar");if(!!a){var s=a.getChild("playProgressBar"),o=a.getChild("mouseTimeDisplay");if(!(!s&&!o)){var u=a.el(),l=su(u),c=Ad(u,r).x;c=Rd(c,0,1),o&&o.update(l,c),s&&s.update(l,a.getProgress())}}},n.handleMouseSeek=function(r){var a=this.getChild("seekBar");a&&a.handleMouseMove(r)},n.enabled=function(){return this.enabled_},n.disable=function(){if(this.children().forEach(function(a){return a.disable&&a.disable()}),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var r=this.getChild("seekBar");this.player_.scrubbing(!1),r.videoWasPlaying&&on(this.player_.play())}},n.enable=function(){this.children().forEach(function(r){return r.enable&&r.enable()}),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},n.removeListenersAddedOnMousedownAndTouchstart=function(){var r=this.el_.ownerDocument;this.off(r,"mousemove",this.throttledHandleMouseSeek),this.off(r,"touchmove",this.throttledHandleMouseSeek),this.off(r,"mouseup",this.handleMouseUpHandler_),this.off(r,"touchend",this.handleMouseUpHandler_)},n.handleMouseDown=function(r){var a=this.el_.ownerDocument,s=this.getChild("seekBar");s&&s.handleMouseDown(r),this.on(a,"mousemove",this.throttledHandleMouseSeek),this.on(a,"touchmove",this.throttledHandleMouseSeek),this.on(a,"mouseup",this.handleMouseUpHandler_),this.on(a,"touchend",this.handleMouseUpHandler_)},n.handleMouseUp=function(r){var a=this.getChild("seekBar");a&&a.handleMouseUp(r),this.removeListenersAddedOnMousedownAndTouchstart()},e}(Y);LE.prototype.options_={children:["seekBar"]};Y.registerComponent("ProgressControl",LE);var FE=function(t){ie(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.on(i,["enterpictureinpicture","leavepictureinpicture"],function(s){return a.handlePictureInPictureChange(s)}),a.on(i,["disablepictureinpicturechanged","loadedmetadata"],function(s){return a.handlePictureInPictureEnabledChange(s)}),a.on(i,["loadedmetadata","audioonlymodechange","audiopostermodechange"],function(){var s=i.currentType().substring(0,5)==="audio";s||i.audioPosterMode()||i.audioOnlyMode()?(i.isInPictureInPicture()&&i.exitPictureInPicture(),a.hide()):a.show()}),a.disable(),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-picture-in-picture-control "+t.prototype.buildCSSClass.call(this)},n.handlePictureInPictureEnabledChange=function(){te.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1?this.enable():this.disable()},n.handlePictureInPictureChange=function(r){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},n.handleClick=function(r){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},e}(Qr);FE.prototype.controlText_="Picture-in-Picture";Y.registerComponent("PictureInPictureToggle",FE);var RE=function(t){ie(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.on(i,"fullscreenchange",function(s){return a.handleFullscreenChange(s)}),te[i.fsApi_.fullscreenEnabled]===!1&&a.disable(),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},n.handleFullscreenChange=function(r){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},n.handleClick=function(r){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(Qr);RE.prototype.controlText_="Fullscreen";Y.registerComponent("FullscreenToggle",RE);var LL=function(e,n){n.tech_&&!n.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(n,"loadstart",function(){n.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},FL=function(t){ie(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(){var r=t.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return r.appendChild(t.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),r},e}(Y);Y.registerComponent("VolumeLevel",FL);var RL=function(t){ie(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.update=Vn(qe(_e(a),a.update),Jr),a}var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},n.update=function(r,a,s,o){if(!s){var u=gs(this.el_),l=gs(this.player_.el()),c=r.width*a;if(!l||!u)return;var f=r.left-l.left+c,d=r.width-c+(l.right-r.right),g=u.width/2;f<g?g+=g-f:d<g&&(g=d),g<0?g=0:g>u.width&&(g=u.width),this.el_.style.right="-"+g+"px"}this.write(o+"%")},n.write=function(r){da(this.el_,r)},n.updateVolume=function(r,a,s,o,u){var l=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",function(){l.update(r,a,s,o.toFixed(0)),u&&u()})},e}(Y);Y.registerComponent("VolumeLevelTooltip",RL);var NE=function(t){ie(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.update=Vn(qe(_e(a),a.update),Jr),a}var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(r,a,s){var o=this,u=100*a;this.getChild("volumeLevelTooltip").updateVolume(r,a,s,u,function(){s?o.el_.style.bottom=r.height*a+"px":o.el_.style.left=r.width*a+"px"})},e}(Y);NE.prototype.options_={children:["volumeLevelTooltip"]};Y.registerComponent("MouseVolumeLevelDisplay",NE);var Nd=function(t){ie(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.on("slideractive",function(s){return a.updateLastVolume_(s)}),a.on(i,"volumechange",function(s){return a.updateARIAAttributes(s)}),i.ready(function(){return a.updateARIAAttributes()}),a}var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},n.handleMouseDown=function(r){!ou(r)||t.prototype.handleMouseDown.call(this,r)},n.handleMouseMove=function(r){var a=this.getChild("mouseVolumeLevelDisplay");if(a){var s=this.el(),o=gs(s),u=this.vertical(),l=Ad(s,r);l=u?l.y:l.x,l=Rd(l,0,1),a.update(o,l,u)}!ou(r)||(this.checkMuted(),this.player_.volume(this.calculateDistance(r)))},n.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},n.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},n.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},n.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},n.updateARIAAttributes=function(r){var a=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",a),this.el_.setAttribute("aria-valuetext",a+"%")},n.volumeAsPercentage_=function(){return Math.round(this.player_.volume()*100)},n.updateLastVolume_=function(){var r=this,a=this.player_.volume();this.one("sliderinactive",function(){r.player_.volume()===0&&r.player_.lastVolume_(a)})},e}(Qv);Nd.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!Zt&&!Hn&&Nd.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");Nd.prototype.playerEvent="volumechange";Y.registerComponent("VolumeBar",Nd);var ME=function(t){ie(e,t);function e(i,r){var a;return r===void 0&&(r={}),r.vertical=r.vertical||!1,(typeof r.volumeBar>"u"||iu(r.volumeBar))&&(r.volumeBar=r.volumeBar||{},r.volumeBar.vertical=r.vertical),a=t.call(this,i,r)||this,LL(_e(a),i),a.throttledHandleMouseMove=Vn(qe(_e(a),a.handleMouseMove),Jr),a.handleMouseUpHandler_=function(s){return a.handleMouseUp(s)},a.on("mousedown",function(s){return a.handleMouseDown(s)}),a.on("touchstart",function(s){return a.handleMouseDown(s)}),a.on("mousemove",function(s){return a.handleMouseMove(s)}),a.on(a.volumeBar,["focus","slideractive"],function(){a.volumeBar.addClass("vjs-slider-active"),a.addClass("vjs-slider-active"),a.trigger("slideractive")}),a.on(a.volumeBar,["blur","sliderinactive"],function(){a.volumeBar.removeClass("vjs-slider-active"),a.removeClass("vjs-slider-active"),a.trigger("sliderinactive")}),a}var n=e.prototype;return n.createEl=function(){var r="vjs-volume-horizontal";return this.options_.vertical&&(r="vjs-volume-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+r})},n.handleMouseDown=function(r){var a=this.el_.ownerDocument;this.on(a,"mousemove",this.throttledHandleMouseMove),this.on(a,"touchmove",this.throttledHandleMouseMove),this.on(a,"mouseup",this.handleMouseUpHandler_),this.on(a,"touchend",this.handleMouseUpHandler_)},n.handleMouseUp=function(r){var a=this.el_.ownerDocument;this.off(a,"mousemove",this.throttledHandleMouseMove),this.off(a,"touchmove",this.throttledHandleMouseMove),this.off(a,"mouseup",this.handleMouseUpHandler_),this.off(a,"touchend",this.handleMouseUpHandler_)},n.handleMouseMove=function(r){this.volumeBar.handleMouseMove(r)},e}(Y);ME.prototype.options_={children:["volumeBar"]};Y.registerComponent("VolumeControl",ME);var NL=function(e,n){n.tech_&&!n.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(n,"loadstart",function(){n.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},UE=function(t){ie(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,NL(_e(a),i),a.on(i,["loadstart","volumechange"],function(s){return a.update(s)}),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(r){var a=this.player_.volume(),s=this.player_.lastVolume_();if(a===0){var o=s<.1?.1:s;this.player_.volume(o),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},n.update=function(r){this.updateIcon_(),this.updateControlText_()},n.updateIcon_=function(){var r=this.player_.volume(),a=3;Zt&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),r===0||this.player_.muted()?a=0:r<.33?a=1:r<.67&&(a=2);for(var s=0;s<4;s++)xu(this.el_,"vjs-vol-"+s);In(this.el_,"vjs-vol-"+a)},n.updateControlText_=function(){var r=this.player_.muted()||this.player_.volume()===0,a=r?"Unmute":"Mute";this.controlText()!==a&&this.controlText(a)},e}(Qr);UE.prototype.controlText_="Mute";Y.registerComponent("MuteToggle",UE);var BE=function(t){ie(e,t);function e(i,r){var a;return r===void 0&&(r={}),typeof r.inline<"u"?r.inline=r.inline:r.inline=!0,(typeof r.volumeControl>"u"||iu(r.volumeControl))&&(r.volumeControl=r.volumeControl||{},r.volumeControl.vertical=!r.inline),a=t.call(this,i,r)||this,a.handleKeyPressHandler_=function(s){return a.handleKeyPress(s)},a.on(i,["loadstart"],function(s){return a.volumePanelState_(s)}),a.on(a.muteToggle,"keyup",function(s){return a.handleKeyPress(s)}),a.on(a.volumeControl,"keyup",function(s){return a.handleVolumeControlKeyUp(s)}),a.on("keydown",function(s){return a.handleKeyPress(s)}),a.on("mouseover",function(s){return a.handleMouseOver(s)}),a.on("mouseout",function(s){return a.handleMouseOut(s)}),a.on(a.volumeControl,["slideractive"],a.sliderActive_),a.on(a.volumeControl,["sliderinactive"],a.sliderInactive_),a}var n=e.prototype;return n.sliderActive_=function(){this.addClass("vjs-slider-active")},n.sliderInactive_=function(){this.removeClass("vjs-slider-active")},n.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},n.createEl=function(){var r="vjs-volume-panel-horizontal";return this.options_.inline||(r="vjs-volume-panel-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+r})},n.dispose=function(){this.handleMouseOut(),t.prototype.dispose.call(this)},n.handleVolumeControlKeyUp=function(r){Te.isEventKey(r,"Esc")&&this.muteToggle.focus()},n.handleMouseOver=function(r){this.addClass("vjs-hover"),br(te,"keyup",this.handleKeyPressHandler_)},n.handleMouseOut=function(r){this.removeClass("vjs-hover"),Mt(te,"keyup",this.handleKeyPressHandler_)},n.handleKeyPress=function(r){Te.isEventKey(r,"Esc")&&this.handleMouseOut()},e}(Y);BE.prototype.options_={children:["muteToggle","volumeControl"]};Y.registerComponent("VolumePanel",BE);var VE=function(t){ie(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,r&&(a.menuButton_=r.menuButton),a.focusedChild_=-1,a.on("keydown",function(s){return a.handleKeyDown(s)}),a.boundHandleBlur_=function(s){return a.handleBlur(s)},a.boundHandleTapClick_=function(s){return a.handleTapClick(s)},a}var n=e.prototype;return n.addEventListenerForItem=function(r){r instanceof Y&&(this.on(r,"blur",this.boundHandleBlur_),this.on(r,["tap","click"],this.boundHandleTapClick_))},n.removeEventListenerForItem=function(r){r instanceof Y&&(this.off(r,"blur",this.boundHandleBlur_),this.off(r,["tap","click"],this.boundHandleTapClick_))},n.removeChild=function(r){typeof r=="string"&&(r=this.getChild(r)),this.removeEventListenerForItem(r),t.prototype.removeChild.call(this,r)},n.addItem=function(r){var a=this.addChild(r);a&&this.addEventListenerForItem(a)},n.createEl=function(){var r=this.options_.contentElType||"ul";this.contentEl_=ke(r,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var a=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return a.appendChild(this.contentEl_),br(a,"click",function(s){s.preventDefault(),s.stopImmediatePropagation()}),a},n.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,t.prototype.dispose.call(this)},n.handleBlur=function(r){var a=r.relatedTarget||te.activeElement;if(!this.children().some(function(o){return o.el()===a})){var s=this.menuButton_;s&&s.buttonPressed_&&a!==s.el().firstChild&&s.unpressButton()}},n.handleTapClick=function(r){if(this.menuButton_){this.menuButton_.unpressButton();var a=this.children();if(!Array.isArray(a))return;var s=a.filter(function(o){return o.el()===r.target})[0];if(!s)return;s.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}},n.handleKeyDown=function(r){Te.isEventKey(r,"Left")||Te.isEventKey(r,"Down")?(r.preventDefault(),r.stopPropagation(),this.stepForward()):(Te.isEventKey(r,"Right")||Te.isEventKey(r,"Up"))&&(r.preventDefault(),r.stopPropagation(),this.stepBack())},n.stepForward=function(){var r=0;this.focusedChild_!==void 0&&(r=this.focusedChild_+1),this.focus(r)},n.stepBack=function(){var r=0;this.focusedChild_!==void 0&&(r=this.focusedChild_-1),this.focus(r)},n.focus=function(r){r===void 0&&(r=0);var a=this.children().slice(),s=a.length&&a[0].hasClass("vjs-menu-title");s&&a.shift(),a.length>0&&(r<0?r=0:r>=a.length&&(r=a.length-1),this.focusedChild_=r,a[r].el_.focus())},e}(Y);Y.registerComponent("Menu",VE);var Zv=function(t){ie(e,t);function e(i,r){var a;r===void 0&&(r={}),a=t.call(this,i,r)||this,a.menuButton_=new Qr(i,r),a.menuButton_.controlText(a.controlText_),a.menuButton_.el_.setAttribute("aria-haspopup","true");var s=Qr.prototype.buildCSSClass();a.menuButton_.el_.className=a.buildCSSClass()+" "+s,a.menuButton_.removeClass("vjs-control"),a.addChild(a.menuButton_),a.update(),a.enabled_=!0;var o=function(l){return a.handleClick(l)};return a.handleMenuKeyUp_=function(u){return a.handleMenuKeyUp(u)},a.on(a.menuButton_,"tap",o),a.on(a.menuButton_,"click",o),a.on(a.menuButton_,"keydown",function(u){return a.handleKeyDown(u)}),a.on(a.menuButton_,"mouseenter",function(){a.addClass("vjs-hover"),a.menu.show(),br(te,"keyup",a.handleMenuKeyUp_)}),a.on("mouseleave",function(u){return a.handleMouseLeave(u)}),a.on("keydown",function(u){return a.handleSubmenuKeyDown(u)}),a}var n=e.prototype;return n.update=function(){var r=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=r,this.addChild(r),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))},n.createMenu=function(){var r=new VE(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var a=ke("li",{className:"vjs-menu-title",textContent:ut(this.options_.title),tabIndex:-1}),s=new Y(this.player_,{el:a});r.addItem(s)}if(this.items=this.createItems(),this.items)for(var o=0;o<this.items.length;o++)r.addItem(this.items[o]);return r},n.createItems=function(){},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},n.buildWrapperCSSClass=function(){var r="vjs-menu-button";this.options_.inline===!0?r+="-inline":r+="-popup";var a=Qr.prototype.buildCSSClass();return"vjs-menu-button "+r+" "+a+" "+t.prototype.buildCSSClass.call(this)},n.buildCSSClass=function(){var r="vjs-menu-button";return this.options_.inline===!0?r+="-inline":r+="-popup","vjs-menu-button "+r+" "+t.prototype.buildCSSClass.call(this)},n.controlText=function(r,a){return a===void 0&&(a=this.menuButton_.el()),this.menuButton_.controlText(r,a)},n.dispose=function(){this.handleMouseLeave(),t.prototype.dispose.call(this)},n.handleClick=function(r){this.buttonPressed_?this.unpressButton():this.pressButton()},n.handleMouseLeave=function(r){this.removeClass("vjs-hover"),Mt(te,"keyup",this.handleMenuKeyUp_)},n.focus=function(){this.menuButton_.focus()},n.blur=function(){this.menuButton_.blur()},n.handleKeyDown=function(r){Te.isEventKey(r,"Esc")||Te.isEventKey(r,"Tab")?(this.buttonPressed_&&this.unpressButton(),Te.isEventKey(r,"Tab")||(r.preventDefault(),this.menuButton_.focus())):(Te.isEventKey(r,"Up")||Te.isEventKey(r,"Down"))&&(this.buttonPressed_||(r.preventDefault(),this.pressButton()))},n.handleMenuKeyUp=function(r){(Te.isEventKey(r,"Esc")||Te.isEventKey(r,"Tab"))&&this.removeClass("vjs-hover")},n.handleSubmenuKeyPress=function(r){this.handleSubmenuKeyDown(r)},n.handleSubmenuKeyDown=function(r){(Te.isEventKey(r,"Esc")||Te.isEventKey(r,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),Te.isEventKey(r,"Tab")||(r.preventDefault(),this.menuButton_.focus()))},n.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Zt&&tE())return;this.menu.focus()}},n.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},n.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},n.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(Y);Y.registerComponent("MenuButton",Zv);var eg=function(t){ie(e,t);function e(n,i){var r,a=i.tracks;if(r=t.call(this,n,i)||this,r.items.length<=1&&r.hide(),!a)return _e(r);var s=qe(_e(r),r.update);return a.addEventListener("removetrack",s),a.addEventListener("addtrack",s),a.addEventListener("labelchange",s),r.player_.on("ready",s),r.player_.on("dispose",function(){a.removeEventListener("removetrack",s),a.removeEventListener("addtrack",s),a.removeEventListener("labelchange",s)}),r}return e}(Zv);Y.registerComponent("TrackButton",eg);var ML=["Tab","Esc","Up","Down","Right","Left"],bu=function(t){ie(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.selectable=r.selectable,a.isSelected_=r.selected||!1,a.multiSelectable=r.multiSelectable,a.selected(a.isSelected_),a.selectable?a.multiSelectable?a.el_.setAttribute("role","menuitemcheckbox"):a.el_.setAttribute("role","menuitemradio"):a.el_.setAttribute("role","menuitem"),a}var n=e.prototype;return n.createEl=function(r,a,s){this.nonIconControl=!0;var o=t.prototype.createEl.call(this,"li",it({className:"vjs-menu-item",tabIndex:-1},a),s);return o.replaceChild(ke("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),o.querySelector(".vjs-icon-placeholder")),o},n.handleKeyDown=function(r){ML.some(function(a){return Te.isEventKey(r,a)})||t.prototype.handleKeyDown.call(this,r)},n.handleClick=function(r){this.selected(!0)},n.selected=function(r){this.selectable&&(r?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(Fd);Y.registerComponent("MenuItem",bu);var Eu=function(t){ie(e,t);function e(i,r){var a,s=r.track,o=i.textTracks();r.label=s.label||s.language||"Unknown",r.selected=s.mode==="showing",a=t.call(this,i,r)||this,a.track=s,a.kinds=(r.kinds||[r.kind||a.track.kind]).filter(Boolean);var u=function(){for(var d=arguments.length,g=new Array(d),_=0;_<d;_++)g[_]=arguments[_];a.handleTracksChange.apply(_e(a),g)},l=function(){for(var d=arguments.length,g=new Array(d),_=0;_<d;_++)g[_]=arguments[_];a.handleSelectedLanguageChange.apply(_e(a),g)};if(i.on(["loadstart","texttrackchange"],u),o.addEventListener("change",u),o.addEventListener("selectedlanguagechange",l),a.on("dispose",function(){i.off(["loadstart","texttrackchange"],u),o.removeEventListener("change",u),o.removeEventListener("selectedlanguagechange",l)}),o.onchange===void 0){var c;a.on(["tap","click"],function(){if(typeof R.Event!="object")try{c=new R.Event("change")}catch{}c||(c=te.createEvent("Event"),c.initEvent("change",!0,!0)),o.dispatchEvent(c)})}return a.handleTracksChange(),a}var n=e.prototype;return n.handleClick=function(r){var a=this.track,s=this.player_.textTracks();if(t.prototype.handleClick.call(this,r),!!s)for(var o=0;o<s.length;o++){var u=s[o];this.kinds.indexOf(u.kind)!==-1&&(u===a?u.mode!=="showing"&&(u.mode="showing"):u.mode!=="disabled"&&(u.mode="disabled"))}},n.handleTracksChange=function(r){var a=this.track.mode==="showing";a!==this.isSelected_&&this.selected(a)},n.handleSelectedLanguageChange=function(r){if(this.track.mode==="showing"){var a=this.player_.cache_.selectedLanguage;if(a&&a.enabled&&a.language===this.track.language&&a.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},n.dispose=function(){this.track=null,t.prototype.dispose.call(this)},e}(bu);Y.registerComponent("TextTrackMenuItem",Eu);var jE=function(t){ie(e,t);function e(i,r){return r.track={player:i,kind:r.kind,kinds:r.kinds,default:!1,mode:"disabled"},r.kinds||(r.kinds=[r.kind]),r.label?r.track.label=r.label:r.track.label=r.kinds.join(" and ")+" off",r.selectable=!0,r.multiSelectable=!1,t.call(this,i,r)||this}var n=e.prototype;return n.handleTracksChange=function(r){for(var a=this.player().textTracks(),s=!0,o=0,u=a.length;o<u;o++){var l=a[o];if(this.options_.kinds.indexOf(l.kind)>-1&&l.mode==="showing"){s=!1;break}}s!==this.isSelected_&&this.selected(s)},n.handleSelectedLanguageChange=function(r){for(var a=this.player().textTracks(),s=!0,o=0,u=a.length;o<u;o++){var l=a[o];if(["captions","descriptions","subtitles"].indexOf(l.kind)>-1&&l.mode==="showing"){s=!1;break}}s&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(Eu);Y.registerComponent("OffTextTrackMenuItem",jE);var Rs=function(t){ie(e,t);function e(i,r){return r===void 0&&(r={}),r.tracks=i.textTracks(),t.call(this,i,r)||this}var n=e.prototype;return n.createItems=function(r,a){r===void 0&&(r=[]),a===void 0&&(a=Eu);var s;this.label_&&(s=this.label_+" off"),r.push(new jE(this.player_,{kinds:this.kinds_,kind:this.kind_,label:s})),this.hideThreshold_+=1;var o=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var u=0;u<o.length;u++){var l=o[u];if(this.kinds_.indexOf(l.kind)>-1){var c=new a(this.player_,{track:l,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});c.addClass("vjs-"+l.kind+"-menu-item"),r.push(c)}}return r},e}(eg);Y.registerComponent("TextTrackButton",Rs);var zE=function(t){ie(e,t);function e(i,r){var a,s=r.track,o=r.cue,u=i.currentTime();return r.selectable=!0,r.multiSelectable=!1,r.label=o.text,r.selected=o.startTime<=u&&u<o.endTime,a=t.call(this,i,r)||this,a.track=s,a.cue=o,a}var n=e.prototype;return n.handleClick=function(r){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime)},e}(bu);Y.registerComponent("ChaptersTrackMenuItem",zE);var tg=function(t){ie(e,t);function e(i,r,a){var s;return s=t.call(this,i,r,a)||this,s.selectCurrentItem_=function(){s.items.forEach(function(o){o.selected(s.track_.activeCues[0]===o.cue)})},s}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildWrapperCSSClass.call(this)},n.update=function(r){if(!(r&&r.track&&r.track.kind!=="chapters")){var a=this.findChaptersTrack();a!==this.track_?(this.setTrack(a),t.prototype.update.call(this)):(!this.items||a&&a.cues&&a.cues.length!==this.items.length)&&t.prototype.update.call(this)}},n.setTrack=function(r){if(this.track_!==r){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var a=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);a&&a.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=r,this.track_){this.track_.mode="hidden";var s=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);s&&s.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}},n.findChaptersTrack=function(){for(var r=this.player_.textTracks()||[],a=r.length-1;a>=0;a--){var s=r[a];if(s.kind===this.kind_)return s}},n.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(ut(this.kind_))},n.createMenu=function(){return this.options_.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},n.createItems=function(){var r=[];if(!this.track_)return r;var a=this.track_.cues;if(!a)return r;for(var s=0,o=a.length;s<o;s++){var u=a[s],l=new zE(this.player_,{track:this.track_,cue:u});r.push(l)}return r},e}(Rs);tg.prototype.kind_="chapters";tg.prototype.controlText_="Chapters";Y.registerComponent("ChaptersButton",tg);var rg=function(t){ie(e,t);function e(i,r,a){var s;s=t.call(this,i,r,a)||this;var o=i.textTracks(),u=qe(_e(s),s.handleTracksChange);return o.addEventListener("change",u),s.on("dispose",function(){o.removeEventListener("change",u)}),s}var n=e.prototype;return n.handleTracksChange=function(r){for(var a=this.player().textTracks(),s=!1,o=0,u=a.length;o<u;o++){var l=a[o];if(l.kind!==this.kind_&&l.mode==="showing"){s=!0;break}}s?this.disable():this.enable()},n.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(Rs);rg.prototype.kind_="descriptions";rg.prototype.controlText_="Descriptions";Y.registerComponent("DescriptionsButton",rg);var ng=function(t){ie(e,t);function e(i,r,a){return t.call(this,i,r,a)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(Rs);ng.prototype.kind_="subtitles";ng.prototype.controlText_="Subtitles";Y.registerComponent("SubtitlesButton",ng);var ig=function(t){ie(e,t);function e(i,r){var a;return r.track={player:i,kind:r.kind,label:r.kind+" settings",selectable:!1,default:!1,mode:"disabled"},r.selectable=!1,r.name="CaptionSettingsMenuItem",a=t.call(this,i,r)||this,a.addClass("vjs-texttrack-settings"),a.controlText(", opens "+r.kind+" settings dialog"),a}var n=e.prototype;return n.handleClick=function(r){this.player().getChild("textTrackSettings").open()},e}(Eu);Y.registerComponent("CaptionSettingsMenuItem",ig);var ag=function(t){ie(e,t);function e(i,r,a){return t.call(this,i,r,a)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-captions-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var r=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(r.push(new ig(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,r)},e}(Rs);ag.prototype.kind_="captions";ag.prototype.controlText_="Captions";Y.registerComponent("CaptionsButton",ag);var HE=function(t){ie(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(r,a,s){var o=t.prototype.createEl.call(this,r,a,s),u=o.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(u.appendChild(ke("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),u.appendChild(ke("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),o},e}(Eu);Y.registerComponent("SubsCapsMenuItem",HE);var sg=function(t){ie(e,t);function e(i,r){var a;return r===void 0&&(r={}),a=t.call(this,i,r)||this,a.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(a.player_.language_)>-1&&(a.label_="captions"),a.menuButton_.controlText(ut(a.label_)),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var r=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(r.push(new ig(this.player_,{kind:this.label_})),this.hideThreshold_+=1),r=t.prototype.createItems.call(this,r,HE),r},e}(Rs);sg.prototype.kinds_=["captions","subtitles"];sg.prototype.controlText_="Subtitles";Y.registerComponent("SubsCapsButton",sg);var $E=function(t){ie(e,t);function e(i,r){var a,s=r.track,o=i.audioTracks();r.label=s.label||s.language||"Unknown",r.selected=s.enabled,a=t.call(this,i,r)||this,a.track=s,a.addClass("vjs-"+s.kind+"-menu-item");var u=function(){for(var c=arguments.length,f=new Array(c),d=0;d<c;d++)f[d]=arguments[d];a.handleTracksChange.apply(_e(a),f)};return o.addEventListener("change",u),a.on("dispose",function(){o.removeEventListener("change",u)}),a}var n=e.prototype;return n.createEl=function(r,a,s){var o=t.prototype.createEl.call(this,r,a,s),u=o.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="main-desc"&&(u.appendChild(ke("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),u.appendChild(ke("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),o},n.handleClick=function(r){if(t.prototype.handleClick.call(this,r),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks)for(var a=this.player_.audioTracks(),s=0;s<a.length;s++){var o=a[s];o!==this.track&&(o.enabled=o===this.track)}},n.handleTracksChange=function(r){this.selected(this.track.enabled)},e}(bu);Y.registerComponent("AudioTrackMenuItem",$E);var WE=function(t){ie(e,t);function e(i,r){return r===void 0&&(r={}),r.tracks=i.audioTracks(),t.call(this,i,r)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-audio-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(r){r===void 0&&(r=[]),this.hideThreshold_=1;for(var a=this.player_.audioTracks(),s=0;s<a.length;s++){var o=a[s];r.push(new $E(this.player_,{track:o,selectable:!0,multiSelectable:!1}))}return r},e}(eg);WE.prototype.controlText_="Audio Track";Y.registerComponent("AudioTrackButton",WE);var og=function(t){ie(e,t);function e(i,r){var a,s=r.rate,o=parseFloat(s,10);return r.label=s,r.selected=o===i.playbackRate(),r.selectable=!0,r.multiSelectable=!1,a=t.call(this,i,r)||this,a.label=s,a.rate=o,a.on(i,"ratechange",function(u){return a.update(u)}),a}var n=e.prototype;return n.handleClick=function(r){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.update=function(r){this.selected(this.player().playbackRate()===this.rate)},e}(bu);og.prototype.contentElType="button";Y.registerComponent("PlaybackRateMenuItem",og);var qE=function(t){ie(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.menuButton_.el_.setAttribute("aria-describedby",a.labelElId_),a.updateVisibility(),a.updateLabel(),a.on(i,"loadstart",function(s){return a.updateVisibility(s)}),a.on(i,"ratechange",function(s){return a.updateLabel(s)}),a.on(i,"playbackrateschange",function(s){return a.handlePlaybackRateschange(s)}),a}var n=e.prototype;return n.createEl=function(){var r=t.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=ke("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),r.appendChild(this.labelEl_),r},n.dispose=function(){this.labelEl_=null,t.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){for(var r=this.playbackRates(),a=[],s=r.length-1;s>=0;s--)a.push(new og(this.player(),{rate:r[s]+"x"}));return a},n.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.handleClick=function(r){var a=this.player().playbackRate(),s=this.playbackRates(),o=s.indexOf(a),u=(o+1)%s.length;this.player().playbackRate(s[u])},n.handlePlaybackRateschange=function(r){this.update()},n.playbackRates=function(){var r=this.player();return r.playbackRates&&r.playbackRates()||[]},n.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.updateVisibility=function(r){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.updateLabel=function(r){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},e}(Zv);qE.prototype.controlText_="Playback Rate";Y.registerComponent("PlaybackRateMenuButton",qE);var GE=function(t){ie(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},n.createEl=function(r,a,s){return r===void 0&&(r="div"),a===void 0&&(a={}),s===void 0&&(s={}),a.className||(a.className=this.buildCSSClass()),t.prototype.createEl.call(this,r,a,s)},e}(Y);Y.registerComponent("Spacer",GE);var UL=function(t){ie(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:"\xA0"})},e}(GE);Y.registerComponent("CustomControlSpacer",UL);var Bc=function(t){ie(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(Y);Bc.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]};"exitPictureInPicture"in te&&Bc.prototype.options_.children.splice(Bc.prototype.options_.children.length-1,0,"pictureInPictureToggle");Y.registerComponent("ControlBar",Bc);var KE=function(t){ie(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.on(i,"error",function(s){return a.open(s)}),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},n.content=function(){var r=this.player().error();return r?this.localize(r.message):""},e}(Ds);KE.prototype.options_=bt({},Ds.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});Y.registerComponent("ErrorDisplay",KE);var ah="vjs-text-track-settings",__=["#000","Black"],T_=["#00F","Blue"],x_=["#0FF","Cyan"],S_=["#0F0","Green"],b_=["#F0F","Magenta"],E_=["#F00","Red"],C_=["#FFF","White"],w_=["#FF0","Yellow"],sh=["1","Opaque"],oh=["0.5","Semi-Transparent"],k_=["0","Transparent"],Bi={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[__,C_,E_,S_,T_,w_,b_,x_]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[sh,oh,k_]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[C_,__,E_,S_,T_,w_,b_,x_]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return e==="1.00"?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[sh,oh]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[k_,oh,sh]}};Bi.windowColor.options=Bi.backgroundColor.options;function XE(t,e){if(e&&(t=e(t)),t&&t!=="none")return t}function BL(t,e){var n=t.options[t.options.selectedIndex].value;return XE(n,e)}function VL(t,e,n){if(!!e){for(var i=0;i<t.options.length;i++)if(XE(t.options[i].value,n)===e){t.selectedIndex=i;break}}}var jL=function(t){ie(e,t);function e(i,r){var a;return r.temporary=!1,a=t.call(this,i,r)||this,a.updateDisplay=a.updateDisplay.bind(_e(a)),a.fill(),a.hasBeenOpened_=a.hasBeenFilled_=!0,a.endDialog=ke("p",{className:"vjs-control-text",textContent:a.localize("End of dialog window.")}),a.el().appendChild(a.endDialog),a.setDefaults(),r.persistTextTrackSettings===void 0&&(a.options_.persistTextTrackSettings=a.options_.playerOptions.persistTextTrackSettings),a.on(a.$(".vjs-done-button"),"click",function(){a.saveSettings(),a.close()}),a.on(a.$(".vjs-default-button"),"click",function(){a.setDefaults(),a.updateDisplay()}),Ja(Bi,function(s){a.on(a.$(s.selector),"change",a.updateDisplay)}),a.options_.persistTextTrackSettings&&a.restoreSettings(),a}var n=e.prototype;return n.dispose=function(){this.endDialog=null,t.prototype.dispose.call(this)},n.createElSelect_=function(r,a,s){var o=this;a===void 0&&(a=""),s===void 0&&(s="label");var u=Bi[r],l=u.id.replace("%s",this.id_),c=[a,l].join(" ").trim();return["<"+s+' id="'+l+'" class="'+(s==="label"?"vjs-label":"")+'">',this.localize(u.label),"</"+s+">",'<select aria-labelledby="'+c+'">'].concat(u.options.map(function(f){var d=l+"-"+f[1].replace(/\W+/g,"");return['<option id="'+d+'" value="'+f[0]+'" ','aria-labelledby="'+c+" "+d+'">',o.localize(f[1]),"</option>"].join("")})).concat("</select>").join("")},n.createElFgColor_=function(){var r="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+r+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",r),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",r),"</span>","</fieldset>"].join("")},n.createElBgColor_=function(){var r="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+r+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",r),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",r),"</span>","</fieldset>"].join("")},n.createElWinColor_=function(){var r="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+r+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",r),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",r),"</span>","</fieldset>"].join("")},n.createElColors_=function(){return ke("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},n.createElFont_=function(){return ke("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},n.createElControls_=function(){var r=this.localize("restore all settings to the default values");return ke("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+r+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+r+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},n.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},n.label=function(){return this.localize("Caption Settings Dialog")},n.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},n.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},n.getValues=function(){var r=this;return AD(Bi,function(a,s,o){var u=BL(r.$(s.selector),s.parser);return u!==void 0&&(a[o]=u),a},{})},n.setValues=function(r){var a=this;Ja(Bi,function(s,o){VL(a.$(s.selector),r[o],s.parser)})},n.setDefaults=function(){var r=this;Ja(Bi,function(a){var s=a.hasOwnProperty("default")?a.default:0;r.$(a.selector).selectedIndex=s})},n.restoreSettings=function(){var r;try{r=JSON.parse(R.localStorage.getItem(ah))}catch(a){Se.warn(a)}r&&this.setValues(r)},n.saveSettings=function(){if(!!this.options_.persistTextTrackSettings){var r=this.getValues();try{Object.keys(r).length?R.localStorage.setItem(ah,JSON.stringify(r)):R.localStorage.removeItem(ah)}catch(a){Se.warn(a)}}},n.updateDisplay=function(){var r=this.player_.getChild("textTrackDisplay");r&&r.updateDisplay()},n.conditionalBlur_=function(){this.previouslyActiveEl_=null;var r=this.player_.controlBar,a=r&&r.subsCapsButton,s=r&&r.captionsButton;a?a.focus():s&&s.focus()},e}(Ds);Y.registerComponent("TextTrackSettings",jL);var zL=function(t){ie(e,t);function e(i,r){var a,s=r.ResizeObserver||R.ResizeObserver;r.ResizeObserver===null&&(s=!1);var o=We({createEl:!s,reportTouchActivity:!1},r);return a=t.call(this,i,o)||this,a.ResizeObserver=r.ResizeObserver||R.ResizeObserver,a.loadListener_=null,a.resizeObserver_=null,a.debouncedHandler_=VD(function(){a.resizeHandler()},100,!1,_e(a)),s?(a.resizeObserver_=new a.ResizeObserver(a.debouncedHandler_),a.resizeObserver_.observe(i.el())):(a.loadListener_=function(){if(!(!a.el_||!a.el_.contentWindow)){var u=a.debouncedHandler_,l=a.unloadListener_=function(){Mt(this,"resize",u),Mt(this,"unload",l),l=null};br(a.el_.contentWindow,"unload",l),br(a.el_.contentWindow,"resize",u)}},a.one("load",a.loadListener_)),a}var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})},n.resizeHandler=function(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")},n.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,t.prototype.dispose.call(this)},e}(Y);Y.registerComponent("ResizeManager",zL);var HL={trackingThreshold:20,liveTolerance:15},$L=function(t){ie(e,t);function e(i,r){var a,s=We(HL,r,{createEl:!1});return a=t.call(this,i,s)||this,a.handleVisibilityChange_=function(o){return a.handleVisibilityChange(o)},a.trackLiveHandler_=function(){return a.trackLive_()},a.handlePlay_=function(o){return a.handlePlay(o)},a.handleFirstTimeupdate_=function(o){return a.handleFirstTimeupdate(o)},a.handleSeeked_=function(o){return a.handleSeeked(o)},a.seekToLiveEdge_=function(o){return a.seekToLiveEdge(o)},a.reset_(),a.on(a.player_,"durationchange",function(o){return a.handleDurationchange(o)}),a.on(a.player_,"canplay",function(){return a.toggleTracking()}),Tu&&"hidden"in te&&"visibilityState"in te&&a.on(te,"visibilitychange",a.handleVisibilityChange_),a}var n=e.prototype;return n.handleVisibilityChange=function(){this.player_.duration()===1/0&&(te.hidden?this.stopTracking():this.startTracking())},n.trackLive_=function(){var r=this.player_.seekable();if(!(!r||!r.length)){var a=Number(R.performance.now().toFixed(4)),s=this.lastTime_===-1?0:(a-this.lastTime_)/1e3;this.lastTime_=a,this.pastSeekEnd_=this.pastSeekEnd()+s;var o=this.liveCurrentTime(),u=this.player_.currentTime(),l=this.player_.paused()||this.seekedBehindLive_||Math.abs(o-u)>this.options_.liveTolerance;(!this.timeupdateSeen_||o===1/0)&&(l=!1),l!==this.behindLiveEdge_&&(this.behindLiveEdge_=l,this.trigger("liveedgechange"))}},n.handleDurationchange=function(){this.toggleTracking()},n.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},n.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,Jr),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},n.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},n.handleSeeked=function(){var r=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&r>2,this.nextSeekedFromUser_=!1,this.trackLive_()},n.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},n.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},n.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},n.stopTracking=function(){!this.isTracking()||(this.reset_(),this.trigger("liveedgechange"))},n.seekableEnd=function(){for(var r=this.player_.seekable(),a=[],s=r?r.length:0;s--;)a.push(r.end(s));return a.length?a.sort()[a.length-1]:1/0},n.seekableStart=function(){for(var r=this.player_.seekable(),a=[],s=r?r.length:0;s--;)a.push(r.start(s));return a.length?a.sort()[0]:0},n.liveWindow=function(){var r=this.liveCurrentTime();return r===1/0?0:r-this.seekableStart()},n.isLive=function(){return this.isTracking()},n.atLiveEdge=function(){return!this.behindLiveEdge()},n.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},n.pastSeekEnd=function(){var r=this.seekableEnd();return this.lastSeekEnd_!==-1&&r!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=r,this.pastSeekEnd_},n.behindLiveEdge=function(){return this.behindLiveEdge_},n.isTracking=function(){return typeof this.trackingInterval_=="number"},n.seekToLiveEdge=function(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},n.dispose=function(){this.off(te,"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),t.prototype.dispose.call(this)},e}(Y);Y.registerComponent("LiveTracker",$L);var Mp=function(e){var n=e.el();if(n.hasAttribute("src"))return e.triggerSourceset(n.src),!0;var i=e.$$("source"),r=[],a="";if(!i.length)return!1;for(var s=0;s<i.length;s++){var o=i[s].src;o&&r.indexOf(o)===-1&&r.push(o)}return r.length?(r.length===1&&(a=r[0]),e.triggerSourceset(a),!0):!1},WL=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var n=te.createElement(this.nodeName.toLowerCase());n.innerHTML=e;for(var i=te.createDocumentFragment();n.childNodes.length;)i.appendChild(n.childNodes[0]);return this.innerText="",R.Element.prototype.appendChild.call(this,i),this.innerHTML}}),QE=function(e,n){for(var i={},r=0;r<e.length&&(i=Object.getOwnPropertyDescriptor(e[r],n),!(i&&i.set&&i.get));r++);return i.enumerable=!0,i.configurable=!0,i},qL=function(e){return QE([e.el(),R.HTMLMediaElement.prototype,R.Element.prototype,WL],"innerHTML")},P_=function(e){var n=e.el();if(!n.resetSourceWatch_){var i={},r=qL(e),a=function(o){return function(){for(var u=arguments.length,l=new Array(u),c=0;c<u;c++)l[c]=arguments[c];var f=o.apply(n,l);return Mp(e),f}};["append","appendChild","insertAdjacentHTML"].forEach(function(s){!n[s]||(i[s]=n[s],n[s]=a(i[s]))}),Object.defineProperty(n,"innerHTML",We(r,{set:a(r.set)})),n.resetSourceWatch_=function(){n.resetSourceWatch_=null,Object.keys(i).forEach(function(s){n[s]=i[s]}),Object.defineProperty(n,"innerHTML",r)},e.one("sourceset",n.resetSourceWatch_)}},GL=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?bE(R.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return R.Element.prototype.setAttribute.call(this,"src",e),e}}),KL=function(e){return QE([e.el(),R.HTMLMediaElement.prototype,GL],"src")},XL=function(e){if(!!e.featuresSourceset){var n=e.el();if(!n.resetSourceset_){var i=KL(e),r=n.setAttribute,a=n.load;Object.defineProperty(n,"src",We(i,{set:function(o){var u=i.set.call(n,o);return e.triggerSourceset(n.src),u}})),n.setAttribute=function(s,o){var u=r.call(n,s,o);return/src/i.test(s)&&e.triggerSourceset(n.src),u},n.load=function(){var s=a.call(n);return Mp(e)||(e.triggerSourceset(""),P_(e)),s},n.currentSrc?e.triggerSourceset(n.currentSrc):Mp(e)||P_(e),n.resetSourceset_=function(){n.resetSourceset_=null,n.load=a,n.setAttribute=r,Object.defineProperty(n,"src",i),n.resetSourceWatch_&&n.resetSourceWatch_()}}}},ug=function(e,n,i,r){r===void 0&&(r=!0);var a=function(u){return Object.defineProperty(e,n,{value:u,enumerable:!0,writable:!0})},s={configurable:!0,enumerable:!0,get:function(){var u=i();return a(u),u}};return r&&(s.set=a),Object.defineProperty(e,n,s)},oe=function(t){ie(e,t);function e(i,r){var a;a=t.call(this,i,r)||this;var s=i.source,o=!1;if(a.featuresVideoFrameCallback=a.featuresVideoFrameCallback&&a.el_.tagName==="VIDEO",s&&(a.el_.currentSrc!==s.src||i.tag&&i.tag.initNetworkState_===3)?a.setSource(s):a.handleLateInit_(a.el_),i.enableSourceset&&a.setupSourcesetHandling_(),a.isScrubbing_=!1,a.el_.hasChildNodes()){for(var u=a.el_.childNodes,l=u.length,c=[];l--;){var f=u[l],d=f.nodeName.toLowerCase();d==="track"&&(a.featuresNativeTextTracks?(a.remoteTextTrackEls().addTrackElement_(f),a.remoteTextTracks().addTrack(f.track),a.textTracks().addTrack(f.track),!o&&!a.el_.hasAttribute("crossorigin")&&Ld(f.src)&&(o=!0)):c.push(f))}for(var g=0;g<c.length;g++)a.el_.removeChild(c[g])}return a.proxyNativeTracks_(),a.featuresNativeTextTracks&&o&&Se.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),a.restoreMetadataTracksInIOSNativePlayer_(),(ms||Mv||Qb)&&i.nativeControlsForTouch===!0&&a.setControls(!0),a.proxyWebkitFullscreen_(),a.triggerReady(),a}var n=e.prototype;return n.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),e.disposeMediaElement(this.el_),this.options_=null,t.prototype.dispose.call(this)},n.setupSourcesetHandling_=function(){XL(this)},n.restoreMetadataTracksInIOSNativePlayer_=function(){var r=this.textTracks(),a,s=function(){a=[];for(var l=0;l<r.length;l++){var c=r[l];c.kind==="metadata"&&a.push({track:c,storedMode:c.mode})}};s(),r.addEventListener("change",s),this.on("dispose",function(){return r.removeEventListener("change",s)});var o=function u(){for(var l=0;l<a.length;l++){var c=a[l];c.track.mode==="disabled"&&c.track.mode!==c.storedMode&&(c.track.mode=c.storedMode)}r.removeEventListener("change",u)};this.on("webkitbeginfullscreen",function(){r.removeEventListener("change",s),r.removeEventListener("change",o),r.addEventListener("change",o)}),this.on("webkitendfullscreen",function(){r.removeEventListener("change",s),r.addEventListener("change",s),r.removeEventListener("change",o)})},n.overrideNative_=function(r,a){var s=this;if(a===this["featuresNative"+r+"Tracks"]){var o=r.toLowerCase();this[o+"TracksListeners_"]&&Object.keys(this[o+"TracksListeners_"]).forEach(function(u){var l=s.el()[o+"Tracks"];l.removeEventListener(u,s[o+"TracksListeners_"][u])}),this["featuresNative"+r+"Tracks"]=!a,this[o+"TracksListeners_"]=null,this.proxyNativeTracksForType_(o)}},n.overrideNativeAudioTracks=function(r){this.overrideNative_("Audio",r)},n.overrideNativeVideoTracks=function(r){this.overrideNative_("Video",r)},n.proxyNativeTracksForType_=function(r){var a=this,s=Fr[r],o=this.el()[s.getterName],u=this[s.getterName]();if(!(!this["featuresNative"+s.capitalName+"Tracks"]||!o||!o.addEventListener)){var l={change:function(d){var g={type:"change",target:u,currentTarget:u,srcElement:u};u.trigger(g),r==="text"&&a[_s.remoteText.getterName]().trigger(g)},addtrack:function(d){u.addTrack(d.track)},removetrack:function(d){u.removeTrack(d.track)}},c=function(){for(var d=[],g=0;g<u.length;g++){for(var _=!1,y=0;y<o.length;y++)if(o[y]===u[g]){_=!0;break}_||d.push(u[g])}for(;d.length;)u.removeTrack(d.shift())};this[s.getterName+"Listeners_"]=l,Object.keys(l).forEach(function(f){var d=l[f];o.addEventListener(f,d),a.on("dispose",function(g){return o.removeEventListener(f,d)})}),this.on("loadstart",c),this.on("dispose",function(f){return a.off("loadstart",c)})}},n.proxyNativeTracks_=function(){var r=this;Fr.names.forEach(function(a){r.proxyNativeTracksForType_(a)})},n.createEl=function(){var r=this.options_.tag;if(!r||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(r){var a=r.cloneNode(!0);r.parentNode&&r.parentNode.insertBefore(a,r),e.disposeMediaElement(r),r=a}else{r=te.createElement("video");var s=this.options_.tag&&Tn(this.options_.tag),o=We({},s);(!ms||this.options_.nativeControlsForTouch!==!0)&&delete o.controls,iE(r,it(o,{id:this.options_.techId,class:"vjs-tech"}))}r.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&vs(r,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(r.disablePictureInPicture=this.options_.disablePictureInPicture);for(var u=["loop","muted","playsinline","autoplay"],l=0;l<u.length;l++){var c=u[l],f=this.options_[c];typeof f<"u"&&(f?vs(r,c,c):Pd(r,c),r[c]=f)}return r},n.handleLateInit_=function(r){if(!(r.networkState===0||r.networkState===3)){if(r.readyState===0){var a=!1,s=function(){a=!0};this.on("loadstart",s);var o=function(){a||this.trigger("loadstart")};this.on("loadedmetadata",o),this.ready(function(){this.off("loadstart",s),this.off("loadedmetadata",o),a||this.trigger("loadstart")});return}var u=["loadstart"];u.push("loadedmetadata"),r.readyState>=2&&u.push("loadeddata"),r.readyState>=3&&u.push("canplay"),r.readyState>=4&&u.push("canplaythrough"),this.ready(function(){u.forEach(function(l){this.trigger(l)},this)})}},n.setScrubbing=function(r){this.isScrubbing_=r},n.scrubbing=function(){return this.isScrubbing_},n.setCurrentTime=function(r){try{this.isScrubbing_&&this.el_.fastSeek&&kd?this.el_.fastSeek(r):this.el_.currentTime=r}catch(a){Se(a,"Video is not ready. (Video.js)")}},n.duration=function(){var r=this;if(this.el_.duration===1/0&&Hn&&$n&&this.el_.currentTime===0){var a=function s(){r.el_.currentTime>0&&(r.el_.duration===1/0&&r.trigger("durationchange"),r.off("timeupdate",s))};return this.on("timeupdate",a),NaN}return this.el_.duration||NaN},n.width=function(){return this.el_.offsetWidth},n.height=function(){return this.el_.offsetHeight},n.proxyWebkitFullscreen_=function(){var r=this;if("webkitDisplayingFullscreen"in this.el_){var a=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},s=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",a),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",s),this.on("dispose",function(){r.off("webkitbeginfullscreen",s),r.off("webkitendfullscreen",a)})}},n.supportsFullScreen=function(){if(typeof this.el_.webkitEnterFullScreen=="function"){var r=R.navigator&&R.navigator.userAgent||"";if(/Android/.test(r)||!/Chrome|Mac OS X 10.5/.test(r))return!0}return!1},n.enterFullScreen=function(){var r=this.el_;if(r.paused&&r.networkState<=r.HAVE_METADATA)on(this.el_.play()),this.setTimeout(function(){r.pause();try{r.webkitEnterFullScreen()}catch(a){this.trigger("fullscreenerror",a)}},0);else try{r.webkitEnterFullScreen()}catch(a){this.trigger("fullscreenerror",a)}},n.exitFullScreen=function(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()},n.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},n.requestVideoFrameCallback=function(r){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(r):t.prototype.requestVideoFrameCallback.call(this,r)},n.cancelVideoFrameCallback=function(r){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(r):t.prototype.cancelVideoFrameCallback.call(this,r)},n.src=function(r){if(r===void 0)return this.el_.src;this.setSrc(r)},n.reset=function(){e.resetMediaElement(this.el_)},n.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},n.setControls=function(r){this.el_.controls=!!r},n.addTextTrack=function(r,a,s){return this.featuresNativeTextTracks?this.el_.addTextTrack(r,a,s):t.prototype.addTextTrack.call(this,r,a,s)},n.createRemoteTextTrack=function(r){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,r);var a=te.createElement("track");return r.kind&&(a.kind=r.kind),r.label&&(a.label=r.label),(r.language||r.srclang)&&(a.srclang=r.language||r.srclang),r.default&&(a.default=r.default),r.id&&(a.id=r.id),r.src&&(a.src=r.src),a},n.addRemoteTextTrack=function(r,a){var s=t.prototype.addRemoteTextTrack.call(this,r,a);return this.featuresNativeTextTracks&&this.el().appendChild(s),s},n.removeRemoteTextTrack=function(r){if(t.prototype.removeRemoteTextTrack.call(this,r),this.featuresNativeTextTracks)for(var a=this.$$("track"),s=a.length;s--;)(r===a[s]||r===a[s].track)&&this.el().removeChild(a[s])},n.getVideoPlaybackQuality=function(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();var r={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(r.droppedVideoFrames=this.el().webkitDroppedFrameCount,r.totalVideoFrames=this.el().webkitDecodedFrameCount),R.performance&&typeof R.performance.now=="function"?r.creationTime=R.performance.now():R.performance&&R.performance.timing&&typeof R.performance.timing.navigationStart=="number"&&(r.creationTime=R.Date.now()-R.performance.timing.navigationStart),r},e}(Ve);ug(oe,"TEST_VID",function(){if(!!As()){var t=te.createElement("video"),e=te.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t}});oe.isSupported=function(){try{oe.TEST_VID.volume=.5}catch{return!1}return!!(oe.TEST_VID&&oe.TEST_VID.canPlayType)};oe.canPlayType=function(t){return oe.TEST_VID.canPlayType(t)};oe.canPlaySource=function(t,e){return oe.canPlayType(t.type)};oe.canControlVolume=function(){try{var t=oe.TEST_VID.volume;oe.TEST_VID.volume=t/2+.1;var e=t!==oe.TEST_VID.volume;return e&&Zt?(R.setTimeout(function(){oe&&oe.prototype&&(oe.prototype.featuresVolumeControl=t!==oe.TEST_VID.volume)}),!1):e}catch{return!1}};oe.canMuteVolume=function(){try{var t=oe.TEST_VID.muted;return oe.TEST_VID.muted=!t,oe.TEST_VID.muted?vs(oe.TEST_VID,"muted","muted"):Pd(oe.TEST_VID,"muted","muted"),t!==oe.TEST_VID.muted}catch{return!1}};oe.canControlPlaybackRate=function(){if(Hn&&$n&&Jb<58)return!1;try{var t=oe.TEST_VID.playbackRate;return oe.TEST_VID.playbackRate=t/2+.1,t!==oe.TEST_VID.playbackRate}catch{return!1}};oe.canOverrideAttributes=function(){try{var t=function(){};Object.defineProperty(te.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(te.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(te.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(te.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0};oe.supportsNativeTextTracks=function(){return kd||Zt&&$n};oe.supportsNativeVideoTracks=function(){return!!(oe.TEST_VID&&oe.TEST_VID.videoTracks)};oe.supportsNativeAudioTracks=function(){return!!(oe.TEST_VID&&oe.TEST_VID.audioTracks)};oe.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(t){var e=t[0],n=t[1];ug(oe.prototype,e,function(){return oe[n]()},!0)});oe.prototype.featuresVolumeControl=oe.canControlVolume();oe.prototype.movingMediaElementInDOM=!Zt;oe.prototype.featuresFullscreenResize=!0;oe.prototype.featuresProgressEvents=!0;oe.prototype.featuresTimeupdateEvents=!0;oe.prototype.featuresVideoFrameCallback=!!(oe.TEST_VID&&oe.TEST_VID.requestVideoFrameCallback);var Vc;oe.patchCanPlayType=function(){Fv>=4&&!Yb&&!$n&&(Vc=oe.TEST_VID&&oe.TEST_VID.constructor.prototype.canPlayType,oe.TEST_VID.constructor.prototype.canPlayType=function(t){var e=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;return t&&e.test(t)?"maybe":Vc.call(this,t)})};oe.unpatchCanPlayType=function(){var t=oe.TEST_VID.constructor.prototype.canPlayType;return Vc&&(oe.TEST_VID.constructor.prototype.canPlayType=Vc),t};oe.patchCanPlayType();oe.disposeMediaElement=function(t){if(!!t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};oe.resetMediaElement=function(t){if(!!t){for(var e=t.querySelectorAll("source"),n=e.length;n--;)t.removeChild(e[n]);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){oe.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){oe.prototype["set"+ut(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){oe.prototype[t]=function(){return this.el_[t]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){oe.prototype["set"+ut(t)]=function(e){this.el_[t]=e}});["pause","load","play"].forEach(function(t){oe.prototype[t]=function(){return this.el_[t]()}});Ve.withSourceHandlers(oe);oe.nativeSourceHandler={};oe.nativeSourceHandler.canPlayType=function(t){try{return oe.TEST_VID.canPlayType(t)}catch{return""}};oe.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return oe.nativeSourceHandler.canPlayType(t.type);if(t.src){var n=$v(t.src);return oe.nativeSourceHandler.canPlayType("video/"+n)}return""};oe.nativeSourceHandler.handleSource=function(t,e,n){e.setSrc(t.src)};oe.nativeSourceHandler.dispose=function(){};oe.registerSourceHandler(oe.nativeSourceHandler);Ve.registerTech("Html5",oe);var YE=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],uh={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Up=["tiny","xsmall","small","medium","large","xlarge","huge"],Zl={};Up.forEach(function(t){var e=t.charAt(0)==="x"?"x-"+t.substring(1):t;Zl[t]="vjs-layout-"+e});var QL={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},ft=function(t){ie(e,t);function e(i,r,a){var s;if(i.id=i.id||r.id||"vjs_video_"+Wn(),r=it(e.getTagSettings(i),r),r.initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language)if(typeof i.closest=="function"){var o=i.closest("[lang]");o&&o.getAttribute&&(r.language=o.getAttribute("lang"))}else for(var u=i;u&&u.nodeType===1;){if(Tn(u).hasOwnProperty("lang")){r.language=u.getAttribute("lang");break}u=u.parentNode}if(s=t.call(this,null,r,a)||this,s.boundDocumentFullscreenChange_=function(d){return s.documentFullscreenChange_(d)},s.boundFullWindowOnEscKey_=function(d){return s.fullWindowOnEscKey(d)},s.boundUpdateStyleEl_=function(d){return s.updateStyleEl_(d)},s.boundApplyInitTime_=function(d){return s.applyInitTime_(d)},s.boundUpdateCurrentBreakpoint_=function(d){return s.updateCurrentBreakpoint_(d)},s.boundHandleTechClick_=function(d){return s.handleTechClick_(d)},s.boundHandleTechDoubleClick_=function(d){return s.handleTechDoubleClick_(d)},s.boundHandleTechTouchStart_=function(d){return s.handleTechTouchStart_(d)},s.boundHandleTechTouchMove_=function(d){return s.handleTechTouchMove_(d)},s.boundHandleTechTouchEnd_=function(d){return s.handleTechTouchEnd_(d)},s.boundHandleTechTap_=function(d){return s.handleTechTap_(d)},s.isFullscreen_=!1,s.log=Gb(s.id_),s.fsApi_=Rc,s.isPosterFromTech_=!1,s.queuedCallbacks_=[],s.isReady_=!1,s.hasStarted_=!1,s.userActive_=!1,s.debugEnabled_=!1,s.audioOnlyMode_=!1,s.audioPosterMode_=!1,s.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!s.options_||!s.options_.techOrder||!s.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(s.tag=i,s.tagAttributes=i&&Tn(i),s.language(s.options_.language),r.languages){var l={};Object.getOwnPropertyNames(r.languages).forEach(function(d){l[d.toLowerCase()]=r.languages[d]}),s.languages_=l}else s.languages_=e.prototype.options_.languages;s.resetCache_(),s.poster_=r.poster||"",s.controls_=!!r.controls,i.controls=!1,i.removeAttribute("controls"),s.changingSrc_=!1,s.playCallbacks_=[],s.playTerminatedQueue_=[],i.hasAttribute("autoplay")?s.autoplay(!0):s.autoplay(s.options_.autoplay),r.plugins&&Object.keys(r.plugins).forEach(function(d){if(typeof s[d]!="function")throw new Error('plugin "'+d+'" does not exist')}),s.scrubbing_=!1,s.el_=s.createEl(),jv(_e(s),{eventBusKey:"el_"}),s.fsApi_.requestFullscreen&&(br(te,s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_),s.on(s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_)),s.fluid_&&s.on(["playerreset","resize"],s.boundUpdateStyleEl_);var c=We(s.options_);r.plugins&&Object.keys(r.plugins).forEach(function(d){s[d](r.plugins[d])}),r.debug&&s.debug(!0),s.options_.playerOptions=c,s.middleware_=[],s.playbackRates(r.playbackRates),s.initChildren(),s.isAudio(i.nodeName.toLowerCase()==="audio"),s.controls()?s.addClass("vjs-controls-enabled"):s.addClass("vjs-controls-disabled"),s.el_.setAttribute("role","region"),s.isAudio()?s.el_.setAttribute("aria-label",s.localize("Audio Player")):s.el_.setAttribute("aria-label",s.localize("Video Player")),s.isAudio()&&s.addClass("vjs-audio"),s.flexNotSupported_()&&s.addClass("vjs-no-flex"),ms&&s.addClass("vjs-touch-enabled"),Zt||s.addClass("vjs-workinghover"),e.players[s.id_]=_e(s);var f=$b.split(".")[0];return s.addClass("vjs-v"+f),s.userActive(!0),s.reportUserActivity(),s.one("play",function(d){return s.listenForUserActivity_(d)}),s.on("stageclick",function(d){return s.handleStageClick_(d)}),s.on("keydown",function(d){return s.handleKeyDown(d)}),s.on("languagechange",function(d){return s.handleLanguagechange(d)}),s.breakpoints(s.options_.breakpoints),s.responsive(s.options_.responsive),s.on("ready",function(){s.audioPosterMode(s.options_.audioPosterMode),s.audioOnlyMode(s.options_.audioOnlyMode)}),s}var n=e.prototype;return n.dispose=function(){var r=this;this.trigger("dispose"),this.off("dispose"),Mt(te,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Mt(te,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),vL(this),Gt.names.forEach(function(a){var s=Gt[a],o=r[s.getterName]();o&&o.off&&o.off()}),t.prototype.dispose.call(this,{restoreEl:this.options_.restoreEl})},n.createEl=function(){var r=this.tag,a,s=this.playerElIngest_=r.parentNode&&r.parentNode.hasAttribute&&r.parentNode.hasAttribute("data-vjs-player"),o=this.tag.tagName.toLowerCase()==="video-js";s?a=this.el_=r.parentNode:o||(a=this.el_=t.prototype.createEl.call(this,"div"));var u=Tn(r);if(o){for(a=this.el_=r,r=this.tag=te.createElement("video");a.children.length;)r.appendChild(a.firstChild);Qi(a,"video-js")||In(a,"video-js"),a.appendChild(r),s=this.playerElIngest_=a,Object.keys(a).forEach(function(_){try{r[_]=a[_]}catch{}})}if(r.setAttribute("tabindex","-1"),u.tabindex="-1",(Tu||$n&&Zb)&&(r.setAttribute("role","application"),u.role="application"),r.removeAttribute("width"),r.removeAttribute("height"),"width"in u&&delete u.width,"height"in u&&delete u.height,Object.getOwnPropertyNames(u).forEach(function(_){o&&_==="class"||a.setAttribute(_,u[_]),o&&r.setAttribute(_,u[_])}),r.playerId=r.id,r.id+="_html5_api",r.className="vjs-tech",r.player=a.player=this,this.addClass("vjs-paused"),R.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=pE("vjs-styles-dimensions");var l=Ti(".vjs-styles-defaults"),c=Ti("head");c.insertBefore(this.styleEl_,l?l.nextSibling:c.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var f=r.getElementsByTagName("a"),d=0;d<f.length;d++){var g=f.item(d);In(g,"vjs-hidden"),g.setAttribute("hidden","hidden")}return r.initNetworkState_=r.networkState,r.parentNode&&!s&&r.parentNode.insertBefore(a,r),Ip(r,a),this.children_.unshift(r),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=a,a},n.crossOrigin=function(r){if(!r)return this.techGet_("crossOrigin");if(r!=="anonymous"&&r!=="use-credentials"){Se.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+r+'"');return}this.techCall_("setCrossOrigin",r)},n.width=function(r){return this.dimension("width",r)},n.height=function(r){return this.dimension("height",r)},n.dimension=function(r,a){var s=r+"_";if(a===void 0)return this[s]||0;if(a===""||a==="auto"){this[s]=void 0,this.updateStyleEl_();return}var o=parseFloat(a);if(isNaN(o)){Se.error('Improper value "'+a+'" supplied for for '+r);return}this[s]=o,this.updateStyleEl_()},n.fluid=function(r){var a=this;if(r===void 0)return!!this.fluid_;this.fluid_=!!r,On(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),r?(this.addClass("vjs-fluid"),this.fill(!1),jD(this,function(){a.on(["playerreset","resize"],a.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},n.fill=function(r){if(r===void 0)return!!this.fill_;this.fill_=!!r,r?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},n.aspectRatio=function(r){if(r===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(r))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=r,this.fluid(!0),this.updateStyleEl_()},n.updateStyleEl_=function(){if(R.VIDEOJS_NO_DYNAMIC_STYLE===!0){var r=typeof this.width_=="number"?this.width_:this.options_.width,a=typeof this.height_=="number"?this.height_:this.options_.height,s=this.tech_&&this.tech_.el();s&&(r>=0&&(s.width=r),a>=0&&(s.height=a));return}var o,u,l,c;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?l=this.aspectRatio_:this.videoWidth()>0?l=this.videoWidth()+":"+this.videoHeight():l="16:9";var f=l.split(":"),d=f[1]/f[0];this.width_!==void 0?o=this.width_:this.height_!==void 0?o=this.height_/d:o=this.videoWidth()||300,this.height_!==void 0?u=this.height_:u=o*d,/^[^a-zA-Z]/.test(this.id())?c="dimensions-"+this.id():c=this.id()+"-dimensions",this.addClass(c),mE(this.styleEl_,`
      .`+c+` {
        width: `+o+`px;
        height: `+u+`px;
      }

      .`+c+`.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: `+d*100+`%;
      }
    `)},n.loadTech_=function(r,a){var s=this;this.tech_&&this.unloadTech_();var o=ut(r),u=r.charAt(0).toLowerCase()+r.slice(1);o!=="Html5"&&this.tag&&(Ve.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=o,this.isReady_=!1;var l=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(l=!1);var c={source:a,autoplay:l,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+u+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};Gt.names.forEach(function(d){var g=Gt[d];c[g.getterName]=s[g.privateName]}),it(c,this.options_[o]),it(c,this.options_[u]),it(c,this.options_[r.toLowerCase()]),this.tag&&(c.tag=this.tag),a&&a.src===this.cache_.src&&this.cache_.currentTime>0&&(c.startTime=this.cache_.currentTime);var f=Ve.getTech(r);if(!f)throw new Error("No Tech named '"+o+"' exists! '"+o+"' should be registered using videojs.registerTech()'");this.tech_=new f(c),this.tech_.ready(qe(this,this.handleTechReady_),!0),l_.jsonToTextTracks(this.textTracksJson_||[],this.tech_),YE.forEach(function(d){s.on(s.tech_,d,function(g){return s["handleTech"+ut(d)+"_"](g)})}),Object.keys(uh).forEach(function(d){s.on(s.tech_,d,function(g){if(s.tech_.playbackRate()===0&&s.tech_.seeking()){s.queuedCallbacks_.push({callback:s["handleTech"+uh[d]+"_"].bind(s),event:g});return}s["handleTech"+uh[d]+"_"](g)})}),this.on(this.tech_,"loadstart",function(d){return s.handleTechLoadStart_(d)}),this.on(this.tech_,"sourceset",function(d){return s.handleTechSourceset_(d)}),this.on(this.tech_,"waiting",function(d){return s.handleTechWaiting_(d)}),this.on(this.tech_,"ended",function(d){return s.handleTechEnded_(d)}),this.on(this.tech_,"seeking",function(d){return s.handleTechSeeking_(d)}),this.on(this.tech_,"play",function(d){return s.handleTechPlay_(d)}),this.on(this.tech_,"firstplay",function(d){return s.handleTechFirstPlay_(d)}),this.on(this.tech_,"pause",function(d){return s.handleTechPause_(d)}),this.on(this.tech_,"durationchange",function(d){return s.handleTechDurationChange_(d)}),this.on(this.tech_,"fullscreenchange",function(d,g){return s.handleTechFullscreenChange_(d,g)}),this.on(this.tech_,"fullscreenerror",function(d,g){return s.handleTechFullscreenError_(d,g)}),this.on(this.tech_,"enterpictureinpicture",function(d){return s.handleTechEnterPictureInPicture_(d)}),this.on(this.tech_,"leavepictureinpicture",function(d){return s.handleTechLeavePictureInPicture_(d)}),this.on(this.tech_,"error",function(d){return s.handleTechError_(d)}),this.on(this.tech_,"posterchange",function(d){return s.handleTechPosterChange_(d)}),this.on(this.tech_,"textdata",function(d){return s.handleTechTextData_(d)}),this.on(this.tech_,"ratechange",function(d){return s.handleTechRateChange_(d)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(o!=="Html5"||!this.tag)&&Ip(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},n.unloadTech_=function(){var r=this;Gt.names.forEach(function(a){var s=Gt[a];r[s.privateName]=r[s.getterName]()}),this.textTracksJson_=l_.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},n.tech=function(r){return r===void 0&&Se.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_},n.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},n.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},n.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},n.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())},n.manualAutoplay_=function(r){var a=this;if(!(!this.tech_||typeof r!="string")){var s=function(){var l=a.muted();a.muted(!0);var c=function(){a.muted(l)};a.playTerminatedQueue_.push(c);var f=a.play();if(!!Po(f))return f.catch(function(d){throw c(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(d||""))})},o;if(r==="any"&&!this.muted()?(o=this.play(),Po(o)&&(o=o.catch(s))):r==="muted"&&!this.muted()?o=s():o=this.play(),!!Po(o))return o.then(function(){a.trigger({type:"autoplay-success",autoplay:r})}).catch(function(){a.trigger({type:"autoplay-failure",autoplay:r})})}},n.updateSourceCaches_=function(r){r===void 0&&(r="");var a=r,s="";typeof a!="string"&&(a=r.src,s=r.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],a&&!s&&(s=_L(this,a)),this.cache_.source=We({},r,{src:a,type:s});for(var o=this.cache_.sources.filter(function(g){return g.src&&g.src===a}),u=[],l=this.$$("source"),c=[],f=0;f<l.length;f++){var d=Tn(l[f]);u.push(d),d.src&&d.src===a&&c.push(d.src)}c.length&&!o.length?this.cache_.sources=u:o.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=a},n.handleTechSourceset_=function(r){var a=this;if(!this.changingSrc_){var s=function(c){return a.updateSourceCaches_(c)},o=this.currentSource().src,u=r.src;o&&!/^blob:/.test(o)&&/^blob:/.test(u)&&(!this.lastSource_||this.lastSource_.tech!==u&&this.lastSource_.player!==o)&&(s=function(){}),s(u),r.src||this.tech_.any(["sourceset","loadstart"],function(l){if(l.type!=="sourceset"){var c=a.techGet("currentSrc");a.lastSource_.tech=c,a.updateSourceCaches_(c)}})}this.lastSource_={player:this.currentSource().src,tech:r.src},this.trigger({src:r.src,type:"sourceset"})},n.hasStarted=function(r){if(r===void 0)return this.hasStarted_;r!==this.hasStarted_&&(this.hasStarted_=r,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},n.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},n.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(function(r){return r.callback(r.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},n.handleTechWaiting_=function(){var r=this;this.addClass("vjs-waiting"),this.trigger("waiting");var a=this.currentTime(),s=function o(){a!==r.currentTime()&&(r.removeClass("vjs-waiting"),r.off("timeupdate",o))};this.on("timeupdate",s)},n.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},n.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},n.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},n.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},n.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},n.handleTechFirstPlay_=function(){this.options_.starttime&&(Se.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},n.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},n.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},n.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},n.handleTechClick_=function(r){!this.controls_||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,r):this.paused()?on(this.play()):this.pause())},n.handleTechDoubleClick_=function(r){if(!!this.controls_){var a=Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(s){return s.contains(r.target)});a||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,r):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}},n.handleTechTap_=function(){this.userActive(!this.userActive())},n.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},n.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},n.handleTechTouchEnd_=function(r){r.cancelable&&r.preventDefault()},n.handleStageClick_=function(){this.reportUserActivity()},n.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},n.documentFullscreenChange_=function(r){var a=r.target.player;if(!(a&&a!==this)){var s=this.el(),o=te[this.fsApi_.fullscreenElement]===s;!o&&s.matches?o=s.matches(":"+this.fsApi_.fullscreen):!o&&s.msMatchesSelector&&(o=s.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(o)}},n.handleTechFullscreenChange_=function(r,a){var s=this;a&&(a.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",function(){s.removeClass("vjs-ios-native-fs")})),this.isFullscreen(a.isFullscreen))},n.handleTechFullscreenError_=function(r,a){this.trigger("fullscreenerror",a)},n.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},n.handleTechEnterPictureInPicture_=function(r){this.isInPictureInPicture(!0)},n.handleTechLeavePictureInPicture_=function(r){this.isInPictureInPicture(!1)},n.handleTechError_=function(){var r=this.tech_.error();this.error(r)},n.handleTechTextData_=function(){var r=null;arguments.length>1&&(r=arguments[1]),this.trigger("textdata",r)},n.getCache=function(){return this.cache_},n.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},n.techCall_=function(r,a){this.ready(function(){if(r in pL)return fL(this.middleware_,this.tech_,r,a);if(r in m_)return p_(this.middleware_,this.tech_,r,a);try{this.tech_&&this.tech_[r](a)}catch(s){throw Se(s),s}},!0)},n.techGet_=function(r){if(!(!this.tech_||!this.tech_.isReady_)){if(r in hL)return dL(this.middleware_,this.tech_,r);if(r in m_)return p_(this.middleware_,this.tech_,r);try{return this.tech_[r]()}catch(a){throw this.tech_[r]===void 0?(Se("Video.js: "+r+" method not defined for "+this.techName_+" playback technology.",a),a):a.name==="TypeError"?(Se("Video.js: "+r+" unavailable on "+this.techName_+" playback technology element.",a),this.tech_.isReady_=!1,a):(Se(a),a)}}},n.play=function(){var r=this,a=this.options_.Promise||R.Promise;return a?new a(function(s){r.play_(s)}):this.play_()},n.play_=function(r){var a=this;r===void 0&&(r=on),this.playCallbacks_.push(r);var s=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!s){this.waitToPlay_=function(u){a.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!s&&(kd||Zt)&&this.load();return}var o=this.techGet_("play");o===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(o)},n.runPlayTerminatedQueue_=function(){var r=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],r.forEach(function(a){a()})},n.runPlayCallbacks_=function(r){var a=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],a.forEach(function(s){s(r)})},n.pause=function(){this.techCall_("pause")},n.paused=function(){return this.techGet_("paused")!==!1},n.played=function(){return this.techGet_("played")||Yi(0,0)},n.scrubbing=function(r){if(typeof r>"u")return this.scrubbing_;this.scrubbing_=!!r,this.techCall_("setScrubbing",this.scrubbing_),r?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},n.currentTime=function(r){if(typeof r<"u"){if(r<0&&(r=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=r,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",r),this.cache_.initTime=0;return}return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime},n.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},n.duration=function(r){if(r===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;r=parseFloat(r),r<0&&(r=1/0),r!==this.cache_.duration&&(this.cache_.duration=r,r===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(r)||this.trigger("durationchange"))},n.remainingTime=function(){return this.duration()-this.currentTime()},n.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},n.buffered=function(){var r=this.techGet_("buffered");return(!r||!r.length)&&(r=Yi(0,0)),r},n.bufferedPercent=function(){return xE(this.buffered(),this.duration())},n.bufferedEnd=function(){var r=this.buffered(),a=this.duration(),s=r.end(r.length-1);return s>a&&(s=a),s},n.volume=function(r){var a;if(r!==void 0){a=Math.max(0,Math.min(1,parseFloat(r))),this.cache_.volume=a,this.techCall_("setVolume",a),a>0&&this.lastVolume_(a);return}return a=parseFloat(this.techGet_("volume")),isNaN(a)?1:a},n.muted=function(r){if(r!==void 0){this.techCall_("setMuted",r);return}return this.techGet_("muted")||!1},n.defaultMuted=function(r){return r!==void 0?this.techCall_("setDefaultMuted",r):this.techGet_("defaultMuted")||!1},n.lastVolume_=function(r){if(r!==void 0&&r!==0){this.cache_.lastVolume=r;return}return this.cache_.lastVolume},n.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},n.isFullscreen=function(r){if(r!==void 0){var a=this.isFullscreen_;this.isFullscreen_=Boolean(r),this.isFullscreen_!==a&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_},n.requestFullscreen=function(r){var a=this.options_.Promise||R.Promise;if(a){var s=this;return new a(function(o,u){function l(){s.off("fullscreenerror",f),s.off("fullscreenchange",c)}function c(){l(),o()}function f(g,_){l(),u(_)}s.one("fullscreenchange",c),s.one("fullscreenerror",f);var d=s.requestFullscreenHelper_(r);d&&(d.then(l,l),d.then(o,u))})}return this.requestFullscreenHelper_()},n.requestFullscreenHelper_=function(r){var a=this,s;if(this.fsApi_.prefixed||(s=this.options_.fullscreen&&this.options_.fullscreen.options||{},r!==void 0&&(s=r)),this.fsApi_.requestFullscreen){var o=this.el_[this.fsApi_.requestFullscreen](s);return o&&o.then(function(){return a.isFullscreen(!0)},function(){return a.isFullscreen(!1)}),o}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},n.exitFullscreen=function(){var r=this.options_.Promise||R.Promise;if(r){var a=this;return new r(function(s,o){function u(){a.off("fullscreenerror",c),a.off("fullscreenchange",l)}function l(){u(),s()}function c(d,g){u(),o(g)}a.one("fullscreenchange",l),a.one("fullscreenerror",c);var f=a.exitFullscreenHelper_();f&&(f.then(u,u),f.then(s,o))})}return this.exitFullscreenHelper_()},n.exitFullscreenHelper_=function(){var r=this;if(this.fsApi_.requestFullscreen){var a=te[this.fsApi_.exitFullscreen]();return a&&on(a.then(function(){return r.isFullscreen(!1)})),a}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},n.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=te.documentElement.style.overflow,br(te,"keydown",this.boundFullWindowOnEscKey_),te.documentElement.style.overflow="hidden",In(te.body,"vjs-full-window"),this.trigger("enterFullWindow")},n.fullWindowOnEscKey=function(r){Te.isEventKey(r,"Esc")&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},n.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,Mt(te,"keydown",this.boundFullWindowOnEscKey_),te.documentElement.style.overflow=this.docOrigOverflow,xu(te.body,"vjs-full-window"),this.trigger("exitFullWindow")},n.disablePictureInPicture=function(r){if(r===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",r),this.options_.disablePictureInPicture=r,this.trigger("disablepictureinpicturechanged")},n.isInPictureInPicture=function(r){if(r!==void 0){this.isInPictureInPicture_=!!r,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_},n.requestPictureInPicture=function(){if("pictureInPictureEnabled"in te&&this.disablePictureInPicture()===!1)return this.techGet_("requestPictureInPicture")},n.exitPictureInPicture=function(){if("pictureInPictureEnabled"in te)return te.exitPictureInPicture()},n.handleKeyDown=function(r){var a=this.options_.userActions;if(!(!a||!a.hotkeys)){var s=function(u){var l=u.tagName.toLowerCase();if(u.isContentEditable)return!0;var c=["button","checkbox","hidden","radio","reset","submit"];if(l==="input")return c.indexOf(u.type)===-1;var f=["textarea"];return f.indexOf(l)!==-1};s(this.el_.ownerDocument.activeElement)||(typeof a.hotkeys=="function"?a.hotkeys.call(this,r):this.handleHotkeys(r))}},n.handleHotkeys=function(r){var a=this.options_.userActions?this.options_.userActions.hotkeys:{},s=a.fullscreenKey,o=s===void 0?function(y){return Te.isEventKey(y,"f")}:s,u=a.muteKey,l=u===void 0?function(y){return Te.isEventKey(y,"m")}:u,c=a.playPauseKey,f=c===void 0?function(y){return Te.isEventKey(y,"k")||Te.isEventKey(y,"Space")}:c;if(o.call(this,r)){r.preventDefault(),r.stopPropagation();var d=Y.getComponent("FullscreenToggle");te[this.fsApi_.fullscreenEnabled]!==!1&&d.prototype.handleClick.call(this,r)}else if(l.call(this,r)){r.preventDefault(),r.stopPropagation();var g=Y.getComponent("MuteToggle");g.prototype.handleClick.call(this,r)}else if(f.call(this,r)){r.preventDefault(),r.stopPropagation();var _=Y.getComponent("PlayToggle");_.prototype.handleClick.call(this,r)}},n.canPlayType=function(r){for(var a,s=0,o=this.options_.techOrder;s<o.length;s++){var u=o[s],l=Ve.getTech(u);if(l||(l=Y.getComponent(u)),!l){Se.error('The "'+u+'" tech is undefined. Skipped browser support check for that tech.');continue}if(l.isSupported()&&(a=l.canPlayType(r),a))return a}return""},n.selectSource=function(r){var a=this,s=this.options_.techOrder.map(function(f){return[f,Ve.getTech(f)]}).filter(function(f){var d=f[0],g=f[1];return g?g.isSupported():(Se.error('The "'+d+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),o=function(d,g,_){var y;return d.some(function(x){return g.some(function(T){if(y=_(x,T),y)return!0})}),y},u,l=function(d){return function(g,_){return d(_,g)}},c=function(d,g){var _=d[0],y=d[1];if(y.canPlaySource(g,a.options_[_.toLowerCase()]))return{source:g,tech:_}};return this.options_.sourceOrder?u=o(r,s,l(c)):u=o(s,r,c),u||!1},n.handleSrc_=function(r,a){var s=this;if(typeof r>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var o=TL(r);if(!o.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,a||(this.cache_.sources=o),this.updateSourceCaches_(o[0]),lL(this,o[0],function(c,f){s.middleware_=f,a||(s.cache_.sources=o),s.updateSourceCaches_(c);var d=s.src_(c);if(d){if(o.length>1)return s.handleSrc_(o.slice(1));s.changingSrc_=!1,s.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),s.triggerReady();return}cL(f,s.tech_)}),this.options_.retryOnError&&o.length>1){var u=function(){s.error(null),s.handleSrc_(o.slice(1),!0)},l=function(){s.off("error",u)};this.one("error",u),this.one("playing",l),this.resetRetryOnError_=function(){s.off("error",u),s.off("playing",l)}}},n.src=function(r){return this.handleSrc_(r,!1)},n.src_=function(r){var a=this,s=this.selectSource([r]);return s?$D(s.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",r):this.techCall_("src",r.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(s.tech,s.source),this.tech_.ready(function(){a.changingSrc_=!1}),!1):!0},n.load=function(){this.techCall_("load")},n.reset=function(){var r=this,a=this.options_.Promise||R.Promise;if(this.paused()||!a)this.doReset_();else{var s=this.play();on(s.then(function(){return r.doReset_()}))}},n.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),On(this)&&this.trigger("playerreset")},n.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},n.resetProgressBar_=function(){this.currentTime(0);var r=this.controlBar||{},a=r.durationDisplay,s=r.remainingTimeDisplay;a&&a.updateContent(),s&&s.updateContent()},n.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},n.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},n.currentSources=function(){var r=this.currentSource(),a=[];return Object.keys(r).length!==0&&a.push(r),this.cache_.sources||a},n.currentSource=function(){return this.cache_.source||{}},n.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},n.currentType=function(){return this.currentSource()&&this.currentSource().type||""},n.preload=function(r){if(r!==void 0){this.techCall_("setPreload",r),this.options_.preload=r;return}return this.techGet_("preload")},n.autoplay=function(r){if(r===void 0)return this.options_.autoplay||!1;var a;typeof r=="string"&&/(any|play|muted)/.test(r)||r===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=r,this.manualAutoplay_(typeof r=="string"?r:"play"),a=!1):r?this.options_.autoplay=!0:this.options_.autoplay=!1,a=typeof a>"u"?this.options_.autoplay:a,this.tech_&&this.techCall_("setAutoplay",a)},n.playsinline=function(r){return r!==void 0?(this.techCall_("setPlaysinline",r),this.options_.playsinline=r,this):this.techGet_("playsinline")},n.loop=function(r){if(r!==void 0){this.techCall_("setLoop",r),this.options_.loop=r;return}return this.techGet_("loop")},n.poster=function(r){if(r===void 0)return this.poster_;r||(r=""),r!==this.poster_&&(this.poster_=r,this.techCall_("setPoster",r),this.isPosterFromTech_=!1,this.trigger("posterchange"))},n.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var r=this.tech_.poster()||"";r!==this.poster_&&(this.poster_=r,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},n.controls=function(r){if(r===void 0)return!!this.controls_;r=!!r,this.controls_!==r&&(this.controls_=r,this.usingNativeControls()&&this.techCall_("setControls",r),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},n.usingNativeControls=function(r){if(r===void 0)return!!this.usingNativeControls_;r=!!r,this.usingNativeControls_!==r&&(this.usingNativeControls_=r,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},n.error=function(r){var a=this;if(r===void 0)return this.error_||null;if(_i("beforeerror").forEach(function(o){var u=o(a,r);if(!(Bn(u)&&!Array.isArray(u)||typeof u=="string"||typeof u=="number"||u===null)){a.log.error("please return a value that MediaError expects in beforeerror hooks");return}r=u}),this.options_.suppressNotSupportedError&&r&&r.code===4){var s=function(){this.error(r)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],s),this.one("loadstart",function(){this.off(["click","touchstart"],s)});return}if(r===null){this.error_=r,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new Yt(r),this.addClass("vjs-error"),Se.error("(CODE:"+this.error_.code+" "+Yt.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),_i("error").forEach(function(o){return o(a,a.error_)})},n.reportUserActivity=function(r){this.userActivity_=!0},n.userActive=function(r){if(r===void 0)return this.userActive_;if(r=!!r,r!==this.userActive_){if(this.userActive_=r,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(a){a.stopPropagation(),a.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},n.listenForUserActivity_=function(){var r,a,s,o=qe(this,this.reportUserActivity),u=function(_){(_.screenX!==a||_.screenY!==s)&&(a=_.screenX,s=_.screenY,o())},l=function(){o(),this.clearInterval(r),r=this.setInterval(o,250)},c=function(_){o(),this.clearInterval(r)};this.on("mousedown",l),this.on("mousemove",u),this.on("mouseup",c),this.on("mouseleave",c);var f=this.getChild("controlBar");f&&!Zt&&!Hn&&(f.on("mouseenter",function(g){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),f.on("mouseleave",function(g){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",o),this.on("keyup",o);var d;this.setInterval(function(){if(!!this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(d);var g=this.options_.inactivityTimeout;g<=0||(d=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},g))}},250)},n.playbackRate=function(r){if(r!==void 0){this.techCall_("setPlaybackRate",r);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1},n.defaultPlaybackRate=function(r){return r!==void 0?this.techCall_("setDefaultPlaybackRate",r):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},n.isAudio=function(r){if(r!==void 0){this.isAudio_=!!r;return}return!!this.isAudio_},n.enableAudioOnlyUI_=function(){var r=this;this.addClass("vjs-audio-only-mode");var a=this.children(),s=this.getChild("ControlBar"),o=s&&s.currentHeight();a.forEach(function(u){u!==s&&u.el_&&!u.hasClass("vjs-hidden")&&(u.hide(),r.audioOnlyCache_.hiddenChildren.push(u))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(o),this.trigger("audioonlymodechange")},n.disableAudioOnlyUI_=function(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach(function(r){return r.show()}),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")},n.audioOnlyMode=function(r){var a=this;if(typeof r!="boolean"||r===this.audioOnlyMode_)return this.audioOnlyMode_;this.audioOnlyMode_=r;var s=this.options_.Promise||R.Promise;if(s){if(r){var o=[];return this.isInPictureInPicture()&&o.push(this.exitPictureInPicture()),this.isFullscreen()&&o.push(this.exitFullscreen()),this.audioPosterMode()&&o.push(this.audioPosterMode(!1)),s.all(o).then(function(){return a.enableAudioOnlyUI_()})}return s.resolve().then(function(){return a.disableAudioOnlyUI_()})}r?(this.isInPictureInPicture()&&this.exitPictureInPicture(),this.isFullscreen()&&this.exitFullscreen(),this.enableAudioOnlyUI_()):this.disableAudioOnlyUI_()},n.enablePosterModeUI_=function(){var r=this.tech_&&this.tech_;r.hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},n.disablePosterModeUI_=function(){var r=this.tech_&&this.tech_;r.show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},n.audioPosterMode=function(r){var a=this;if(typeof r!="boolean"||r===this.audioPosterMode_)return this.audioPosterMode_;this.audioPosterMode_=r;var s=this.options_.Promise||R.Promise;if(s){if(r){if(this.audioOnlyMode()){var o=this.audioOnlyMode(!1);return o.then(function(){a.enablePosterModeUI_()})}return s.resolve().then(function(){a.enablePosterModeUI_()})}return s.resolve().then(function(){a.disablePosterModeUI_()})}if(r){this.audioOnlyMode()&&this.audioOnlyMode(!1),this.enablePosterModeUI_();return}this.disablePosterModeUI_()},n.addTextTrack=function(r,a,s){if(this.tech_)return this.tech_.addTextTrack(r,a,s)},n.addRemoteTextTrack=function(r,a){if(this.tech_)return this.tech_.addRemoteTextTrack(r,a)},n.removeRemoteTextTrack=function(r){r===void 0&&(r={});var a=r,s=a.track;if(s||(s=r),this.tech_)return this.tech_.removeRemoteTextTrack(s)},n.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},n.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},n.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},n.language=function(r){if(r===void 0)return this.language_;this.language_!==String(r).toLowerCase()&&(this.language_=String(r).toLowerCase(),On(this)&&this.trigger("languagechange"))},n.languages=function(){return We(e.prototype.options_.languages,this.languages_)},n.toJSON=function(){var r=We(this.options_),a=r.tracks;r.tracks=[];for(var s=0;s<a.length;s++){var o=a[s];o=We(o),o.player=void 0,r.tracks[s]=o}return r},n.createModal=function(r,a){var s=this;a=a||{},a.content=r||"";var o=new Ds(this,a);return this.addChild(o),o.on("dispose",function(){s.removeChild(o)}),o.open(),o},n.updateCurrentBreakpoint_=function(){if(!!this.responsive())for(var r=this.currentBreakpoint(),a=this.currentWidth(),s=0;s<Up.length;s++){var o=Up[s],u=this.breakpoints_[o];if(a<=u){if(r===o)return;r&&this.removeClass(Zl[r]),this.addClass(Zl[o]),this.breakpoint_=o;break}}},n.removeCurrentBreakpoint_=function(){var r=this.currentBreakpointClass();this.breakpoint_="",r&&this.removeClass(r)},n.breakpoints=function(r){return r===void 0?it(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=it({},QL,r),this.updateCurrentBreakpoint_(),it(this.breakpoints_))},n.responsive=function(r){if(r===void 0)return this.responsive_;r=Boolean(r);var a=this.responsive_;if(r!==a)return this.responsive_=r,r?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),r},n.currentBreakpoint=function(){return this.breakpoint_},n.currentBreakpointClass=function(){return Zl[this.breakpoint_]||""},n.loadMedia=function(r,a){var s=this;if(!(!r||typeof r!="object")){this.reset(),this.cache_.media=We(r);var o=this.cache_.media,u=o.artwork,l=o.poster,c=o.src,f=o.textTracks;!u&&l&&(this.cache_.media.artwork=[{src:l,type:Uc(l)}]),c&&this.src(c),l&&this.poster(l),Array.isArray(f)&&f.forEach(function(d){return s.addRemoteTextTrack(d,!1)}),this.ready(a)}},n.getMedia=function(){if(!this.cache_.media){var r=this.poster(),a=this.currentSources(),s=Array.prototype.map.call(this.remoteTextTracks(),function(u){return{kind:u.kind,label:u.label,language:u.language,src:u.src}}),o={src:a,textTracks:s};return r&&(o.poster=r,o.artwork=[{src:o.poster,type:Uc(o.poster)}]),o}return We(this.cache_.media)},e.getTagSettings=function(r){var a={sources:[],tracks:[]},s=Tn(r),o=s["data-setup"];if(Qi(r,"vjs-fill")&&(s.fill=!0),Qi(r,"vjs-fluid")&&(s.fluid=!0),o!==null){var u=BA(o||"{}"),l=u[0],c=u[1];l&&Se.error(l),it(s,c)}if(it(a,s),r.hasChildNodes())for(var f=r.childNodes,d=0,g=f.length;d<g;d++){var _=f[d],y=_.nodeName.toLowerCase();y==="source"?a.sources.push(Tn(_)):y==="track"&&a.tracks.push(Tn(_))}return a},n.flexNotSupported_=function(){var r=te.createElement("i");return!("flexBasis"in r.style||"webkitFlexBasis"in r.style||"mozFlexBasis"in r.style||"msFlexBasis"in r.style||"msFlexOrder"in r.style)},n.debug=function(r){if(r===void 0)return this.debugEnabled_;r?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},n.playbackRates=function(r){if(r===void 0)return this.cache_.playbackRates;!Array.isArray(r)||!r.every(function(a){return typeof a=="number"})||(this.cache_.playbackRates=r,this.trigger("playbackrateschange"))},e}(Y);Gt.names.forEach(function(t){var e=Gt[t];ft.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});ft.prototype.crossorigin=ft.prototype.crossOrigin;ft.players={};var no=R.navigator;ft.prototype.options_={techOrder:Ve.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:no&&(no.languages&&no.languages[0]||no.userLanguage||no.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1};["ended","seeking","seekable","networkState","readyState"].forEach(function(t){ft.prototype[t]=function(){return this.techGet_(t)}});YE.forEach(function(t){ft.prototype["handleTech"+ut(t)+"_"]=function(){return this.trigger(t)}});Y.registerComponent("Player",ft);var jc="plugin",Za="activePlugins_",ja={},zc=function(e){return ja.hasOwnProperty(e)},ec=function(e){return zc(e)?ja[e]:void 0},JE=function(e,n){e[Za]=e[Za]||{},e[Za][n]=!0},Hc=function(e,n,i){var r=(i?"before":"")+"pluginsetup";e.trigger(r,n),e.trigger(r+":"+n.name,n)},YL=function(e,n){var i=function(){Hc(this,{name:e,plugin:n,instance:null},!0);var a=n.apply(this,arguments);return JE(this,e),Hc(this,{name:e,plugin:n,instance:a}),a};return Object.keys(n).forEach(function(r){i[r]=n[r]}),i},A_=function(e,n){return n.prototype.name=e,function(){Hc(this,{name:e,plugin:n,instance:null},!0);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];var s=Xl(n,[this].concat(r));return this[e]=function(){return s},Hc(this,s.getEventHash()),s}},hn=function(){function t(n){if(this.constructor===t)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=n,this.log||(this.log=this.player.log.createLogger(this.name)),jv(this),delete this.trigger,TE(this,this.constructor.defaultState),JE(n,this.name),this.dispose=this.dispose.bind(this),n.on("dispose",this.dispose)}var e=t.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(i){return i===void 0&&(i={}),i.name=this.name,i.plugin=this.constructor,i.instance=this,i},e.trigger=function(i,r){return r===void 0&&(r={}),Os(this.eventBusEl_,i,this.getEventHash(r))},e.handleStateChanged=function(i){},e.dispose=function(){var i=this.name,r=this.player;this.trigger("dispose"),this.off(),r.off("dispose",this.dispose),r[Za][i]=!1,this.player=this.state=null,r[i]=A_(i,ja[i])},t.isBasic=function(i){var r=typeof i=="string"?ec(i):i;return typeof r=="function"&&!t.prototype.isPrototypeOf(r.prototype)},t.registerPlugin=function(i,r){if(typeof i!="string")throw new Error('Illegal plugin name, "'+i+'", must be a string, was '+typeof i+".");if(zc(i))Se.warn('A plugin named "'+i+'" already exists. You may want to avoid re-registering plugins!');else if(ft.prototype.hasOwnProperty(i))throw new Error('Illegal plugin name, "'+i+'", cannot share a name with an existing player method!');if(typeof r!="function")throw new Error('Illegal plugin for "'+i+'", must be a function, was '+typeof r+".");return ja[i]=r,i!==jc&&(t.isBasic(r)?ft.prototype[i]=YL(i,r):ft.prototype[i]=A_(i,r)),r},t.deregisterPlugin=function(i){if(i===jc)throw new Error("Cannot de-register base plugin.");zc(i)&&(delete ja[i],delete ft.prototype[i])},t.getPlugins=function(i){i===void 0&&(i=Object.keys(ja));var r;return i.forEach(function(a){var s=ec(a);s&&(r=r||{},r[a]=s)}),r},t.getPluginVersion=function(i){var r=ec(i);return r&&r.VERSION||""},t}();hn.getPlugin=ec;hn.BASE_PLUGIN_NAME=jc;hn.registerPlugin(jc,hn);ft.prototype.usingPlugin=function(t){return!!this[Za]&&this[Za][t]===!0};ft.prototype.hasPlugin=function(t){return!!zc(t)};var JL=function(e,n){n===void 0&&(n={});var i=function(){e.apply(this,arguments)},r={};typeof n=="object"?(n.constructor!==Object.prototype.constructor&&(i=n.constructor),r=n):typeof n=="function"&&(i=n),Ci(i,e),e&&(i.super_=e);for(var a in r)r.hasOwnProperty(a)&&(i.prototype[a]=r[a]);return i},ZE=function(e){return e.indexOf("#")===0?e.slice(1):e};function z(t,e,n){var i=z.getPlayer(t);if(i)return e&&Se.warn('Player "'+t+'" is already initialised. Options will not be applied.'),n&&i.ready(n),i;var r=typeof t=="string"?Ti("#"+ZE(t)):t;if(!Is(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");(!r.ownerDocument.defaultView||!r.ownerDocument.body.contains(r))&&Se.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(r.parentNode&&r.parentNode.hasAttribute("data-vjs-player")?r.parentNode:r).cloneNode(!0)),_i("beforesetup").forEach(function(s){var o=s(r,We(e));if(!Bn(o)||Array.isArray(o)){Se.error("please return an object in beforesetup hooks");return}e=We(e,o)});var a=Y.getComponent("Player");return i=new a(r,e,n),_i("setup").forEach(function(s){return s(i)}),i}z.hooks_=En;z.hooks=_i;z.hook=CD;z.hookOnce=wD;z.removeHook=Wb;if(R.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&As()){var Cl=Ti(".vjs-styles-defaults");if(!Cl){Cl=pE("vjs-styles-defaults");var lh=Ti("head");lh&&lh.insertBefore(Cl,lh.firstChild),mE(Cl,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}Dp(1,z);z.VERSION=$b;z.options=ft.prototype.options_;z.getPlayers=function(){return ft.players};z.getPlayer=function(t){var e=ft.players,n;if(typeof t=="string"){var i=ZE(t),r=e[i];if(r)return r;n=Ti("#"+i)}else n=t;if(Is(n)){var a=n,s=a.player,o=a.playerId;if(s||e[o])return s||e[o]}};z.getAllPlayers=function(){return Object.keys(ft.players).map(function(t){return ft.players[t]}).filter(Boolean)};z.players=ft.players;z.getComponent=Y.getComponent;z.registerComponent=function(t,e){Ve.isTech(e)&&Se.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),Y.registerComponent.call(Y,t,e)};z.getTech=Ve.getTech;z.registerTech=Ve.registerTech;z.use=uL;Object.defineProperty(z,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(z.middleware,"TERMINATOR",{value:Mc,writeable:!1,enumerable:!0});z.browser=DD;z.TOUCH_ENABLED=ms;z.extend=JL;z.mergeOptions=We;z.bind=qe;z.registerPlugin=hn.registerPlugin;z.deregisterPlugin=hn.deregisterPlugin;z.plugin=function(t,e){return Se.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),hn.registerPlugin(t,e)};z.getPlugins=hn.getPlugins;z.getPlugin=hn.getPlugin;z.getPluginVersion=hn.getPluginVersion;z.addLanguage=function(t,e){var n;return t=(""+t).toLowerCase(),z.options.languages=We(z.options.languages,(n={},n[t]=e,n)),z.options.languages[t]};z.log=Se;z.createLogger=Gb;z.createTimeRange=z.createTimeRanges=Yi;z.formatTime=Ts;z.setFormatTime=kL;z.resetFormatTime=PL;z.parseUrl=Hv;z.isCrossOrigin=Ld;z.EventTarget=Ct;z.on=br;z.one=Od;z.off=Mt;z.trigger=Os;z.xhr=yd.exports;z.TextTrack=Su;z.AudioTrack=EE;z.VideoTrack=CE;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(t){z[t]=function(){return Se.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),fE[t].apply(null,arguments)}});z.computedStyle=au;z.dom=fE;z.url=iL;z.defineLazyProperty=ug;z.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});/*! @name @videojs/http-streaming @version 2.14.2 @license Apache-2.0 */var qr=Td,$c=function(e,n,i){return e&&i&&i.responseURL&&n!==i.responseURL?i.responseURL:n},Zr=function(e){return z.log.debug?z.log.debug.bind(z,"VHS:",e+" >"):function(){}},xi=1/30,un=xi*3,e1=function(e,n){var i=[],r;if(e&&e.length)for(r=0;r<e.length;r++)n(e.start(r),e.end(r))&&i.push([e.start(r),e.end(r)]);return z.createTimeRanges(i)},za=function(e,n){return e1(e,function(i,r){return i-un<=n&&r+un>=n})},wl=function(e,n){return e1(e,function(i){return i-xi>=n})},ZL=function(e){if(e.length<2)return z.createTimeRanges();for(var n=[],i=1;i<e.length;i++){var r=e.end(i-1),a=e.start(i);n.push([r,a])}return z.createTimeRanges(n)},eF=function(e,n){var i=null,r=null,a=0,s=[],o=[];if(!e||!e.length||!n||!n.length)return z.createTimeRange();for(var u=e.length;u--;)s.push({time:e.start(u),type:"start"}),s.push({time:e.end(u),type:"end"});for(u=n.length;u--;)s.push({time:n.start(u),type:"start"}),s.push({time:n.end(u),type:"end"});for(s.sort(function(l,c){return l.time-c.time}),u=0;u<s.length;u++)s[u].type==="start"?(a++,a===2&&(i=s[u].time)):s[u].type==="end"&&(a--,a===1&&(r=s[u].time)),i!==null&&r!==null&&(o.push([i,r]),i=null,r=null);return z.createTimeRanges(o)},t1=function(e){var n=[];if(!e||!e.length)return"";for(var i=0;i<e.length;i++)n.push(e.start(i)+" => "+e.end(i));return n.join(", ")},tF=function(e,n,i){i===void 0&&(i=1);var r=e.length?e.end(e.length-1):0;return(r-n)/i},Hi=function(e){for(var n=[],i=0;i<e.length;i++)n.push({start:e.start(i),end:e.end(i)});return n},rF=function(e,n){if(e===n)return!1;if(!e&&n||!n&&e||e.length!==n.length)return!0;for(var i=0;i<e.length;i++)if(e.start(i)!==n.start(i)||e.end(i)!==n.end(i))return!0;return!1},I_=function(e){if(!(!e||!e.length||!e.end))return e.end(e.length-1)},lg=function(e,n){var i=0;if(!e||!e.length)return i;for(var r=0;r<e.length;r++){var a=e.start(r),s=e.end(r);if(!(n>s)){if(n>a&&n<=s){i+=s-n;continue}i+=s-a}}return i},O_=z.createTimeRange,cg=function(e,n){if(!n.preload)return n.duration;var i=0;return(n.parts||[]).forEach(function(r){i+=r.duration}),(n.preloadHints||[]).forEach(function(r){r.type==="PART"&&(i+=e.partTargetDuration)}),i},Bp=function(e){return(e.segments||[]).reduce(function(n,i,r){return i.parts?i.parts.forEach(function(a,s){n.push({duration:a.duration,segmentIndex:r,partIndex:s,part:a,segment:i})}):n.push({duration:i.duration,segmentIndex:r,partIndex:null,segment:i,part:null}),n},[])},r1=function(e){var n=e.segments&&e.segments.length&&e.segments[e.segments.length-1];return n&&n.parts||[]},n1=function(e){var n=e.preloadSegment;if(!!n){var i=n.parts,r=n.preloadHints,a=(r||[]).reduce(function(s,o){return s+(o.type==="PART"?1:0)},0);return a+=i&&i.length?i.length:0,a}},i1=function(e,n){if(n.endList)return 0;if(e&&e.suggestedPresentationDelay)return e.suggestedPresentationDelay;var i=r1(n).length>0;return i&&n.serverControl&&n.serverControl.partHoldBack?n.serverControl.partHoldBack:i&&n.partTargetDuration?n.partTargetDuration*3:n.serverControl&&n.serverControl.holdBack?n.serverControl.holdBack:n.targetDuration?n.targetDuration*3:0},nF=function(e,n){var i=0,r=n-e.mediaSequence,a=e.segments[r];if(a){if(typeof a.start<"u")return{result:a.start,precise:!0};if(typeof a.end<"u")return{result:a.end-a.duration,precise:!0}}for(;r--;){if(a=e.segments[r],typeof a.end<"u")return{result:i+a.end,precise:!0};if(i+=cg(e,a),typeof a.start<"u")return{result:i+a.start,precise:!0}}return{result:i,precise:!1}},iF=function(e,n){for(var i=0,r,a=n-e.mediaSequence;a<e.segments.length;a++){if(r=e.segments[a],typeof r.start<"u")return{result:r.start-i,precise:!0};if(i+=cg(e,r),typeof r.end<"u")return{result:r.end-i,precise:!0}}return{result:-1,precise:!1}},a1=function(e,n,i){if(typeof n>"u"&&(n=e.mediaSequence+e.segments.length),n<e.mediaSequence)return 0;var r=nF(e,n);if(r.precise)return r.result;var a=iF(e,n);return a.precise?a.result:r.result+i},s1=function(e,n,i){if(!e)return 0;if(typeof i!="number"&&(i=0),typeof n>"u"){if(e.totalDuration)return e.totalDuration;if(!e.endList)return R.Infinity}return a1(e,n,i)},Ao=function(e){var n=e.defaultDuration,i=e.durationList,r=e.startIndex,a=e.endIndex,s=0;if(r>a){var o=[a,r];r=o[0],a=o[1]}if(r<0){for(var u=r;u<Math.min(0,a);u++)s+=n;r=0}for(var l=r;l<a;l++)s+=i[l].duration;return s},o1=function(e,n,i,r){if(!e||!e.segments)return null;if(e.endList)return s1(e);if(n===null)return null;n=n||0;var a=a1(e,e.mediaSequence+e.segments.length,n);return i&&(r=typeof r=="number"?r:i1(null,e),a-=r),Math.max(0,a)},aF=function(e,n,i){var r=!0,a=n||0,s=o1(e,n,r,i);return s===null?O_():O_(a,s)},sF=function(e){for(var n=e.playlist,i=e.currentTime,r=e.startingSegmentIndex,a=e.startingPartIndex,s=e.startTime,o=e.experimentalExactManifestTimings,u=i-s,l=Bp(n),c=0,f=0;f<l.length;f++){var d=l[f];if(r===d.segmentIndex&&!(typeof a=="number"&&typeof d.partIndex=="number"&&a!==d.partIndex)){c=f;break}}if(u<0){if(c>0)for(var g=c-1;g>=0;g--){var _=l[g];if(u+=_.duration,o){if(u<0)continue}else if(u+xi<=0)continue;return{partIndex:_.partIndex,segmentIndex:_.segmentIndex,startTime:s-Ao({defaultDuration:n.targetDuration,durationList:l,startIndex:c,endIndex:g})}}return{partIndex:l[0]&&l[0].partIndex||null,segmentIndex:l[0]&&l[0].segmentIndex||0,startTime:i}}if(c<0){for(var y=c;y<0;y++)if(u-=n.targetDuration,u<0)return{partIndex:l[0]&&l[0].partIndex||null,segmentIndex:l[0]&&l[0].segmentIndex||0,startTime:i};c=0}for(var x=c;x<l.length;x++){var T=l[x];if(u-=T.duration,o){if(u>0)continue}else if(u-xi>=0)continue;return{partIndex:T.partIndex,segmentIndex:T.segmentIndex,startTime:s+Ao({defaultDuration:n.targetDuration,durationList:l,startIndex:c,endIndex:x})}}return{segmentIndex:l[l.length-1].segmentIndex,partIndex:l[l.length-1].partIndex,startTime:i}},u1=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},dg=function(e){return e.excludeUntil&&e.excludeUntil===1/0},Md=function(e){var n=u1(e);return!e.disabled&&!n},oF=function(e){return e.disabled},uF=function(e){for(var n=0;n<e.segments.length;n++)if(e.segments[n].key)return!0;return!1},l1=function(e,n){return n.attributes&&n.attributes[e]},lF=function(e,n,i,r){if(r===void 0&&(r=0),!l1("BANDWIDTH",i))return NaN;var a=e*i.attributes.BANDWIDTH;return(a-r*8)/n},Vp=function(e,n){if(e.playlists.length===1)return!0;var i=n.attributes.BANDWIDTH||Number.MAX_VALUE;return e.playlists.filter(function(r){return Md(r)?(r.attributes.BANDWIDTH||0)<i:!1}).length===0},fg=function(e,n){return!e&&!n||!e&&n||e&&!n?!1:!!(e===n||e.id&&n.id&&e.id===n.id||e.resolvedUri&&n.resolvedUri&&e.resolvedUri===n.resolvedUri||e.uri&&n.uri&&e.uri===n.uri)},D_=function(e,n){var i=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{},r=!1;for(var a in i){for(var s in i[a])if(r=n(i[a][s]),r)break;if(r)break}return!!r},Cu=function(e){if(!e||!e.playlists||!e.playlists.length){var n=D_(e,function(s){return s.playlists&&s.playlists.length||s.uri});return n}for(var i=function(o){var u=e.playlists[o],l=u.attributes&&u.attributes.CODECS;if(l&&l.split(",").every(function(f){return nb(f)}))return"continue";var c=D_(e,function(f){return fg(u,f)});return c?"continue":{v:!1}},r=0;r<e.playlists.length;r++){var a=i(r);if(a!=="continue"&&typeof a=="object")return a.v}return!0},ir={liveEdgeDelay:i1,duration:s1,seekable:aF,getMediaInfoForTime:sF,isEnabled:Md,isDisabled:oF,isBlacklisted:u1,isIncompatible:dg,playlistEnd:o1,isAes:uF,hasAttribute:l1,estimateSegmentRequestTime:lF,isLowestEnabledRendition:Vp,isAudioOnly:Cu,playlistMatch:fg,segmentDurationWithParts:cg},c1=z.log,hg=function(e,n){return e+"-"+n},cF=function(e){var n=e.onwarn,i=e.oninfo,r=e.manifestString,a=e.customTagParsers,s=a===void 0?[]:a,o=e.customTagMappers,u=o===void 0?[]:o,l=e.experimentalLLHLS,c=new DI;n&&c.on("warn",n),i&&c.on("info",i),s.forEach(function(y){return c.addParser(y)}),u.forEach(function(y){return c.addTagMapper(y)}),c.push(r),c.end();var f=c.manifest;if(l||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(y){f.hasOwnProperty(y)&&delete f[y]}),f.segments&&f.segments.forEach(function(y){["parts","preloadHints"].forEach(function(x){y.hasOwnProperty(x)&&delete y[x]})})),!f.targetDuration){var d=10;f.segments&&f.segments.length&&(d=f.segments.reduce(function(y,x){return Math.max(y,x.duration)},0)),n&&n("manifest has no targetDuration defaulting to "+d),f.targetDuration=d}var g=r1(f);if(g.length&&!f.partTargetDuration){var _=g.reduce(function(y,x){return Math.max(y,x.duration)},0);n&&(n("manifest has no partTargetDuration defaulting to "+_),c1.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),f.partTargetDuration=_}return f},wu=function(e,n){!e.mediaGroups||["AUDIO","SUBTITLES"].forEach(function(i){if(!!e.mediaGroups[i])for(var r in e.mediaGroups[i])for(var a in e.mediaGroups[i][r]){var s=e.mediaGroups[i][r][a];n(s,i,r,a)}})},d1=function(e){var n=e.playlist,i=e.uri,r=e.id;n.id=r,n.playlistErrors_=0,i&&(n.uri=i),n.attributes=n.attributes||{}},dF=function(e){for(var n=e.playlists.length;n--;){var i=e.playlists[n];d1({playlist:i,id:hg(n,i.uri)}),i.resolvedUri=qr(e.uri,i.uri),e.playlists[i.id]=i,e.playlists[i.uri]=i,i.attributes.BANDWIDTH||c1.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},fF=function(e){wu(e,function(n){n.uri&&(n.resolvedUri=qr(e.uri,n.uri))})},hF=function(e,n){var i=hg(0,n),r={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:R.location.href,resolvedUri:R.location.href,playlists:[{uri:n,id:i,resolvedUri:n,attributes:{}}]};return r.playlists[i]=r.playlists[0],r.playlists[n]=r.playlists[0],r},f1=function(e,n){e.uri=n;for(var i=0;i<e.playlists.length;i++)if(!e.playlists[i].uri){var r="placeholder-uri-"+i;e.playlists[i].uri=r}var a=Cu(e);wu(e,function(s,o,u,l){var c="placeholder-uri-"+o+"-"+u+"-"+l;if(!s.playlists||!s.playlists.length){if(a&&o==="AUDIO"&&!s.uri)for(var f=0;f<e.playlists.length;f++){var d=e.playlists[f];if(d.attributes&&d.attributes.AUDIO&&d.attributes.AUDIO===u)return}s.playlists=[bt({},s)]}s.playlists.forEach(function(g,_){var y=hg(_,c);g.uri?g.resolvedUri=g.resolvedUri||qr(e.uri,g.uri):(g.uri=_===0?c:y,g.resolvedUri=g.uri),g.id=g.id||y,g.attributes=g.attributes||{},e.playlists[g.id]=g,e.playlists[g.uri]=g})}),dF(e),fF(e)},Wc=z.mergeOptions,pF=z.EventTarget,mF=function(e,n){if(n.endList||!n.serverControl)return e;var i={};if(n.serverControl.canBlockReload){var r=n.preloadSegment,a=n.mediaSequence+n.segments.length;if(r){var s=r.parts||[],o=n1(n)-1;o>-1&&o!==s.length-1&&(i._HLS_part=o),(o>-1||s.length)&&a--}i._HLS_msn=a}if(n.serverControl&&n.serverControl.canSkipUntil&&(i._HLS_skip=n.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(i).length){var u=new R.URL(e);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(l){!i.hasOwnProperty(l)||u.searchParams.set(l,i[l])}),e=u.toString()}return e},vF=function(e,n){if(!e)return n;var i=Wc(e,n);if(e.preloadHints&&!n.preloadHints&&delete i.preloadHints,e.parts&&!n.parts)delete i.parts;else if(e.parts&&n.parts)for(var r=0;r<n.parts.length;r++)e.parts&&e.parts[r]&&(i.parts[r]=Wc(e.parts[r],n.parts[r]));return!e.skipped&&n.skipped&&(i.skipped=!1),e.preload&&!n.preload&&(i.preload=!1),i},gF=function(e,n,i){var r=e.slice(),a=n.slice();i=i||0;for(var s=[],o,u=0;u<a.length;u++){var l=r[u+i],c=a[u];l?(o=l.map||o,s.push(vF(l,c))):(o&&!c.map&&(c.map=o),s.push(c))}return s},h1=function(e,n){!e.resolvedUri&&e.uri&&(e.resolvedUri=qr(n,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=qr(n,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=qr(n,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=qr(n,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach(function(i){i.resolvedUri||(i.resolvedUri=qr(n,i.uri))}),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach(function(i){i.resolvedUri||(i.resolvedUri=qr(n,i.uri))})},p1=function(e){var n=e.segments||[],i=e.preloadSegment;if(i&&i.parts&&i.parts.length){if(i.preloadHints){for(var r=0;r<i.preloadHints.length;r++)if(i.preloadHints[r].type==="MAP")return n}i.duration=e.targetDuration,i.preload=!0,n.push(i)}return n},m1=function(e,n){return e===n||e.segments&&n.segments&&e.segments.length===n.segments.length&&e.endList===n.endList&&e.mediaSequence===n.mediaSequence&&e.preloadSegment===n.preloadSegment},jp=function(e,n,i){i===void 0&&(i=m1);var r=Wc(e,{}),a=r.playlists[n.id];if(!a||i(a,n))return null;n.segments=p1(n);var s=Wc(a,n);if(s.preloadSegment&&!n.preloadSegment&&delete s.preloadSegment,a.segments){if(n.skip){n.segments=n.segments||[];for(var o=0;o<n.skip.skippedSegments;o++)n.segments.unshift({skipped:!0})}s.segments=gF(a.segments,n.segments,n.mediaSequence-a.mediaSequence)}s.segments.forEach(function(l){h1(l,s.resolvedUri)});for(var u=0;u<r.playlists.length;u++)r.playlists[u].id===n.id&&(r.playlists[u]=s);return r.playlists[n.id]=s,r.playlists[n.uri]=s,wu(e,function(l,c,f,d){if(!!l.playlists)for(var g=0;g<l.playlists.length;g++)n.id===l.playlists[g].id&&(l.playlists[g]=s)}),r},zp=function(e,n){var i=e.segments||[],r=i[i.length-1],a=r&&r.parts&&r.parts[r.parts.length-1],s=a&&a.duration||r&&r.duration;return n&&s?s*1e3:(e.partTargetDuration||e.targetDuration||10)*500},Ha=function(t){ie(e,t);function e(i,r,a){var s;if(a===void 0&&(a={}),s=t.call(this)||this,!i)throw new Error("A non-empty playlist URL or object is required");s.logger_=Zr("PlaylistLoader");var o=a,u=o.withCredentials,l=u===void 0?!1:u,c=o.handleManifestRedirects,f=c===void 0?!1:c;s.src=i,s.vhs_=r,s.withCredentials=l,s.handleManifestRedirects=f;var d=r.options_;return s.customTagParsers=d&&d.customTagParsers||[],s.customTagMappers=d&&d.customTagMappers||[],s.experimentalLLHLS=d&&d.experimentalLLHLS||!1,z.browser.IE_VERSION&&(s.experimentalLLHLS=!1),s.state="HAVE_NOTHING",s.handleMediaupdatetimeout_=s.handleMediaupdatetimeout_.bind(_e(s)),s.on("mediaupdatetimeout",s.handleMediaupdatetimeout_),s}var n=e.prototype;return n.handleMediaupdatetimeout_=function(){var r=this;if(this.state==="HAVE_METADATA"){var a=this.media(),s=qr(this.master.uri,a.uri);this.experimentalLLHLS&&(s=mF(s,a)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:s,withCredentials:this.withCredentials},function(o,u){if(!!r.request){if(o)return r.playlistRequestError(r.request,r.media(),"HAVE_METADATA");r.haveMetadata({playlistString:r.request.responseText,url:r.media().uri,id:r.media().id})}})}},n.playlistRequestError=function(r,a,s){var o=a.uri,u=a.id;this.request=null,s&&(this.state=s),this.error={playlist:this.master.playlists[u],status:r.status,message:"HLS playlist request error at URL: "+o+".",responseText:r.responseText,code:r.status>=500?4:2},this.trigger("error")},n.parseManifest_=function(r){var a=this,s=r.url,o=r.manifestString;return cF({onwarn:function(l){var c=l.message;return a.logger_("m3u8-parser warn for "+s+": "+c)},oninfo:function(l){var c=l.message;return a.logger_("m3u8-parser info for "+s+": "+c)},manifestString:o,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},n.haveMetadata=function(r){var a=r.playlistString,s=r.playlistObject,o=r.url,u=r.id;this.request=null,this.state="HAVE_METADATA";var l=s||this.parseManifest_({url:o,manifestString:a});l.lastRequest=Date.now(),d1({playlist:l,uri:o,id:u});var c=jp(this.master,l);this.targetDuration=l.partTargetDuration||l.targetDuration,this.pendingMedia_=null,c?(this.master=c,this.media_=this.master.playlists[u]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(zp(this.media(),!!c)),this.trigger("loadedplaylist")},n.dispose=function(){this.trigger("dispose"),this.stopRequest(),R.clearTimeout(this.mediaUpdateTimeout),R.clearTimeout(this.finalRenditionTimeout),this.off()},n.stopRequest=function(){if(this.request){var r=this.request;this.request=null,r.onreadystatechange=null,r.abort()}},n.media=function(r,a){var s=this;if(!r)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof r=="string"){if(!this.master.playlists[r])throw new Error("Unknown playlist URI: "+r);r=this.master.playlists[r]}if(R.clearTimeout(this.finalRenditionTimeout),a){var o=(r.partTargetDuration||r.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=R.setTimeout(this.media.bind(this,r,!1),o);return}var u=this.state,l=!this.media_||r.id!==this.media_.id,c=this.master.playlists[r.id];if(c&&c.endList||r.endList&&r.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=r,l&&(this.trigger("mediachanging"),u==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(zp(r,!0)),!!l){if(this.state="SWITCHING_MEDIA",this.request){if(r.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=r,this.request=this.vhs_.xhr({uri:r.resolvedUri,withCredentials:this.withCredentials},function(f,d){if(!!s.request){if(r.lastRequest=Date.now(),r.resolvedUri=$c(s.handleManifestRedirects,r.resolvedUri,d),f)return s.playlistRequestError(s.request,r,u);s.haveMetadata({playlistString:d.responseText,url:r.uri,id:r.id}),u==="HAVE_MASTER"?s.trigger("loadedmetadata"):s.trigger("mediachange")}})}},n.pause=function(){this.mediaUpdateTimeout&&(R.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")},n.load=function(r){var a=this;this.mediaUpdateTimeout&&(R.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var s=this.media();if(r){var o=s?(s.partTargetDuration||s.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=R.setTimeout(function(){a.mediaUpdateTimeout=null,a.load()},o);return}if(!this.started){this.start();return}s&&!s.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")},n.updateMediaUpdateTimeout_=function(r){var a=this;this.mediaUpdateTimeout&&(R.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=R.setTimeout(function(){a.mediaUpdateTimeout=null,a.trigger("mediaupdatetimeout"),a.updateMediaUpdateTimeout_(r)},r))},n.start=function(){var r=this;if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=R.location.href),this.src.resolvedUri=this.src.uri,setTimeout(function(){r.setupInitialPlaylist(r.src)},0);return}this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},function(a,s){if(!!r.request){if(r.request=null,a)return r.error={status:s.status,message:"HLS playlist request error at URL: "+r.src+".",responseText:s.responseText,code:2},r.state==="HAVE_NOTHING"&&(r.started=!1),r.trigger("error");r.src=$c(r.handleManifestRedirects,r.src,s);var o=r.parseManifest_({manifestString:s.responseText,url:r.src});r.setupInitialPlaylist(o)}})},n.srcUri=function(){return typeof this.src=="string"?this.src:this.src.uri},n.setupInitialPlaylist=function(r){if(this.state="HAVE_MASTER",r.playlists){this.master=r,f1(this.master,this.srcUri()),r.playlists.forEach(function(s){s.segments=p1(s),s.segments.forEach(function(o){h1(o,s.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.master.playlists[0]);return}var a=this.srcUri()||R.location.href;this.master=hF(r,a),this.haveMetadata({playlistObject:r,url:a,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},e}(pF),yF=z.xhr,_F=z.mergeOptions,Hp=function(e,n,i,r){var a=e.responseType==="arraybuffer"?e.response:e.responseText;!n&&a&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=a.byteLength||a.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),i.headers&&(e.responseHeaders=i.headers),n&&n.code==="ETIMEDOUT"&&(e.timedout=!0),!n&&!e.aborted&&i.statusCode!==200&&i.statusCode!==206&&i.statusCode!==0&&(n=new Error("XHR Failed with a response of: "+(e&&(a||e.responseText)))),r(n,e)},v1=function(){var e=function n(i,r){i=_F({timeout:45e3},i);var a=n.beforeRequest||z.Vhs.xhr.beforeRequest;if(a&&typeof a=="function"){var s=a(i);s&&(i=s)}var o=z.Vhs.xhr.original===!0?yF:z.Vhs.xhr,u=o(i,function(c,f){return Hp(u,c,f,r)}),l=u.abort;return u.abort=function(){return u.aborted=!0,l.apply(u,arguments)},u.uri=i.uri,u.requestTime=Date.now(),u};return e.original=!0,e},TF=function(e){var n,i=e.offset;return typeof e.offset=="bigint"||typeof e.length=="bigint"?n=R.BigInt(e.offset)+R.BigInt(e.length)-R.BigInt(1):n=e.offset+e.length-1,"bytes="+i+"-"+n},$p=function(e){var n={};return e.byterange&&(n.Range=TF(e.byterange)),n},xF=function(e,n){return e.start(n)+"-"+e.end(n)},SF=function(e,n){var i=e.toString(16);return"00".substring(0,2-i.length)+i+(n%2?" ":"")},bF=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},g1=function(e){var n={};return Object.keys(e).forEach(function(i){var r=e[i];ab(r)?n[i]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:n[i]=r}),n},qc=function(e){var n=e.byterange||{length:1/0,offset:0};return[n.length,n.offset,e.resolvedUri].join(",")},y1=function(e){return e.resolvedUri},_1=function(e){for(var n=Array.prototype.slice.call(e),i=16,r="",a,s,o=0;o<n.length/i;o++)a=n.slice(o*i,o*i+i).map(SF).join(""),s=n.slice(o*i,o*i+i).map(bF).join(""),r+=a+" "+s+`
`;return r},EF=function(e){var n=e.bytes;return _1(n)},CF=function(e){var n="",i;for(i=0;i<e.length;i++)n+=xF(e,i)+" ";return n},wF=Object.freeze({__proto__:null,createTransferableMessage:g1,initSegmentId:qc,segmentKeyId:y1,hexDump:_1,tagDump:EF,textRanges:CF}),T1=.25,kF=function(e,n){if(!n.dateTimeObject)return null;var i=n.videoTimingInfo.transmuxerPrependedSeconds,r=n.videoTimingInfo.transmuxedPresentationStart,a=r+i,s=e-a;return new Date(n.dateTimeObject.getTime()+s*1e3)},PF=function(e){return e.transmuxedPresentationEnd-e.transmuxedPresentationStart-e.transmuxerPrependedSeconds},AF=function(e,n){var i;try{i=new Date(e)}catch{return null}if(!n||!n.segments||n.segments.length===0)return null;var r=n.segments[0];if(i<r.dateTimeObject)return null;for(var a=0;a<n.segments.length-1;a++){r=n.segments[a];var s=n.segments[a+1].dateTimeObject;if(i<s)break}var o=n.segments[n.segments.length-1],u=o.dateTimeObject,l=o.videoTimingInfo?PF(o.videoTimingInfo):o.duration+o.duration*T1,c=new Date(u.getTime()+l*1e3);return i>c?null:(i>u&&(r=o),{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:ir.duration(n,n.mediaSequence+n.segments.indexOf(r)),type:r.videoTimingInfo?"accurate":"estimate"})},IF=function(e,n){if(!n||!n.segments||n.segments.length===0)return null;for(var i=0,r,a=0;a<n.segments.length&&(r=n.segments[a],i=r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationEnd:i+r.duration,!(e<=i));a++);var s=n.segments[n.segments.length-1];if(s.videoTimingInfo&&s.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>i){if(e>i+s.duration*T1)return null;r=s}return{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:i-r.duration,type:r.videoTimingInfo?"accurate":"estimate"}},OF=function(e,n){var i,r;try{i=new Date(e),r=new Date(n)}catch{}var a=i.getTime(),s=r.getTime();return(s-a)/1e3},DF=function(e){if(!e.segments||e.segments.length===0)return!1;for(var n=0;n<e.segments.length;n++){var i=e.segments[n];if(!i.dateTimeObject)return!1}return!0},LF=function(e){var n=e.playlist,i=e.time,r=i===void 0?void 0:i,a=e.callback;if(!a)throw new Error("getProgramTime: callback must be provided");if(!n||r===void 0)return a({message:"getProgramTime: playlist and time must be provided"});var s=IF(r,n);if(!s)return a({message:"valid programTime was not found"});if(s.type==="estimate")return a({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:s.estimatedStart});var o={mediaSeconds:r},u=kF(r,s.segment);return u&&(o.programDateTime=u.toISOString()),a(null,o)},FF=function t(e){var n=e.programTime,i=e.playlist,r=e.retryCount,a=r===void 0?2:r,s=e.seekTo,o=e.pauseAfterSeek,u=o===void 0?!0:o,l=e.tech,c=e.callback;if(!c)throw new Error("seekToProgramTime: callback must be provided");if(typeof n>"u"||!i||!s)return c({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!i.endList&&!l.hasStarted_)return c({message:"player must be playing a live stream to start buffering"});if(!DF(i))return c({message:"programDateTime tags must be provided in the manifest "+i.resolvedUri});var f=AF(n,i);if(!f)return c({message:n+" was not found in the stream"});var d=f.segment,g=OF(d.dateTimeObject,n);if(f.type==="estimate"){if(a===0)return c({message:n+" is not buffered yet. Try again"});s(f.estimatedStart+g),l.one("seeked",function(){t({programTime:n,playlist:i,retryCount:a-1,seekTo:s,pauseAfterSeek:u,tech:l,callback:c})});return}var _=d.start+g,y=function(){return c(null,l.currentTime())};l.one("seeked",y),u&&l.pause(),s(_)},ch=function(e,n){if(e.readyState===4)return n()},RF=function(e,n,i){var r=[],a,s=!1,o=function(d,g,_,y){return g.abort(),s=!0,i(d,g,_,y)},u=function(d,g){if(!s){if(d)return o(d,g,"",r);var _=g.responseText.substring(r&&r.byteLength||0,g.responseText.length);if(r=$I(r,sb(_,!0)),a=a||po(r),r.length<10||a&&r.length<a+2)return ch(g,function(){return o(d,g,"",r)});var y=Av(r);return y==="ts"&&r.length<188?ch(g,function(){return o(d,g,"",r)}):!y&&r.length<376?ch(g,function(){return o(d,g,"",r)}):o(null,g,y,r)}},l={uri:e,beforeSend:function(d){d.overrideMimeType("text/plain; charset=x-user-defined"),d.addEventListener("progress",function(g){return g.total,g.loaded,Hp(d,null,{statusCode:d.status},u)})}},c=n(l,function(f,d){return Hp(c,f,d,u)});return c},NF=z.EventTarget,x1=z.mergeOptions,L_=function(e,n){if(!m1(e,n)||e.sidx&&n.sidx&&(e.sidx.offset!==n.sidx.offset||e.sidx.length!==n.sidx.length))return!1;if(!e.sidx&&n.sidx||e.sidx&&!n.sidx||e.segments&&!n.segments||!e.segments&&n.segments)return!1;if(!e.segments&&!n.segments)return!0;for(var i=0;i<e.segments.length;i++){var r=e.segments[i],a=n.segments[i];if(r.uri!==a.uri)return!1;if(!(!r.byterange&&!a.byterange)){var s=r.byterange,o=a.byterange;if(s&&!o||!s&&o||s.offset!==o.offset||s.length!==o.length)return!1}}return!0},MF=function(e){var n=e.masterXml,i=e.srcUrl,r=e.clientOffset,a=e.sidxMapping,s=e.previousManifest,o=iD(n,{manifestUri:i,clientOffset:r,sidxMapping:a,previousManifest:s});return f1(o,i),o},UF=function(e,n,i){for(var r=!0,a=x1(e,{duration:n.duration,minimumUpdatePeriod:n.minimumUpdatePeriod,timelineStarts:n.timelineStarts}),s=0;s<n.playlists.length;s++){var o=n.playlists[s];if(o.sidx){var u=Ed(o.sidx);i&&i[u]&&i[u].sidx&&Cv(o,i[u].sidx,o.sidx.resolvedUri)}var l=jp(a,o,L_);l&&(a=l,r=!1)}return wu(n,function(c,f,d,g){if(c.playlists&&c.playlists.length){var _=c.playlists[0].id,y=jp(a,c.playlists[0],L_);y&&(a=y,a.mediaGroups[f][d][g].playlists[0]=a.playlists[_],r=!1)}}),n.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(r=!1),r?null:a},BF=function(e,n){var i=Boolean(!e.map&&!n.map),r=i||Boolean(e.map&&n.map&&e.map.byterange.offset===n.map.byterange.offset&&e.map.byterange.length===n.map.byterange.length);return r&&e.uri===n.uri&&e.byterange.offset===n.byterange.offset&&e.byterange.length===n.byterange.length},F_=function(e,n){var i={};for(var r in e){var a=e[r],s=a.sidx;if(s){var o=Ed(s);if(!n[o])break;var u=n[o].sidxInfo;BF(u,s)&&(i[o]=n[o])}}return i},VF=function(e,n){var i=F_(e.playlists,n),r=i;return wu(e,function(a,s,o,u){if(a.playlists&&a.playlists.length){var l=a.playlists;r=x1(r,F_(l,n))}}),r},Wp=function(t){ie(e,t);function e(i,r,a,s){var o;a===void 0&&(a={}),o=t.call(this)||this,o.masterPlaylistLoader_=s||_e(o),s||(o.isMaster_=!0);var u=a,l=u.withCredentials,c=l===void 0?!1:l,f=u.handleManifestRedirects,d=f===void 0?!1:f;if(o.vhs_=r,o.withCredentials=c,o.handleManifestRedirects=d,!i)throw new Error("A non-empty playlist URL or object is required");return o.on("minimumUpdatePeriod",function(){o.refreshXml_()}),o.on("mediaupdatetimeout",function(){o.refreshMedia_(o.media().id)}),o.state="HAVE_NOTHING",o.loadedPlaylists_={},o.logger_=Zr("DashPlaylistLoader"),o.isMaster_?(o.masterPlaylistLoader_.srcUrl=i,o.masterPlaylistLoader_.sidxMapping_={}):o.childPlaylist_=i,o}var n=e.prototype;return n.requestErrored_=function(r,a,s){if(!this.request)return!0;if(this.request=null,r)return this.error=typeof r=="object"&&!(r instanceof Error)?r:{status:a.status,message:"DASH request error at URL: "+a.uri,response:a.response,code:2},s&&(this.state=s),this.trigger("error"),!0},n.addSidxSegments_=function(r,a,s){var o=this,u=r.sidx&&Ed(r.sidx);if(!r.sidx||!u||this.masterPlaylistLoader_.sidxMapping_[u]){this.mediaRequest_=R.setTimeout(function(){return s(!1)},0);return}var l=$c(this.handleManifestRedirects,r.sidx.resolvedUri),c=function(d,g){if(!o.requestErrored_(d,g,a)){var _=o.masterPlaylistLoader_.sidxMapping_,y;try{y=lD(me(g.response).subarray(8))}catch(x){o.requestErrored_(x,g,a);return}return _[u]={sidxInfo:r.sidx,sidx:y},Cv(r,y,r.sidx.resolvedUri),s(!0)}};this.request=RF(l,this.vhs_.xhr,function(f,d,g,_){if(f)return c(f,d);if(!g||g!=="mp4")return c({status:d.status,message:"Unsupported "+(g||"unknown")+" container type for sidx segment at URL: "+l,response:"",playlist:r,internal:!0,blacklistDuration:1/0,code:2},d);var y=r.sidx.byterange,x=y.offset,T=y.length;if(_.length>=T+x)return c(f,{response:_.subarray(x,x+T),status:d.status,uri:d.uri});o.request=o.vhs_.xhr({uri:l,responseType:"arraybuffer",headers:$p({byterange:r.sidx.byterange})},c)})},n.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},R.clearTimeout(this.minimumUpdatePeriodTimeout_),R.clearTimeout(this.mediaRequest_),R.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},n.hasPendingRequest=function(){return this.request||this.mediaRequest_},n.stopRequest=function(){if(this.request){var r=this.request;this.request=null,r.onreadystatechange=null,r.abort()}},n.media=function(r){var a=this;if(!r)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);var s=this.state;if(typeof r=="string"){if(!this.masterPlaylistLoader_.master.playlists[r])throw new Error("Unknown playlist URI: "+r);r=this.masterPlaylistLoader_.master.playlists[r]}var o=!this.media_||r.id!==this.media_.id;if(o&&this.loadedPlaylists_[r.id]&&this.loadedPlaylists_[r.id].endList){this.state="HAVE_METADATA",this.media_=r,o&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}!o||(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(r,s,function(u){a.haveMetadata({startingState:s,playlist:r})}))},n.haveMetadata=function(r){var a=r.startingState,s=r.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[s.id]=s,this.mediaRequest_=null,this.refreshMedia_(s.id),a==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange")},n.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),R.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(R.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)},n.load=function(r){var a=this;R.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var s=this.media();if(r){var o=s?s.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=R.setTimeout(function(){return a.load()},o);return}if(!this.started){this.start();return}s&&!s.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")},n.start=function(){var r=this;if(this.started=!0,!this.isMaster_){this.mediaRequest_=R.setTimeout(function(){return r.haveMaster_()},0);return}this.requestMaster_(function(a,s){r.haveMaster_(),!r.hasPendingRequest()&&!r.media_&&r.media(r.masterPlaylistLoader_.master.playlists[0])})},n.requestMaster_=function(r){var a=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},function(s,o){if(a.requestErrored_(s,o)){a.state==="HAVE_NOTHING"&&(a.started=!1);return}var u=o.responseText!==a.masterPlaylistLoader_.masterXml_;if(a.masterPlaylistLoader_.masterXml_=o.responseText,o.responseHeaders&&o.responseHeaders.date?a.masterLoaded_=Date.parse(o.responseHeaders.date):a.masterLoaded_=Date.now(),a.masterPlaylistLoader_.srcUrl=$c(a.handleManifestRedirects,a.masterPlaylistLoader_.srcUrl,o),u){a.handleMaster_(),a.syncClientServerClock_(function(){return r(o,u)});return}return r(o,u)})},n.syncClientServerClock_=function(r){var a=this,s=aD(this.masterPlaylistLoader_.masterXml_);if(s===null)return this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),r();if(s.method==="DIRECT")return this.masterPlaylistLoader_.clientOffset_=s.value-Date.now(),r();this.request=this.vhs_.xhr({uri:qr(this.masterPlaylistLoader_.srcUrl,s.value),method:s.method,withCredentials:this.withCredentials},function(o,u){if(!!a.request){if(o)return a.masterPlaylistLoader_.clientOffset_=a.masterLoaded_-Date.now(),r();var l;s.method==="HEAD"?!u.responseHeaders||!u.responseHeaders.date?l=a.masterLoaded_:l=Date.parse(u.responseHeaders.date):l=Date.parse(u.responseText),a.masterPlaylistLoader_.clientOffset_=l-Date.now(),r()}})},n.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},n.handleMaster_=function(){this.mediaRequest_=null;var r=this.masterPlaylistLoader_.master,a=MF({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_,previousManifest:r});r&&(a=UF(r,a,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=a||r;var s=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return s&&s!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=s),(!r||a&&a.minimumUpdatePeriod!==r.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(a)},n.updateMinimumUpdatePeriodTimeout_=function(){var r=this.masterPlaylistLoader_;r.createMupOnMedia_&&(r.off("loadedmetadata",r.createMupOnMedia_),r.createMupOnMedia_=null),r.minimumUpdatePeriodTimeout_&&(R.clearTimeout(r.minimumUpdatePeriodTimeout_),r.minimumUpdatePeriodTimeout_=null);var a=r.master&&r.master.minimumUpdatePeriod;if(a===0&&(r.media()?a=r.media().targetDuration*1e3:(r.createMupOnMedia_=r.updateMinimumUpdatePeriodTimeout_,r.one("loadedmetadata",r.createMupOnMedia_))),typeof a!="number"||a<=0){a<0&&this.logger_("found invalid minimumUpdatePeriod of "+a+", not setting a timeout");return}this.createMUPTimeout_(a)},n.createMUPTimeout_=function(r){var a=this.masterPlaylistLoader_;a.minimumUpdatePeriodTimeout_=R.setTimeout(function(){a.minimumUpdatePeriodTimeout_=null,a.trigger("minimumUpdatePeriod"),a.createMUPTimeout_(r)},r)},n.refreshXml_=function(){var r=this;this.requestMaster_(function(a,s){!s||(r.media_&&(r.media_=r.masterPlaylistLoader_.master.playlists[r.media_.id]),r.masterPlaylistLoader_.sidxMapping_=VF(r.masterPlaylistLoader_.master,r.masterPlaylistLoader_.sidxMapping_),r.addSidxSegments_(r.media(),r.state,function(o){r.refreshMedia_(r.media().id)}))})},n.refreshMedia_=function(r){var a=this;if(!r)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var s=this.masterPlaylistLoader_.master.playlists,o=!this.media_||this.media_!==s[r];if(o?this.media_=s[r]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){var u=function l(){a.media().endList||(a.mediaUpdateTimeout=R.setTimeout(function(){a.trigger("mediaupdatetimeout"),l()},zp(a.media(),Boolean(o))))};u()}this.trigger("loadedplaylist")},e}(NF),Tt={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},jF=function(e){for(var n=new Uint8Array(new ArrayBuffer(e.length)),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n.buffer},S1=function(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e},zF=function(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch{var n=new BlobBuilder;return n.append(e),URL.createObjectURL(n.getBlob())}},b1=function(e){return function(){var n=zF(e),i=S1(new Worker(n));i.objURL=n;var r=i.terminate;return i.on=i.addEventListener,i.off=i.removeEventListener,i.terminate=function(){return URL.revokeObjectURL(n),r.call(this)},i}},E1=function(e){return"var browserWorkerPolyFill = "+S1.toString()+`;
browserWorkerPolyFill(self);
`+e},C1=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)},HF=E1(C1(function(){var t=function(){this.init=function(){var h={};this.on=function(m,p){h[m]||(h[m]=[]),h[m]=h[m].concat(p)},this.off=function(m,p){var v;return h[m]?(v=h[m].indexOf(p),h[m]=h[m].slice(),h[m].splice(v,1),v>-1):!1},this.trigger=function(m){var p,v,S,b;if(p=h[m],!!p)if(arguments.length===2)for(S=p.length,v=0;v<S;++v)p[v].call(this,arguments[1]);else{for(b=[],v=arguments.length,v=1;v<arguments.length;++v)b.push(arguments[v]);for(S=p.length,v=0;v<S;++v)p[v].apply(this,b)}},this.dispose=function(){h={}}}};t.prototype.pipe=function(C){return this.on("data",function(h){C.push(h)}),this.on("done",function(h){C.flush(h)}),this.on("partialdone",function(h){C.partialFlush(h)}),this.on("endedtimeline",function(h){C.endTimeline(h)}),this.on("reset",function(h){C.reset(h)}),C},t.prototype.push=function(C){this.trigger("data",C)},t.prototype.flush=function(C){this.trigger("done",C)},t.prototype.partialFlush=function(C){this.trigger("partialdone",C)},t.prototype.endTimeline=function(C){this.trigger("endedtimeline",C)},t.prototype.reset=function(C){this.trigger("reset",C)};var e=t,n=Math.pow(2,32),i=function(h){var m=new DataView(h.buffer,h.byteOffset,h.byteLength),p;return m.getBigUint64?(p=m.getBigUint64(0),p<Number.MAX_SAFE_INTEGER?Number(p):p):m.getUint32(0)*n+m.getUint32(4)},r={getUint64:i,MAX_UINT32:n},a=r.MAX_UINT32,s,o,u,l,c,f,d,g,_,y,x,T,E,w,k,I,D,F,L,V,A,M,B,$,G,Q,Z,se,W,X,K,le,re,ve,fe,pe;(function(){var C;if(B={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(C in B)B.hasOwnProperty(C)&&(B[C]=[C.charCodeAt(0),C.charCodeAt(1),C.charCodeAt(2),C.charCodeAt(3)]);$=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),Q=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),G=new Uint8Array([0,0,0,1]),Z=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),se=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),W={video:Z,audio:se},le=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),K=new Uint8Array([0,0,0,0,0,0,0,0]),re=new Uint8Array([0,0,0,0,0,0,0,0]),ve=re,fe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),pe=re,X=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),s=function(h){var m=[],p=0,v,S,b;for(v=1;v<arguments.length;v++)m.push(arguments[v]);for(v=m.length;v--;)p+=m[v].byteLength;for(S=new Uint8Array(p+8),b=new DataView(S.buffer,S.byteOffset,S.byteLength),b.setUint32(0,S.byteLength),S.set(h,4),v=0,p=8;v<m.length;v++)S.set(m[v],p),p+=m[v].byteLength;return S},o=function(){return s(B.dinf,s(B.dref,le))},u=function(h){return s(B.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,h.audioobjecttype<<3|h.samplingfrequencyindex>>>1,h.samplingfrequencyindex<<7|h.channelcount<<3,6,1,2]))},l=function(){return s(B.ftyp,$,G,$,Q)},I=function(h){return s(B.hdlr,W[h])},c=function(h){return s(B.mdat,h)},k=function(h){var m=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,h.duration>>>24&255,h.duration>>>16&255,h.duration>>>8&255,h.duration&255,85,196,0,0]);return h.samplerate&&(m[12]=h.samplerate>>>24&255,m[13]=h.samplerate>>>16&255,m[14]=h.samplerate>>>8&255,m[15]=h.samplerate&255),s(B.mdhd,m)},w=function(h){return s(B.mdia,k(h),I(h.type),d(h))},f=function(h){return s(B.mfhd,new Uint8Array([0,0,0,0,(h&4278190080)>>24,(h&16711680)>>16,(h&65280)>>8,h&255]))},d=function(h){return s(B.minf,h.type==="video"?s(B.vmhd,X):s(B.smhd,K),o(),F(h))},g=function(h,m){for(var p=[],v=m.length;v--;)p[v]=V(m[v]);return s.apply(null,[B.moof,f(h)].concat(p))},_=function(h){for(var m=h.length,p=[];m--;)p[m]=T(h[m]);return s.apply(null,[B.moov,x(4294967295)].concat(p).concat(y(h)))},y=function(h){for(var m=h.length,p=[];m--;)p[m]=A(h[m]);return s.apply(null,[B.mvex].concat(p))},x=function(h){var m=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(h&4278190080)>>24,(h&16711680)>>16,(h&65280)>>8,h&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return s(B.mvhd,m)},D=function(h){var m=h.samples||[],p=new Uint8Array(4+m.length),v,S;for(S=0;S<m.length;S++)v=m[S].flags,p[S+4]=v.dependsOn<<4|v.isDependedOn<<2|v.hasRedundancy;return s(B.sdtp,p)},F=function(h){return s(B.stbl,L(h),s(B.stts,pe),s(B.stsc,ve),s(B.stsz,fe),s(B.stco,re))},function(){var C,h;L=function(p){return s(B.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),p.type==="video"?C(p):h(p))},C=function(p){var v=p.sps||[],S=p.pps||[],b=[],P=[],O,U;for(O=0;O<v.length;O++)b.push((v[O].byteLength&65280)>>>8),b.push(v[O].byteLength&255),b=b.concat(Array.prototype.slice.call(v[O]));for(O=0;O<S.length;O++)P.push((S[O].byteLength&65280)>>>8),P.push(S[O].byteLength&255),P=P.concat(Array.prototype.slice.call(S[O]));if(U=[B.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(p.width&65280)>>8,p.width&255,(p.height&65280)>>8,p.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s(B.avcC,new Uint8Array([1,p.profileIdc,p.profileCompatibility,p.levelIdc,255].concat([v.length],b,[S.length],P))),s(B.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],p.sarRatio){var N=p.sarRatio[0],j=p.sarRatio[1];U.push(s(B.pasp,new Uint8Array([(N&4278190080)>>24,(N&16711680)>>16,(N&65280)>>8,N&255,(j&4278190080)>>24,(j&16711680)>>16,(j&65280)>>8,j&255])))}return s.apply(null,U)},h=function(p){return s(B.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(p.channelcount&65280)>>8,p.channelcount&255,(p.samplesize&65280)>>8,p.samplesize&255,0,0,0,0,(p.samplerate&65280)>>8,p.samplerate&255,0,0]),u(p))}}(),E=function(h){var m=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(h.id&4278190080)>>24,(h.id&16711680)>>16,(h.id&65280)>>8,h.id&255,0,0,0,0,(h.duration&4278190080)>>24,(h.duration&16711680)>>16,(h.duration&65280)>>8,h.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(h.width&65280)>>8,h.width&255,0,0,(h.height&65280)>>8,h.height&255,0,0]);return s(B.tkhd,m)},V=function(h){var m,p,v,S,b,P,O;return m=s(B.tfhd,new Uint8Array([0,0,0,58,(h.id&4278190080)>>24,(h.id&16711680)>>16,(h.id&65280)>>8,h.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),P=Math.floor(h.baseMediaDecodeTime/a),O=Math.floor(h.baseMediaDecodeTime%a),p=s(B.tfdt,new Uint8Array([1,0,0,0,P>>>24&255,P>>>16&255,P>>>8&255,P&255,O>>>24&255,O>>>16&255,O>>>8&255,O&255])),b=32+20+8+16+8+8,h.type==="audio"?(v=M(h,b),s(B.traf,m,p,v)):(S=D(h),v=M(h,S.length+b),s(B.traf,m,p,v,S))},T=function(h){return h.duration=h.duration||4294967295,s(B.trak,E(h),w(h))},A=function(h){var m=new Uint8Array([0,0,0,0,(h.id&4278190080)>>24,(h.id&16711680)>>16,(h.id&65280)>>8,h.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return h.type!=="video"&&(m[m.length-1]=0),s(B.trex,m)},function(){var C,h,m;m=function(v,S){var b=0,P=0,O=0,U=0;return v.length&&(v[0].duration!==void 0&&(b=1),v[0].size!==void 0&&(P=2),v[0].flags!==void 0&&(O=4),v[0].compositionTimeOffset!==void 0&&(U=8)),[0,0,b|P|O|U,1,(v.length&4278190080)>>>24,(v.length&16711680)>>>16,(v.length&65280)>>>8,v.length&255,(S&4278190080)>>>24,(S&16711680)>>>16,(S&65280)>>>8,S&255]},h=function(v,S){var b,P,O,U,N,j;for(U=v.samples||[],S+=8+12+16*U.length,O=m(U,S),P=new Uint8Array(O.length+U.length*16),P.set(O),b=O.length,j=0;j<U.length;j++)N=U[j],P[b++]=(N.duration&4278190080)>>>24,P[b++]=(N.duration&16711680)>>>16,P[b++]=(N.duration&65280)>>>8,P[b++]=N.duration&255,P[b++]=(N.size&4278190080)>>>24,P[b++]=(N.size&16711680)>>>16,P[b++]=(N.size&65280)>>>8,P[b++]=N.size&255,P[b++]=N.flags.isLeading<<2|N.flags.dependsOn,P[b++]=N.flags.isDependedOn<<6|N.flags.hasRedundancy<<4|N.flags.paddingValue<<1|N.flags.isNonSyncSample,P[b++]=N.flags.degradationPriority&240<<8,P[b++]=N.flags.degradationPriority&15,P[b++]=(N.compositionTimeOffset&4278190080)>>>24,P[b++]=(N.compositionTimeOffset&16711680)>>>16,P[b++]=(N.compositionTimeOffset&65280)>>>8,P[b++]=N.compositionTimeOffset&255;return s(B.trun,P)},C=function(v,S){var b,P,O,U,N,j;for(U=v.samples||[],S+=8+12+8*U.length,O=m(U,S),b=new Uint8Array(O.length+U.length*8),b.set(O),P=O.length,j=0;j<U.length;j++)N=U[j],b[P++]=(N.duration&4278190080)>>>24,b[P++]=(N.duration&16711680)>>>16,b[P++]=(N.duration&65280)>>>8,b[P++]=N.duration&255,b[P++]=(N.size&4278190080)>>>24,b[P++]=(N.size&16711680)>>>16,b[P++]=(N.size&65280)>>>8,b[P++]=N.size&255;return s(B.trun,b)},M=function(v,S){return v.type==="audio"?C(v,S):h(v,S)}}();var xe={ftyp:l,mdat:c,moof:g,moov:_,initSegment:function(h){var m=l(),p=_(h),v;return v=new Uint8Array(m.byteLength+p.byteLength),v.set(m),v.set(p,m.byteLength),v}},Ue=function(h){var m,p,v=[],S=[];for(S.byteLength=0,S.nalCount=0,S.duration=0,v.byteLength=0,m=0;m<h.length;m++)p=h[m],p.nalUnitType==="access_unit_delimiter_rbsp"?(v.length&&(v.duration=p.dts-v.dts,S.byteLength+=v.byteLength,S.nalCount+=v.length,S.duration+=v.duration,S.push(v)),v=[p],v.byteLength=p.data.byteLength,v.pts=p.pts,v.dts=p.dts):(p.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(v.keyFrame=!0),v.duration=p.dts-v.dts,v.byteLength+=p.data.byteLength,v.push(p));return S.length&&(!v.duration||v.duration<=0)&&(v.duration=S[S.length-1].duration),S.byteLength+=v.byteLength,S.nalCount+=v.length,S.duration+=v.duration,S.push(v),S},ct=function(h){var m,p,v=[],S=[];for(v.byteLength=0,v.nalCount=0,v.duration=0,v.pts=h[0].pts,v.dts=h[0].dts,S.byteLength=0,S.nalCount=0,S.duration=0,S.pts=h[0].pts,S.dts=h[0].dts,m=0;m<h.length;m++)p=h[m],p.keyFrame?(v.length&&(S.push(v),S.byteLength+=v.byteLength,S.nalCount+=v.nalCount,S.duration+=v.duration),v=[p],v.nalCount=p.length,v.byteLength=p.byteLength,v.pts=p.pts,v.dts=p.dts,v.duration=p.duration):(v.duration+=p.duration,v.nalCount+=p.length,v.byteLength+=p.byteLength,v.push(p));return S.length&&v.duration<=0&&(v.duration=S[S.length-1].duration),S.byteLength+=v.byteLength,S.nalCount+=v.nalCount,S.duration+=v.duration,S.push(v),S},Ae=function(h){var m;return!h[0][0].keyFrame&&h.length>1&&(m=h.shift(),h.byteLength-=m.byteLength,h.nalCount-=m.nalCount,h[0][0].dts=m.dts,h[0][0].pts=m.pts,h[0][0].duration+=m.duration),h},Kn=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},pn=function(h,m){var p=Kn();return p.dataOffset=m,p.compositionTimeOffset=h.pts-h.dts,p.duration=h.duration,p.size=4*h.length,p.size+=h.byteLength,h.keyFrame&&(p.flags.dependsOn=2,p.flags.isNonSyncSample=0),p},Xn=function(h,m){var p,v,S,b,P,O=m||0,U=[];for(p=0;p<h.length;p++)for(b=h[p],v=0;v<b.length;v++)P=b[v],S=pn(P,O),O+=S.size,U.push(S);return U},Ke=function(h){var m,p,v,S,b,P,O=0,U=h.byteLength,N=h.nalCount,j=U+4*N,q=new Uint8Array(j),ne=new DataView(q.buffer);for(m=0;m<h.length;m++)for(S=h[m],p=0;p<S.length;p++)for(b=S[p],v=0;v<b.length;v++)P=b[v],ne.setUint32(O,P.data.byteLength),O+=4,q.set(P.data,O),O+=P.data.byteLength;return q},Pi=function(h,m){var p,v=m||0,S=[];return p=pn(h,v),S.push(p),S},jt=function(h){var m,p,v=0,S=h.byteLength,b=h.length,P=S+4*b,O=new Uint8Array(P),U=new DataView(O.buffer);for(m=0;m<h.length;m++)p=h[m],U.setUint32(v,p.data.byteLength),v+=4,O.set(p.data,v),v+=p.data.byteLength;return O},zt={groupNalsIntoFrames:Ue,groupFramesIntoGops:ct,extendFirstKeyFrame:Ae,generateSampleTable:Xn,concatenateNalData:Ke,generateSampleTableForFrame:Pi,concatenateNalDataForFrame:jt},Ee=[33,16,5,32,164,27],Oe=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],ge=function(h){for(var m=[];h--;)m.push(0);return m},Xe=function(h){return Object.keys(h).reduce(function(m,p){return m[p]=new Uint8Array(h[p].reduce(function(v,S){return v.concat(S)},[])),m},{})},De,Le=function(){if(!De){var h={96e3:[Ee,[227,64],ge(154),[56]],88200:[Ee,[231],ge(170),[56]],64e3:[Ee,[248,192],ge(240),[56]],48e3:[Ee,[255,192],ge(268),[55,148,128],ge(54),[112]],44100:[Ee,[255,192],ge(268),[55,163,128],ge(84),[112]],32e3:[Ee,[255,192],ge(268),[55,234],ge(226),[112]],24e3:[Ee,[255,192],ge(268),[55,255,128],ge(268),[111,112],ge(126),[224]],16e3:[Ee,[255,192],ge(268),[55,255,128],ge(268),[111,255],ge(269),[223,108],ge(195),[1,192]],12e3:[Oe,ge(268),[3,127,248],ge(268),[6,255,240],ge(268),[13,255,224],ge(268),[27,253,128],ge(259),[56]],11025:[Oe,ge(268),[3,127,248],ge(268),[6,255,240],ge(268),[13,255,224],ge(268),[27,255,192],ge(268),[55,175,128],ge(108),[112]],8e3:[Oe,ge(268),[3,121,16],ge(47),[7]]};De=Xe(h)}return De},pt=9e4,dr,af,Fu,sf,Fg,Rg,Ng;dr=function(h){return h*pt},af=function(h,m){return h*m},Fu=function(h){return h/pt},sf=function(h,m){return h/m},Fg=function(h,m){return dr(sf(h,m))},Rg=function(h,m){return af(Fu(h),m)},Ng=function(h,m,p){return Fu(p?h:h-m)};var Ie={ONE_SECOND_IN_TS:pt,secondsToVideoTs:dr,secondsToAudioTs:af,videoTsToSeconds:Fu,audioTsToSeconds:sf,audioTsToVideoTs:Fg,videoTsToAudioTs:Rg,metadataTsToSeconds:Ng},WC=function(h){var m,p,v=0;for(m=0;m<h.length;m++)p=h[m],v+=p.data.byteLength;return v},qC=function(h,m,p,v){var S,b=0,P=0,O=0,U=0,N,j,q;if(!!m.length&&(S=Ie.audioTsToVideoTs(h.baseMediaDecodeTime,h.samplerate),b=Math.ceil(Ie.ONE_SECOND_IN_TS/(h.samplerate/1024)),p&&v&&(P=S-Math.max(p,v),O=Math.floor(P/b),U=O*b),!(O<1||U>Ie.ONE_SECOND_IN_TS/2))){for(N=Le()[h.samplerate],N||(N=m[0].data),j=0;j<O;j++)q=m[0],m.splice(0,0,{data:N,dts:q.dts-b,pts:q.pts-b});return h.baseMediaDecodeTime-=Math.floor(Ie.videoTsToAudioTs(U,h.samplerate)),U}},GC=function(h,m,p){return m.minSegmentDts>=p?h:(m.minSegmentDts=1/0,h.filter(function(v){return v.dts>=p?(m.minSegmentDts=Math.min(m.minSegmentDts,v.dts),m.minSegmentPts=m.minSegmentDts,!0):!1}))},KC=function(h){var m,p,v=[];for(m=0;m<h.length;m++)p=h[m],v.push({size:p.data.byteLength,duration:1024});return v},XC=function(h){var m,p,v=0,S=new Uint8Array(WC(h));for(m=0;m<h.length;m++)p=h[m],S.set(p.data,v),v+=p.data.byteLength;return S},Ru={prefixWithSilence:qC,trimAdtsFramesByEarliestDts:GC,generateSampleTable:KC,concatenateFrameData:XC},QC=Ie.ONE_SECOND_IN_TS,YC=function(h,m){typeof m.pts=="number"&&(h.timelineStartInfo.pts===void 0&&(h.timelineStartInfo.pts=m.pts),h.minSegmentPts===void 0?h.minSegmentPts=m.pts:h.minSegmentPts=Math.min(h.minSegmentPts,m.pts),h.maxSegmentPts===void 0?h.maxSegmentPts=m.pts:h.maxSegmentPts=Math.max(h.maxSegmentPts,m.pts)),typeof m.dts=="number"&&(h.timelineStartInfo.dts===void 0&&(h.timelineStartInfo.dts=m.dts),h.minSegmentDts===void 0?h.minSegmentDts=m.dts:h.minSegmentDts=Math.min(h.minSegmentDts,m.dts),h.maxSegmentDts===void 0?h.maxSegmentDts=m.dts:h.maxSegmentDts=Math.max(h.maxSegmentDts,m.dts))},JC=function(h){delete h.minSegmentDts,delete h.maxSegmentDts,delete h.minSegmentPts,delete h.maxSegmentPts},ZC=function(h,m){var p,v,S=h.minSegmentDts;return m||(S-=h.timelineStartInfo.dts),p=h.timelineStartInfo.baseMediaDecodeTime,p+=S,p=Math.max(0,p),h.type==="audio"&&(v=h.samplerate/QC,p*=v,p=Math.floor(p)),p},Br={clearDtsInfo:JC,calculateTrackBaseMediaDecodeTime:ZC,collectDtsInfo:YC},Mg=4,ew=128,tw=function(h){for(var m=0,p={payloadType:-1,payloadSize:0},v=0,S=0;m<h.byteLength&&h[m]!==ew;){for(;h[m]===255;)v+=255,m++;for(v+=h[m++];h[m]===255;)S+=255,m++;if(S+=h[m++],!p.payload&&v===Mg){var b=String.fromCharCode(h[m+3],h[m+4],h[m+5],h[m+6]);if(b==="GA94"){p.payloadType=v,p.payloadSize=S,p.payload=h.subarray(m,m+S);break}else p.payload=void 0}m+=S,v=0,S=0}return p},rw=function(h){return h.payload[0]!==181||(h.payload[1]<<8|h.payload[2])!==49||String.fromCharCode(h.payload[3],h.payload[4],h.payload[5],h.payload[6])!=="GA94"||h.payload[7]!==3?null:h.payload.subarray(8,h.payload.length-1)},nw=function(h,m){var p=[],v,S,b,P;if(!(m[0]&64))return p;for(S=m[0]&31,v=0;v<S;v++)b=v*3,P={type:m[b+2]&3,pts:h},m[b+2]&4&&(P.ccData=m[b+3]<<8|m[b+4],p.push(P));return p},iw=function(h){for(var m=h.byteLength,p=[],v=1,S,b;v<m-2;)h[v]===0&&h[v+1]===0&&h[v+2]===3?(p.push(v+2),v+=2):v++;if(p.length===0)return h;S=m-p.length,b=new Uint8Array(S);var P=0;for(v=0;v<S;P++,v++)P===p[0]&&(P++,p.shift()),b[v]=h[P];return b},Ms={parseSei:tw,parseUserData:rw,parseCaptionPackets:nw,discardEmulationPreventionBytes:iw,USER_DATA_REGISTERED_ITU_T_T35:Mg},fr=function C(h){h=h||{},C.prototype.init.call(this),this.parse708captions_=typeof h.parse708captions=="boolean"?h.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new Je(0,0),new Je(0,1),new Je(1,0),new Je(1,1)],this.parse708captions_&&(this.cc708Stream_=new je({captionServices:h.captionServices})),this.reset(),this.ccStreams_.forEach(function(m){m.on("data",this.trigger.bind(this,"data")),m.on("partialdone",this.trigger.bind(this,"partialdone")),m.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};fr.prototype=new e,fr.prototype.push=function(C){var h,m,p;if(C.nalUnitType==="sei_rbsp"&&(h=Ms.parseSei(C.escapedRBSP),!!h.payload&&h.payloadType===Ms.USER_DATA_REGISTERED_ITU_T_T35&&(m=Ms.parseUserData(h),!!m))){if(C.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(C.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}p=Ms.parseCaptionPackets(C.pts,m),this.captionPackets_=this.captionPackets_.concat(p),this.latestDts_!==C.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=C.dts}},fr.prototype.flushCCStreams=function(C){this.ccStreams_.forEach(function(h){return C==="flush"?h.flush():h.partialFlush()},this)},fr.prototype.flushStream=function(C){if(!this.captionPackets_.length){this.flushCCStreams(C);return}this.captionPackets_.forEach(function(h,m){h.presortIndex=m}),this.captionPackets_.sort(function(h,m){return h.pts===m.pts?h.presortIndex-m.presortIndex:h.pts-m.pts}),this.captionPackets_.forEach(function(h){h.type<2?this.dispatchCea608Packet(h):this.dispatchCea708Packet(h)},this),this.captionPackets_.length=0,this.flushCCStreams(C)},fr.prototype.flush=function(){return this.flushStream("flush")},fr.prototype.partialFlush=function(){return this.flushStream("partialFlush")},fr.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(C){C.reset()})},fr.prototype.dispatchCea608Packet=function(C){this.setsTextOrXDSActive(C)?this.activeCea608Channel_[C.type]=null:this.setsChannel1Active(C)?this.activeCea608Channel_[C.type]=0:this.setsChannel2Active(C)&&(this.activeCea608Channel_[C.type]=1),this.activeCea608Channel_[C.type]!==null&&this.ccStreams_[(C.type<<1)+this.activeCea608Channel_[C.type]].push(C)},fr.prototype.setsChannel1Active=function(C){return(C.ccData&30720)===4096},fr.prototype.setsChannel2Active=function(C){return(C.ccData&30720)===6144},fr.prototype.setsTextOrXDSActive=function(C){return(C.ccData&28928)===256||(C.ccData&30974)===4138||(C.ccData&30974)===6186},fr.prototype.dispatchCea708Packet=function(C){this.parse708captions_&&this.cc708Stream_.push(C)};var aw={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},sw=function(h){var m=aw[h]||h;return h&4096&&h===m?"":String.fromCharCode(m)},Nu=function(h){return 32<=h&&h<=127||160<=h&&h<=255},mn=function(h){this.windowNum=h,this.reset()};mn.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},mn.prototype.getText=function(){return this.rows.join(`
`)},mn.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},mn.prototype.newLine=function(C){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(C),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},mn.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},mn.prototype.addText=function(C){this.rows[this.rowIdx]+=C},mn.prototype.backspace=function(){if(!this.isEmpty()){var C=this.rows[this.rowIdx];this.rows[this.rowIdx]=C.substr(0,C.length-1)}};var Mu=function(h,m,p){this.serviceNum=h,this.text="",this.currentWindow=new mn(-1),this.windows=[],this.stream=p,typeof m=="string"&&this.createTextDecoder(m)};Mu.prototype.init=function(C,h){this.startPts=C;for(var m=0;m<8;m++)this.windows[m]=new mn(m),typeof h=="function"&&(this.windows[m].beforeRowOverflow=h)},Mu.prototype.setCurrentWindow=function(C){this.currentWindow=this.windows[C]},Mu.prototype.createTextDecoder=function(C){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(C)}catch(h){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+C+" encoding. "+h})}};var je=function C(h){h=h||{},C.prototype.init.call(this);var m=this,p=h.captionServices||{},v={},S;Object.keys(p).forEach(function(b){S=p[b],/^SERVICE/.test(b)&&(v[b]=S.encoding)}),this.serviceEncodings=v,this.current708Packet=null,this.services={},this.push=function(b){b.type===3?(m.new708Packet(),m.add708Bytes(b)):(m.current708Packet===null&&m.new708Packet(),m.add708Bytes(b))}};je.prototype=new e,je.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},je.prototype.add708Bytes=function(C){var h=C.ccData,m=h>>>8,p=h&255;this.current708Packet.ptsVals.push(C.pts),this.current708Packet.data.push(m),this.current708Packet.data.push(p)},je.prototype.push708Packet=function(){var C=this.current708Packet,h=C.data,m=null,p=null,v=0,S=h[v++];for(C.seq=S>>6,C.sizeCode=S&63;v<h.length;v++)S=h[v++],m=S>>5,p=S&31,m===7&&p>0&&(S=h[v++],m=S),this.pushServiceBlock(m,v,p),p>0&&(v+=p-1)},je.prototype.pushServiceBlock=function(C,h,m){var p,v=h,S=this.current708Packet.data,b=this.services[C];for(b||(b=this.initService(C,v));v<h+m&&v<S.length;v++)p=S[v],Nu(p)?v=this.handleText(v,b):p===24?v=this.multiByteCharacter(v,b):p===16?v=this.extendedCommands(v,b):128<=p&&p<=135?v=this.setCurrentWindow(v,b):152<=p&&p<=159?v=this.defineWindow(v,b):p===136?v=this.clearWindows(v,b):p===140?v=this.deleteWindows(v,b):p===137?v=this.displayWindows(v,b):p===138?v=this.hideWindows(v,b):p===139?v=this.toggleWindows(v,b):p===151?v=this.setWindowAttributes(v,b):p===144?v=this.setPenAttributes(v,b):p===145?v=this.setPenColor(v,b):p===146?v=this.setPenLocation(v,b):p===143?b=this.reset(v,b):p===8?b.currentWindow.backspace():p===12?b.currentWindow.clearText():p===13?b.currentWindow.pendingNewLine=!0:p===14?b.currentWindow.clearText():p===141&&v++},je.prototype.extendedCommands=function(C,h){var m=this.current708Packet.data,p=m[++C];return Nu(p)&&(C=this.handleText(C,h,{isExtended:!0})),C},je.prototype.getPts=function(C){return this.current708Packet.ptsVals[Math.floor(C/2)]},je.prototype.initService=function(C,h){var p="SERVICE"+C,m=this,p,v;return p in this.serviceEncodings&&(v=this.serviceEncodings[p]),this.services[C]=new Mu(C,v,m),this.services[C].init(this.getPts(h),function(S){m.flushDisplayed(S,m.services[C])}),this.services[C]},je.prototype.handleText=function(C,h,m){var p=m&&m.isExtended,v=m&&m.isMultiByte,S=this.current708Packet.data,b=p?4096:0,P=S[C],O=S[C+1],U=h.currentWindow,N,j;return h.textDecoder_&&!p?(v?(j=[P,O],C++):j=[P],N=h.textDecoder_.decode(new Uint8Array(j))):N=sw(b|P),U.pendingNewLine&&!U.isEmpty()&&U.newLine(this.getPts(C)),U.pendingNewLine=!1,U.addText(N),C},je.prototype.multiByteCharacter=function(C,h){var m=this.current708Packet.data,p=m[C+1],v=m[C+2];return Nu(p)&&Nu(v)&&(C=this.handleText(++C,h,{isMultiByte:!0})),C},je.prototype.setCurrentWindow=function(C,h){var m=this.current708Packet.data,p=m[C],v=p&7;return h.setCurrentWindow(v),C},je.prototype.defineWindow=function(C,h){var m=this.current708Packet.data,p=m[C],v=p&7;h.setCurrentWindow(v);var S=h.currentWindow;return p=m[++C],S.visible=(p&32)>>5,S.rowLock=(p&16)>>4,S.columnLock=(p&8)>>3,S.priority=p&7,p=m[++C],S.relativePositioning=(p&128)>>7,S.anchorVertical=p&127,p=m[++C],S.anchorHorizontal=p,p=m[++C],S.anchorPoint=(p&240)>>4,S.rowCount=p&15,p=m[++C],S.columnCount=p&63,p=m[++C],S.windowStyle=(p&56)>>3,S.penStyle=p&7,S.virtualRowCount=S.rowCount+1,C},je.prototype.setWindowAttributes=function(C,h){var m=this.current708Packet.data,p=m[C],v=h.currentWindow.winAttr;return p=m[++C],v.fillOpacity=(p&192)>>6,v.fillRed=(p&48)>>4,v.fillGreen=(p&12)>>2,v.fillBlue=p&3,p=m[++C],v.borderType=(p&192)>>6,v.borderRed=(p&48)>>4,v.borderGreen=(p&12)>>2,v.borderBlue=p&3,p=m[++C],v.borderType+=(p&128)>>5,v.wordWrap=(p&64)>>6,v.printDirection=(p&48)>>4,v.scrollDirection=(p&12)>>2,v.justify=p&3,p=m[++C],v.effectSpeed=(p&240)>>4,v.effectDirection=(p&12)>>2,v.displayEffect=p&3,C},je.prototype.flushDisplayed=function(C,h){for(var m=[],p=0;p<8;p++)h.windows[p].visible&&!h.windows[p].isEmpty()&&m.push(h.windows[p].getText());h.endPts=C,h.text=m.join(`

`),this.pushCaption(h),h.startPts=C},je.prototype.pushCaption=function(C){C.text!==""&&(this.trigger("data",{startPts:C.startPts,endPts:C.endPts,text:C.text,stream:"cc708_"+C.serviceNum}),C.text="",C.startPts=C.endPts)},je.prototype.displayWindows=function(C,h){var m=this.current708Packet.data,p=m[++C],v=this.getPts(C);this.flushDisplayed(v,h);for(var S=0;S<8;S++)p&1<<S&&(h.windows[S].visible=1);return C},je.prototype.hideWindows=function(C,h){var m=this.current708Packet.data,p=m[++C],v=this.getPts(C);this.flushDisplayed(v,h);for(var S=0;S<8;S++)p&1<<S&&(h.windows[S].visible=0);return C},je.prototype.toggleWindows=function(C,h){var m=this.current708Packet.data,p=m[++C],v=this.getPts(C);this.flushDisplayed(v,h);for(var S=0;S<8;S++)p&1<<S&&(h.windows[S].visible^=1);return C},je.prototype.clearWindows=function(C,h){var m=this.current708Packet.data,p=m[++C],v=this.getPts(C);this.flushDisplayed(v,h);for(var S=0;S<8;S++)p&1<<S&&h.windows[S].clearText();return C},je.prototype.deleteWindows=function(C,h){var m=this.current708Packet.data,p=m[++C],v=this.getPts(C);this.flushDisplayed(v,h);for(var S=0;S<8;S++)p&1<<S&&h.windows[S].reset();return C},je.prototype.setPenAttributes=function(C,h){var m=this.current708Packet.data,p=m[C],v=h.currentWindow.penAttr;return p=m[++C],v.textTag=(p&240)>>4,v.offset=(p&12)>>2,v.penSize=p&3,p=m[++C],v.italics=(p&128)>>7,v.underline=(p&64)>>6,v.edgeType=(p&56)>>3,v.fontStyle=p&7,C},je.prototype.setPenColor=function(C,h){var m=this.current708Packet.data,p=m[C],v=h.currentWindow.penColor;return p=m[++C],v.fgOpacity=(p&192)>>6,v.fgRed=(p&48)>>4,v.fgGreen=(p&12)>>2,v.fgBlue=p&3,p=m[++C],v.bgOpacity=(p&192)>>6,v.bgRed=(p&48)>>4,v.bgGreen=(p&12)>>2,v.bgBlue=p&3,p=m[++C],v.edgeRed=(p&48)>>4,v.edgeGreen=(p&12)>>2,v.edgeBlue=p&3,C},je.prototype.setPenLocation=function(C,h){var m=this.current708Packet.data,p=m[C],v=h.currentWindow.penLoc;return h.currentWindow.pendingNewLine=!0,p=m[++C],v.row=p&15,p=m[++C],v.column=p&63,C},je.prototype.reset=function(C,h){var m=this.getPts(C);return this.flushDisplayed(m,h),this.initService(h.serviceNum,C)};var ow={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Uu=function(h){return h===null?"":(h=ow[h]||h,String.fromCharCode(h))},Bu=14,uw=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Ai=function(){for(var h=[],m=Bu+1;m--;)h.push("");return h},Je=function C(h,m){C.prototype.init.call(this),this.field_=h||0,this.dataChannel_=m||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(p){var v,S,b,P,O;if(v=p.ccData&32639,v===this.lastControlCode_){this.lastControlCode_=null;return}if((v&61440)===4096?this.lastControlCode_=v:v!==this.PADDING_&&(this.lastControlCode_=null),b=v>>>8,P=v&255,v!==this.PADDING_)if(v===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(v===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(p.pts),this.flushDisplayed(p.pts),S=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=S,this.startPts_=p.pts;else if(v===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(p.pts);else if(v===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(p.pts);else if(v===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(p.pts);else if(v===this.CARRIAGE_RETURN_)this.clearFormatting(p.pts),this.flushDisplayed(p.pts),this.shiftRowsUp_(),this.startPts_=p.pts;else if(v===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(v===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(p.pts),this.displayed_=Ai();else if(v===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Ai();else if(v===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(p.pts),this.displayed_=Ai()),this.mode_="paintOn",this.startPts_=p.pts;else if(this.isSpecialCharacter(b,P))b=(b&3)<<8,O=Uu(b|P),this[this.mode_](p.pts,O),this.column_++;else if(this.isExtCharacter(b,P))this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),b=(b&3)<<8,O=Uu(b|P),this[this.mode_](p.pts,O),this.column_++;else if(this.isMidRowCode(b,P))this.clearFormatting(p.pts),this[this.mode_](p.pts," "),this.column_++,(P&14)===14&&this.addFormatting(p.pts,["i"]),(P&1)===1&&this.addFormatting(p.pts,["u"]);else if(this.isOffsetControlCode(b,P))this.column_+=P&3;else if(this.isPAC(b,P)){var U=uw.indexOf(v&7968);this.mode_==="rollUp"&&(U-this.rollUpRows_+1<0&&(U=this.rollUpRows_-1),this.setRollUp(p.pts,U)),U!==this.row_&&(this.clearFormatting(p.pts),this.row_=U),P&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(p.pts,["u"]),(v&16)===16&&(this.column_=((v&14)>>1)*4),this.isColorPAC(P)&&(P&14)===14&&this.addFormatting(p.pts,["i"])}else this.isNormalChar(b)&&(P===0&&(P=null),O=Uu(b),O+=Uu(P),this[this.mode_](p.pts,O),this.column_+=O.length)}};Je.prototype=new e,Je.prototype.flushDisplayed=function(C){var h=this.displayed_.map(function(m,p){try{return m.trim()}catch{return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+p+"."}),""}},this).join(`
`).replace(/^\n+|\n+$/g,"");h.length&&this.trigger("data",{startPts:this.startPts_,endPts:C,text:h,stream:this.name_})},Je.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Ai(),this.nonDisplayed_=Ai(),this.lastControlCode_=null,this.column_=0,this.row_=Bu,this.rollUpRows_=2,this.formatting_=[]},Je.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},Je.prototype.isSpecialCharacter=function(C,h){return C===this.EXT_&&h>=48&&h<=63},Je.prototype.isExtCharacter=function(C,h){return(C===this.EXT_+1||C===this.EXT_+2)&&h>=32&&h<=63},Je.prototype.isMidRowCode=function(C,h){return C===this.EXT_&&h>=32&&h<=47},Je.prototype.isOffsetControlCode=function(C,h){return C===this.OFFSET_&&h>=33&&h<=35},Je.prototype.isPAC=function(C,h){return C>=this.BASE_&&C<this.BASE_+8&&h>=64&&h<=127},Je.prototype.isColorPAC=function(C){return C>=64&&C<=79||C>=96&&C<=127},Je.prototype.isNormalChar=function(C){return C>=32&&C<=127},Je.prototype.setRollUp=function(C,h){if(this.mode_!=="rollUp"&&(this.row_=Bu,this.mode_="rollUp",this.flushDisplayed(C),this.nonDisplayed_=Ai(),this.displayed_=Ai()),h!==void 0&&h!==this.row_)for(var m=0;m<this.rollUpRows_;m++)this.displayed_[h-m]=this.displayed_[this.row_-m],this.displayed_[this.row_-m]="";h===void 0&&(h=this.row_),this.topRow_=h-this.rollUpRows_+1},Je.prototype.addFormatting=function(C,h){this.formatting_=this.formatting_.concat(h);var m=h.reduce(function(p,v){return p+"<"+v+">"},"");this[this.mode_](C,m)},Je.prototype.clearFormatting=function(C){if(!!this.formatting_.length){var h=this.formatting_.reverse().reduce(function(m,p){return m+"</"+p+">"},"");this.formatting_=[],this[this.mode_](C,h)}},Je.prototype.popOn=function(C,h){var m=this.nonDisplayed_[this.row_];m+=h,this.nonDisplayed_[this.row_]=m},Je.prototype.rollUp=function(C,h){var m=this.displayed_[this.row_];m+=h,this.displayed_[this.row_]=m},Je.prototype.shiftRowsUp_=function(){var C;for(C=0;C<this.topRow_;C++)this.displayed_[C]="";for(C=this.row_+1;C<Bu+1;C++)this.displayed_[C]="";for(C=this.topRow_;C<this.row_;C++)this.displayed_[C]=this.displayed_[C+1];this.displayed_[this.row_]=""},Je.prototype.paintOn=function(C,h){var m=this.displayed_[this.row_];m+=h,this.displayed_[this.row_]=m};var Vu={CaptionStream:fr,Cea608Stream:Je,Cea708Stream:je},kt={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},lw=8589934592,cw=4294967296,Ug="shared",of=function(h,m){var p=1;for(h>m&&(p=-1);Math.abs(m-h)>cw;)h+=p*lw;return h},Bg=function C(h){var m,p;C.prototype.init.call(this),this.type_=h||Ug,this.push=function(v){this.type_!==Ug&&v.type!==this.type_||(p===void 0&&(p=v.dts),v.dts=of(v.dts,p),v.pts=of(v.pts,p),m=v.dts,this.trigger("data",v))},this.flush=function(){p=m,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){p=void 0,m=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Bg.prototype=new e;var Vg={TimestampRolloverStream:Bg,handleRollover:of},jg=function(h,m,p){var v,S="";for(v=m;v<p;v++)S+="%"+("00"+h[v].toString(16)).slice(-2);return S},ju=function(h,m,p){return decodeURIComponent(jg(h,m,p))},dw=function(h,m,p){return unescape(jg(h,m,p))},zu=function(h){return h[0]<<21|h[1]<<14|h[2]<<7|h[3]},zg={TXXX:function(h){var m;if(h.data[0]===3){for(m=1;m<h.data.length;m++)if(h.data[m]===0){h.description=ju(h.data,1,m),h.value=ju(h.data,m+1,h.data.length).replace(/\0*$/,"");break}h.data=h.value}},WXXX:function(h){var m;if(h.data[0]===3){for(m=1;m<h.data.length;m++)if(h.data[m]===0){h.description=ju(h.data,1,m),h.url=ju(h.data,m+1,h.data.length);break}}},PRIV:function(h){var m;for(m=0;m<h.data.length;m++)if(h.data[m]===0){h.owner=dw(h.data,0,m);break}h.privateData=h.data.subarray(m+1),h.data=h.privateData}},Hu;Hu=function(h){var m={descriptor:h&&h.descriptor},p=0,v=[],S=0,b;if(Hu.prototype.init.call(this),this.dispatchType=kt.METADATA_STREAM_TYPE.toString(16),m.descriptor)for(b=0;b<m.descriptor.length;b++)this.dispatchType+=("00"+m.descriptor[b].toString(16)).slice(-2);this.push=function(P){var O,U,N,j,q,ne;if(P.type==="timed-metadata"){if(P.dataAlignmentIndicator&&(S=0,v.length=0),v.length===0&&(P.data.length<10||P.data[0]!=="I".charCodeAt(0)||P.data[1]!=="D".charCodeAt(0)||P.data[2]!=="3".charCodeAt(0))){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(v.push(P),S+=P.data.byteLength,v.length===1&&(p=zu(P.data.subarray(6,10)),p+=10),!(S<p)){for(O={data:new Uint8Array(p),frames:[],pts:v[0].pts,dts:v[0].dts},q=0;q<p;)O.data.set(v[0].data.subarray(0,p-q),q),q+=v[0].data.byteLength,S-=v[0].data.byteLength,v.shift();U=10,O.data[5]&64&&(U+=4,U+=zu(O.data.subarray(10,14)),p-=zu(O.data.subarray(16,20)));do{if(N=zu(O.data.subarray(U+4,U+8)),N<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});return}if(ne=String.fromCharCode(O.data[U],O.data[U+1],O.data[U+2],O.data[U+3]),j={id:ne,data:O.data.subarray(U+10,U+N+10)},j.key=j.id,zg[j.id]&&(zg[j.id](j),j.owner==="com.apple.streaming.transportStreamTimestamp")){var de=j.data,ee=(de[3]&1)<<30|de[4]<<22|de[5]<<14|de[6]<<6|de[7]>>>2;ee*=4,ee+=de[7]&3,j.timeStamp=ee,O.pts===void 0&&O.dts===void 0&&(O.pts=j.timeStamp,O.dts=j.timeStamp),this.trigger("timestamp",j)}O.frames.push(j),U+=10,U+=N}while(U<p);this.trigger("data",O)}}}},Hu.prototype=new e;var fw=Hu,hw=Vg.TimestampRolloverStream,$u,Us,Wu,ha=188,uf=71;$u=function(){var h=new Uint8Array(ha),m=0;$u.prototype.init.call(this),this.push=function(p){var v=0,S=ha,b;for(m?(b=new Uint8Array(p.byteLength+m),b.set(h.subarray(0,m)),b.set(p,m),m=0):b=p;S<b.byteLength;){if(b[v]===uf&&b[S]===uf){this.trigger("data",b.subarray(v,S)),v+=ha,S+=ha;continue}v++,S++}v<b.byteLength&&(h.set(b.subarray(v),0),m=b.byteLength-v)},this.flush=function(){m===ha&&h[0]===uf&&(this.trigger("data",h),m=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){m=0,this.trigger("reset")}},$u.prototype=new e,Us=function(){var h,m,p,v;Us.prototype.init.call(this),v=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,h=function(b,P){var O=0;P.payloadUnitStartIndicator&&(O+=b[O]+1),P.type==="pat"?m(b.subarray(O),P):p(b.subarray(O),P)},m=function(b,P){P.section_number=b[7],P.last_section_number=b[8],v.pmtPid=(b[10]&31)<<8|b[11],P.pmtPid=v.pmtPid},p=function(b,P){var O,U,N,j;if(!!(b[5]&1)){for(v.programMapTable={video:null,audio:null,"timed-metadata":{}},O=(b[1]&15)<<8|b[2],U=3+O-4,N=(b[10]&15)<<8|b[11],j=12+N;j<U;){var q=b[j],ne=(b[j+1]&31)<<8|b[j+2];q===kt.H264_STREAM_TYPE&&v.programMapTable.video===null?v.programMapTable.video=ne:q===kt.ADTS_STREAM_TYPE&&v.programMapTable.audio===null?v.programMapTable.audio=ne:q===kt.METADATA_STREAM_TYPE&&(v.programMapTable["timed-metadata"][ne]=q),j+=((b[j+3]&15)<<8|b[j+4])+5}P.programMapTable=v.programMapTable}},this.push=function(S){var b={},P=4;if(b.payloadUnitStartIndicator=!!(S[1]&64),b.pid=S[1]&31,b.pid<<=8,b.pid|=S[2],(S[3]&48)>>>4>1&&(P+=S[P]+1),b.pid===0)b.type="pat",h(S.subarray(P),b),this.trigger("data",b);else if(b.pid===this.pmtPid)for(b.type="pmt",h(S.subarray(P),b),this.trigger("data",b);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([S,P,b]):this.processPes_(S,P,b)},this.processPes_=function(S,b,P){P.pid===this.programMapTable.video?P.streamType=kt.H264_STREAM_TYPE:P.pid===this.programMapTable.audio?P.streamType=kt.ADTS_STREAM_TYPE:P.streamType=this.programMapTable["timed-metadata"][P.pid],P.type="pes",P.data=S.subarray(b),this.trigger("data",P)}},Us.prototype=new e,Us.STREAM_TYPES={h264:27,adts:15},Wu=function(){var h=this,m=!1,p={data:[],size:0},v={data:[],size:0},S={data:[],size:0},b,P=function(N,j){var q,ne=N[0]<<16|N[1]<<8|N[2];j.data=new Uint8Array,ne===1&&(j.packetLength=6+(N[4]<<8|N[5]),j.dataAlignmentIndicator=(N[6]&4)!==0,q=N[7],q&192&&(j.pts=(N[9]&14)<<27|(N[10]&255)<<20|(N[11]&254)<<12|(N[12]&255)<<5|(N[13]&254)>>>3,j.pts*=4,j.pts+=(N[13]&6)>>>1,j.dts=j.pts,q&64&&(j.dts=(N[14]&14)<<27|(N[15]&255)<<20|(N[16]&254)<<12|(N[17]&255)<<5|(N[18]&254)>>>3,j.dts*=4,j.dts+=(N[18]&6)>>>1)),j.data=N.subarray(9+N[8]))},O=function(N,j,q){var ne=new Uint8Array(N.size),de={type:j},ee=0,ye=0,mt=!1,$t;if(!(!N.data.length||N.size<9)){for(de.trackId=N.data[0].pid,ee=0;ee<N.data.length;ee++)$t=N.data[ee],ne.set($t.data,ye),ye+=$t.data.byteLength;P(ne,de),mt=j==="video"||de.packetLength<=N.size,(q||mt)&&(N.size=0,N.data.length=0),mt&&h.trigger("data",de)}};Wu.prototype.init.call(this),this.push=function(U){({pat:function(){},pes:function(){var j,q;switch(U.streamType){case kt.H264_STREAM_TYPE:j=p,q="video";break;case kt.ADTS_STREAM_TYPE:j=v,q="audio";break;case kt.METADATA_STREAM_TYPE:j=S,q="timed-metadata";break;default:return}U.payloadUnitStartIndicator&&O(j,q,!0),j.data.push(U),j.size+=U.data.byteLength},pmt:function(){var j={type:"metadata",tracks:[]};b=U.programMapTable,b.video!==null&&j.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+b.video,codec:"avc",type:"video"}),b.audio!==null&&j.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+b.audio,codec:"adts",type:"audio"}),m=!0,h.trigger("data",j)}})[U.type]()},this.reset=function(){p.size=0,p.data.length=0,v.size=0,v.data.length=0,this.trigger("reset")},this.flushStreams_=function(){O(p,"video"),O(v,"audio"),O(S,"timed-metadata")},this.flush=function(){if(!m&&b){var U={type:"metadata",tracks:[]};b.video!==null&&U.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+b.video,codec:"avc",type:"video"}),b.audio!==null&&U.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+b.audio,codec:"adts",type:"audio"}),h.trigger("data",U)}m=!1,this.flushStreams_(),this.trigger("done")}},Wu.prototype=new e;var Hg={PAT_PID:0,MP2T_PACKET_LENGTH:ha,TransportPacketStream:$u,TransportParseStream:Us,ElementaryStream:Wu,TimestampRolloverStream:hw,CaptionStream:Vu.CaptionStream,Cea608Stream:Vu.Cea608Stream,Cea708Stream:Vu.Cea708Stream,MetadataStream:fw};for(var lf in kt)kt.hasOwnProperty(lf)&&(Hg[lf]=kt[lf]);var vn=Hg,pw=Ie.ONE_SECOND_IN_TS,qu,$g=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];qu=function(h){var m,p=0;qu.prototype.init.call(this),this.skipWarn_=function(v,S){this.trigger("log",{level:"warn",message:"adts skiping bytes "+v+" to "+S+" in frame "+p+" outside syncword"})},this.push=function(v){var S=0,b,P,O,U,N;if(h||(p=0),v.type==="audio"){m&&m.length?(O=m,m=new Uint8Array(O.byteLength+v.data.byteLength),m.set(O),m.set(v.data,O.byteLength)):m=v.data;for(var j;S+7<m.length;){if(m[S]!==255||(m[S+1]&246)!==240){typeof j!="number"&&(j=S),S++;continue}if(typeof j=="number"&&(this.skipWarn_(j,S),j=null),P=(~m[S+1]&1)*2,b=(m[S+3]&3)<<11|m[S+4]<<3|(m[S+5]&224)>>5,U=((m[S+6]&3)+1)*1024,N=U*pw/$g[(m[S+2]&60)>>>2],m.byteLength-S<b)break;this.trigger("data",{pts:v.pts+p*N,dts:v.dts+p*N,sampleCount:U,audioobjecttype:(m[S+2]>>>6&3)+1,channelcount:(m[S+2]&1)<<2|(m[S+3]&192)>>>6,samplerate:$g[(m[S+2]&60)>>>2],samplingfrequencyindex:(m[S+2]&60)>>>2,samplesize:16,data:m.subarray(S+7+P,S+b)}),p++,S+=b}typeof j=="number"&&(this.skipWarn_(j,S),j=null),m=m.subarray(S)}},this.flush=function(){p=0,this.trigger("done")},this.reset=function(){m=void 0,this.trigger("reset")},this.endTimeline=function(){m=void 0,this.trigger("endedtimeline")}},qu.prototype=new e;var Wg=qu,qg;qg=function(h){var m=h.byteLength,p=0,v=0;this.length=function(){return 8*m},this.bitsAvailable=function(){return 8*m+v},this.loadWord=function(){var S=h.byteLength-m,b=new Uint8Array(4),P=Math.min(4,m);if(P===0)throw new Error("no bytes available");b.set(h.subarray(S,S+P)),p=new DataView(b.buffer).getUint32(0),v=P*8,m-=P},this.skipBits=function(S){var b;v>S?(p<<=S,v-=S):(S-=v,b=Math.floor(S/8),S-=b*8,m-=b,this.loadWord(),p<<=S,v-=S)},this.readBits=function(S){var b=Math.min(v,S),P=p>>>32-b;return v-=b,v>0?p<<=b:m>0&&this.loadWord(),b=S-b,b>0?P<<b|this.readBits(b):P},this.skipLeadingZeros=function(){var S;for(S=0;S<v;++S)if((p&2147483648>>>S)!==0)return p<<=S,v-=S,S;return this.loadWord(),S+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var S=this.skipLeadingZeros();return this.readBits(S+1)-1},this.readExpGolomb=function(){var S=this.readUnsignedExpGolomb();return 1&S?1+S>>>1:-1*(S>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var mw=qg,Gu,Bs,Gg;Bs=function(){var h=0,m,p;Bs.prototype.init.call(this),this.push=function(v){var S;p?(S=new Uint8Array(p.byteLength+v.data.byteLength),S.set(p),S.set(v.data,p.byteLength),p=S):p=v.data;for(var b=p.byteLength;h<b-3;h++)if(p[h+2]===1){m=h+5;break}for(;m<b;)switch(p[m]){case 0:if(p[m-1]!==0){m+=2;break}else if(p[m-2]!==0){m++;break}h+3!==m-2&&this.trigger("data",p.subarray(h+3,m-2));do m++;while(p[m]!==1&&m<b);h=m-2,m+=3;break;case 1:if(p[m-1]!==0||p[m-2]!==0){m+=3;break}this.trigger("data",p.subarray(h+3,m-2)),h=m-2,m+=3;break;default:m+=3;break}p=p.subarray(h),m-=h,h=0},this.reset=function(){p=null,h=0,this.trigger("reset")},this.flush=function(){p&&p.byteLength>3&&this.trigger("data",p.subarray(h+3)),p=null,h=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},Bs.prototype=new e,Gg={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},Gu=function(){var h=new Bs,m,p,v,S,b,P,O;Gu.prototype.init.call(this),m=this,this.push=function(U){U.type==="video"&&(p=U.trackId,v=U.pts,S=U.dts,h.push(U))},h.on("data",function(U){var N={trackId:p,pts:v,dts:S,data:U,nalUnitTypeCode:U[0]&31};switch(N.nalUnitTypeCode){case 5:N.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:N.nalUnitType="sei_rbsp",N.escapedRBSP=b(U.subarray(1));break;case 7:N.nalUnitType="seq_parameter_set_rbsp",N.escapedRBSP=b(U.subarray(1)),N.config=P(N.escapedRBSP);break;case 8:N.nalUnitType="pic_parameter_set_rbsp";break;case 9:N.nalUnitType="access_unit_delimiter_rbsp";break}m.trigger("data",N)}),h.on("done",function(){m.trigger("done")}),h.on("partialdone",function(){m.trigger("partialdone")}),h.on("reset",function(){m.trigger("reset")}),h.on("endedtimeline",function(){m.trigger("endedtimeline")}),this.flush=function(){h.flush()},this.partialFlush=function(){h.partialFlush()},this.reset=function(){h.reset()},this.endTimeline=function(){h.endTimeline()},O=function(N,j){var q=8,ne=8,de,ee;for(de=0;de<N;de++)ne!==0&&(ee=j.readExpGolomb(),ne=(q+ee+256)%256),q=ne===0?q:ne},b=function(N){for(var j=N.byteLength,q=[],ne=1,de,ee;ne<j-2;)N[ne]===0&&N[ne+1]===0&&N[ne+2]===3?(q.push(ne+2),ne+=2):ne++;if(q.length===0)return N;de=j-q.length,ee=new Uint8Array(de);var ye=0;for(ne=0;ne<de;ye++,ne++)ye===q[0]&&(ye++,q.shift()),ee[ne]=N[ye];return ee},P=function(N){var j=0,q=0,ne=0,de=0,ee,ye,mt,$t,Li,mf,f0,h0,p0,vf,m0,at=[1,1],v0,Fi;if(ee=new mw(N),ye=ee.readUnsignedByte(),$t=ee.readUnsignedByte(),mt=ee.readUnsignedByte(),ee.skipUnsignedExpGolomb(),Gg[ye]&&(Li=ee.readUnsignedExpGolomb(),Li===3&&ee.skipBits(1),ee.skipUnsignedExpGolomb(),ee.skipUnsignedExpGolomb(),ee.skipBits(1),ee.readBoolean()))for(m0=Li!==3?8:12,Fi=0;Fi<m0;Fi++)ee.readBoolean()&&(Fi<6?O(16,ee):O(64,ee));if(ee.skipUnsignedExpGolomb(),mf=ee.readUnsignedExpGolomb(),mf===0)ee.readUnsignedExpGolomb();else if(mf===1)for(ee.skipBits(1),ee.skipExpGolomb(),ee.skipExpGolomb(),f0=ee.readUnsignedExpGolomb(),Fi=0;Fi<f0;Fi++)ee.skipExpGolomb();if(ee.skipUnsignedExpGolomb(),ee.skipBits(1),h0=ee.readUnsignedExpGolomb(),p0=ee.readUnsignedExpGolomb(),vf=ee.readBits(1),vf===0&&ee.skipBits(1),ee.skipBits(1),ee.readBoolean()&&(j=ee.readUnsignedExpGolomb(),q=ee.readUnsignedExpGolomb(),ne=ee.readUnsignedExpGolomb(),de=ee.readUnsignedExpGolomb()),ee.readBoolean()&&ee.readBoolean()){switch(v0=ee.readUnsignedByte(),v0){case 1:at=[1,1];break;case 2:at=[12,11];break;case 3:at=[10,11];break;case 4:at=[16,11];break;case 5:at=[40,33];break;case 6:at=[24,11];break;case 7:at=[20,11];break;case 8:at=[32,11];break;case 9:at=[80,33];break;case 10:at=[18,11];break;case 11:at=[15,11];break;case 12:at=[64,33];break;case 13:at=[160,99];break;case 14:at=[4,3];break;case 15:at=[3,2];break;case 16:at=[2,1];break;case 255:{at=[ee.readUnsignedByte()<<8|ee.readUnsignedByte(),ee.readUnsignedByte()<<8|ee.readUnsignedByte()];break}}at&&at[0]/at[1]}return{profileIdc:ye,levelIdc:mt,profileCompatibility:$t,width:(h0+1)*16-j*2-q*2,height:(2-vf)*(p0+1)*16-ne*2-de*2,sarRatio:at}}},Gu.prototype=new e;var vw={H264Stream:Gu,NalByteStream:Bs},gw=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Kg=function(h,m){var p=h[m+6]<<21|h[m+7]<<14|h[m+8]<<7|h[m+9],v=h[m+5],S=(v&16)>>4;return p=p>=0?p:0,S?p+20:p+10},yw=function C(h,m){return h.length-m<10||h[m]!=="I".charCodeAt(0)||h[m+1]!=="D".charCodeAt(0)||h[m+2]!=="3".charCodeAt(0)?m:(m+=Kg(h,m),C(h,m))},_w=function(h){var m=yw(h,0);return h.length>=m+2&&(h[m]&255)===255&&(h[m+1]&240)===240&&(h[m+1]&22)===16},Xg=function(h){return h[0]<<21|h[1]<<14|h[2]<<7|h[3]},Tw=function(h,m,p){var v,S="";for(v=m;v<p;v++)S+="%"+("00"+h[v].toString(16)).slice(-2);return S},xw=function(h,m,p){return unescape(Tw(h,m,p))},Sw=function(h,m){var p=(h[m+5]&224)>>5,v=h[m+4]<<3,S=h[m+3]&3<<11;return S|v|p},bw=function(h,m){return h[m]==="I".charCodeAt(0)&&h[m+1]==="D".charCodeAt(0)&&h[m+2]==="3".charCodeAt(0)?"timed-metadata":h[m]&!0&&(h[m+1]&240)===240?"audio":null},Ew=function(h){for(var m=0;m+5<h.length;){if(h[m]!==255||(h[m+1]&246)!==240){m++;continue}return gw[(h[m+2]&60)>>>2]}return null},Cw=function(h){var m,p,v,S;m=10,h[5]&64&&(m+=4,m+=Xg(h.subarray(10,14)));do{if(p=Xg(h.subarray(m+4,m+8)),p<1)return null;if(S=String.fromCharCode(h[m],h[m+1],h[m+2],h[m+3]),S==="PRIV"){v=h.subarray(m+10,m+p+10);for(var b=0;b<v.byteLength;b++)if(v[b]===0){var P=xw(v,0,b);if(P==="com.apple.streaming.transportStreamTimestamp"){var O=v.subarray(b+1),U=(O[3]&1)<<30|O[4]<<22|O[5]<<14|O[6]<<6|O[7]>>>2;return U*=4,U+=O[7]&3,U}break}}m+=10,m+=p}while(m<h.byteLength);return null},Ku={isLikelyAacData:_w,parseId3TagSize:Kg,parseAdtsSize:Sw,parseType:bw,parseSampleRate:Ew,parseAacTimestamp:Cw},Xu;Xu=function(){var h=new Uint8Array,m=0;Xu.prototype.init.call(this),this.setTimestamp=function(p){m=p},this.push=function(p){var v=0,S=0,b,P,O,U;for(h.length?(U=h.length,h=new Uint8Array(p.byteLength+U),h.set(h.subarray(0,U)),h.set(p,U)):h=p;h.length-S>=3;){if(h[S]==="I".charCodeAt(0)&&h[S+1]==="D".charCodeAt(0)&&h[S+2]==="3".charCodeAt(0)){if(h.length-S<10||(v=Ku.parseId3TagSize(h,S),S+v>h.length))break;P={type:"timed-metadata",data:h.subarray(S,S+v)},this.trigger("data",P),S+=v;continue}else if((h[S]&255)===255&&(h[S+1]&240)===240){if(h.length-S<7||(v=Ku.parseAdtsSize(h,S),S+v>h.length))break;O={type:"audio",data:h.subarray(S,S+v),pts:m,dts:m},this.trigger("data",O),S+=v;continue}S++}b=h.length-S,b>0?h=h.subarray(S):h=new Uint8Array},this.reset=function(){h=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){h=new Uint8Array,this.trigger("endedtimeline")}},Xu.prototype=new e;var ww=Xu,kw=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],cf=kw,Pw=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],df=Pw,Aw=vw.H264Stream,Iw=Ku.isLikelyAacData,Ow=Ie.ONE_SECOND_IN_TS,Vs,pa,Qu,Ii,Dw=function(h,m){m.stream=h,this.trigger("log",m)},Qg=function(h,m){for(var p=Object.keys(m),v=0;v<p.length;v++){var S=p[v];S==="headOfPipeline"||!m[S].on||m[S].on("log",Dw.bind(h,S))}},Yg=function(h,m){var p;if(h.length!==m.length)return!1;for(p=0;p<h.length;p++)if(h[p]!==m[p])return!1;return!0},ff=function(h,m,p,v,S,b){var P=p-m,O=v-m,U=S-p;return{start:{dts:h,pts:h+P},end:{dts:h+O,pts:h+U},prependedContentDuration:b,baseMediaDecodeTime:h}};pa=function(h,m){var p=[],v,S=0,b=0,P=1/0;m=m||{},v=m.firstSequenceNumber||0,pa.prototype.init.call(this),this.push=function(O){Br.collectDtsInfo(h,O),h&&cf.forEach(function(U){h[U]=O[U]}),p.push(O)},this.setEarliestDts=function(O){S=O},this.setVideoBaseMediaDecodeTime=function(O){P=O},this.setAudioAppendStart=function(O){b=O},this.flush=function(){var O,U,N,j,q,ne,de;if(p.length===0){this.trigger("done","AudioSegmentStream");return}O=Ru.trimAdtsFramesByEarliestDts(p,h,S),h.baseMediaDecodeTime=Br.calculateTrackBaseMediaDecodeTime(h,m.keepOriginalTimestamps),de=Ru.prefixWithSilence(h,O,b,P),h.samples=Ru.generateSampleTable(O),N=xe.mdat(Ru.concatenateFrameData(O)),p=[],U=xe.moof(v,[h]),j=new Uint8Array(U.byteLength+N.byteLength),v++,j.set(U),j.set(N,U.byteLength),Br.clearDtsInfo(h),q=Math.ceil(Ow*1024/h.samplerate),O.length&&(ne=O.length*q,this.trigger("segmentTimingInfo",ff(Ie.audioTsToVideoTs(h.baseMediaDecodeTime,h.samplerate),O[0].dts,O[0].pts,O[0].dts+ne,O[0].pts+ne,de||0)),this.trigger("timingInfo",{start:O[0].pts,end:O[0].pts+ne})),this.trigger("data",{track:h,boxes:j}),this.trigger("done","AudioSegmentStream")},this.reset=function(){Br.clearDtsInfo(h),p=[],this.trigger("reset")}},pa.prototype=new e,Vs=function(h,m){var p,v=[],S=[],b,P;m=m||{},p=m.firstSequenceNumber||0,Vs.prototype.init.call(this),delete h.minPTS,this.gopCache_=[],this.push=function(O){Br.collectDtsInfo(h,O),O.nalUnitType==="seq_parameter_set_rbsp"&&!b&&(b=O.config,h.sps=[O.data],df.forEach(function(U){h[U]=b[U]},this)),O.nalUnitType==="pic_parameter_set_rbsp"&&!P&&(P=O.data,h.pps=[O.data]),v.push(O)},this.flush=function(){for(var O,U,N,j,q,ne,de=0,ee,ye;v.length&&v[0].nalUnitType!=="access_unit_delimiter_rbsp";)v.shift();if(v.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(O=zt.groupNalsIntoFrames(v),N=zt.groupFramesIntoGops(O),N[0][0].keyFrame||(U=this.getGopForFusion_(v[0],h),U?(de=U.duration,N.unshift(U),N.byteLength+=U.byteLength,N.nalCount+=U.nalCount,N.pts=U.pts,N.dts=U.dts,N.duration+=U.duration):N=zt.extendFirstKeyFrame(N)),S.length){var mt;if(m.alignGopsAtEnd?mt=this.alignGopsAtEnd_(N):mt=this.alignGopsAtStart_(N),!mt){this.gopCache_.unshift({gop:N.pop(),pps:h.pps,sps:h.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),v=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}Br.clearDtsInfo(h),N=mt}Br.collectDtsInfo(h,N),h.samples=zt.generateSampleTable(N),q=xe.mdat(zt.concatenateNalData(N)),h.baseMediaDecodeTime=Br.calculateTrackBaseMediaDecodeTime(h,m.keepOriginalTimestamps),this.trigger("processedGopsInfo",N.map(function($t){return{pts:$t.pts,dts:$t.dts,byteLength:$t.byteLength}})),ee=N[0],ye=N[N.length-1],this.trigger("segmentTimingInfo",ff(h.baseMediaDecodeTime,ee.dts,ee.pts,ye.dts+ye.duration,ye.pts+ye.duration,de)),this.trigger("timingInfo",{start:N[0].pts,end:N[N.length-1].pts+N[N.length-1].duration}),this.gopCache_.unshift({gop:N.pop(),pps:h.pps,sps:h.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),v=[],this.trigger("baseMediaDecodeTime",h.baseMediaDecodeTime),this.trigger("timelineStartInfo",h.timelineStartInfo),j=xe.moof(p,[h]),ne=new Uint8Array(j.byteLength+q.byteLength),p++,ne.set(j),ne.set(q,j.byteLength),this.trigger("data",{track:h,boxes:ne}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),v=[],this.gopCache_.length=0,S.length=0,this.trigger("reset")},this.resetStream_=function(){Br.clearDtsInfo(h),b=void 0,P=void 0},this.getGopForFusion_=function(O){var U=45e3,N=1e4,j=1/0,q,ne,de,ee,ye;for(ye=0;ye<this.gopCache_.length;ye++)ee=this.gopCache_[ye],de=ee.gop,!(!(h.pps&&Yg(h.pps[0],ee.pps[0]))||!(h.sps&&Yg(h.sps[0],ee.sps[0])))&&(de.dts<h.timelineStartInfo.dts||(q=O.dts-de.dts-de.duration,q>=-N&&q<=U&&(!ne||j>q)&&(ne=ee,j=q)));return ne?ne.gop:null},this.alignGopsAtStart_=function(O){var U,N,j,q,ne,de,ee,ye;for(ne=O.byteLength,de=O.nalCount,ee=O.duration,U=N=0;U<S.length&&N<O.length&&(j=S[U],q=O[N],j.pts!==q.pts);){if(q.pts>j.pts){U++;continue}N++,ne-=q.byteLength,de-=q.nalCount,ee-=q.duration}return N===0?O:N===O.length?null:(ye=O.slice(N),ye.byteLength=ne,ye.duration=ee,ye.nalCount=de,ye.pts=ye[0].pts,ye.dts=ye[0].dts,ye)},this.alignGopsAtEnd_=function(O){var U,N,j,q,ne,de;for(U=S.length-1,N=O.length-1,ne=null,de=!1;U>=0&&N>=0;){if(j=S[U],q=O[N],j.pts===q.pts){de=!0;break}if(j.pts>q.pts){U--;continue}U===S.length-1&&(ne=N),N--}if(!de&&ne===null)return null;var ee;if(de?ee=N:ee=ne,ee===0)return O;var ye=O.slice(ee),mt=ye.reduce(function($t,Li){return $t.byteLength+=Li.byteLength,$t.duration+=Li.duration,$t.nalCount+=Li.nalCount,$t},{byteLength:0,duration:0,nalCount:0});return ye.byteLength=mt.byteLength,ye.duration=mt.duration,ye.nalCount=mt.nalCount,ye.pts=ye[0].pts,ye.dts=ye[0].dts,ye},this.alignGopsWith=function(O){S=O}},Vs.prototype=new e,Ii=function(h,m){this.numberOfTracks=0,this.metadataStream=m,h=h||{},typeof h.remux<"u"?this.remuxTracks=!!h.remux:this.remuxTracks=!0,typeof h.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=h.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Ii.prototype.init.call(this),this.push=function(p){if(p.text)return this.pendingCaptions.push(p);if(p.frames)return this.pendingMetadata.push(p);this.pendingTracks.push(p.track),this.pendingBytes+=p.boxes.byteLength,p.track.type==="video"&&(this.videoTrack=p.track,this.pendingBoxes.push(p.boxes)),p.track.type==="audio"&&(this.audioTrack=p.track,this.pendingBoxes.unshift(p.boxes))}},Ii.prototype=new e,Ii.prototype.flush=function(C){var h=0,m={captions:[],captionStreams:{},metadata:[],info:{}},p,v,S,b=0,P;if(this.pendingTracks.length<this.numberOfTracks){if(C!=="VideoSegmentStream"&&C!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(b=this.videoTrack.timelineStartInfo.pts,df.forEach(function(O){m.info[O]=this.videoTrack[O]},this)):this.audioTrack&&(b=this.audioTrack.timelineStartInfo.pts,cf.forEach(function(O){m.info[O]=this.audioTrack[O]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?m.type=this.pendingTracks[0].type:m.type="combined",this.emittedTracks+=this.pendingTracks.length,S=xe.initSegment(this.pendingTracks),m.initSegment=new Uint8Array(S.byteLength),m.initSegment.set(S),m.data=new Uint8Array(this.pendingBytes),P=0;P<this.pendingBoxes.length;P++)m.data.set(this.pendingBoxes[P],h),h+=this.pendingBoxes[P].byteLength;for(P=0;P<this.pendingCaptions.length;P++)p=this.pendingCaptions[P],p.startTime=Ie.metadataTsToSeconds(p.startPts,b,this.keepOriginalTimestamps),p.endTime=Ie.metadataTsToSeconds(p.endPts,b,this.keepOriginalTimestamps),m.captionStreams[p.stream]=!0,m.captions.push(p);for(P=0;P<this.pendingMetadata.length;P++)v=this.pendingMetadata[P],v.cueTime=Ie.metadataTsToSeconds(v.pts,b,this.keepOriginalTimestamps),m.metadata.push(v);for(m.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",m),P=0;P<m.captions.length;P++)p=m.captions[P],this.trigger("caption",p);for(P=0;P<m.metadata.length;P++)v=m.metadata[P],this.trigger("id3Frame",v)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Ii.prototype.setRemux=function(C){this.remuxTracks=C},Qu=function(h){var m=this,p=!0,v,S;Qu.prototype.init.call(this),h=h||{},this.baseMediaDecodeTime=h.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var b={};this.transmuxPipeline_=b,b.type="aac",b.metadataStream=new vn.MetadataStream,b.aacStream=new ww,b.audioTimestampRolloverStream=new vn.TimestampRolloverStream("audio"),b.timedMetadataTimestampRolloverStream=new vn.TimestampRolloverStream("timed-metadata"),b.adtsStream=new Wg,b.coalesceStream=new Ii(h,b.metadataStream),b.headOfPipeline=b.aacStream,b.aacStream.pipe(b.audioTimestampRolloverStream).pipe(b.adtsStream),b.aacStream.pipe(b.timedMetadataTimestampRolloverStream).pipe(b.metadataStream).pipe(b.coalesceStream),b.metadataStream.on("timestamp",function(P){b.aacStream.setTimestamp(P.timeStamp)}),b.aacStream.on("data",function(P){P.type!=="timed-metadata"&&P.type!=="audio"||b.audioSegmentStream||(S=S||{timelineStartInfo:{baseMediaDecodeTime:m.baseMediaDecodeTime},codec:"adts",type:"audio"},b.coalesceStream.numberOfTracks++,b.audioSegmentStream=new pa(S,h),b.audioSegmentStream.on("log",m.getLogTrigger_("audioSegmentStream")),b.audioSegmentStream.on("timingInfo",m.trigger.bind(m,"audioTimingInfo")),b.adtsStream.pipe(b.audioSegmentStream).pipe(b.coalesceStream),m.trigger("trackinfo",{hasAudio:!!S,hasVideo:!!v}))}),b.coalesceStream.on("data",this.trigger.bind(this,"data")),b.coalesceStream.on("done",this.trigger.bind(this,"done")),Qg(this,b)},this.setupTsPipeline=function(){var b={};this.transmuxPipeline_=b,b.type="ts",b.metadataStream=new vn.MetadataStream,b.packetStream=new vn.TransportPacketStream,b.parseStream=new vn.TransportParseStream,b.elementaryStream=new vn.ElementaryStream,b.timestampRolloverStream=new vn.TimestampRolloverStream,b.adtsStream=new Wg,b.h264Stream=new Aw,b.captionStream=new vn.CaptionStream(h),b.coalesceStream=new Ii(h,b.metadataStream),b.headOfPipeline=b.packetStream,b.packetStream.pipe(b.parseStream).pipe(b.elementaryStream).pipe(b.timestampRolloverStream),b.timestampRolloverStream.pipe(b.h264Stream),b.timestampRolloverStream.pipe(b.adtsStream),b.timestampRolloverStream.pipe(b.metadataStream).pipe(b.coalesceStream),b.h264Stream.pipe(b.captionStream).pipe(b.coalesceStream),b.elementaryStream.on("data",function(P){var O;if(P.type==="metadata"){for(O=P.tracks.length;O--;)!v&&P.tracks[O].type==="video"?(v=P.tracks[O],v.timelineStartInfo.baseMediaDecodeTime=m.baseMediaDecodeTime):!S&&P.tracks[O].type==="audio"&&(S=P.tracks[O],S.timelineStartInfo.baseMediaDecodeTime=m.baseMediaDecodeTime);v&&!b.videoSegmentStream&&(b.coalesceStream.numberOfTracks++,b.videoSegmentStream=new Vs(v,h),b.videoSegmentStream.on("log",m.getLogTrigger_("videoSegmentStream")),b.videoSegmentStream.on("timelineStartInfo",function(U){S&&!h.keepOriginalTimestamps&&(S.timelineStartInfo=U,b.audioSegmentStream.setEarliestDts(U.dts-m.baseMediaDecodeTime))}),b.videoSegmentStream.on("processedGopsInfo",m.trigger.bind(m,"gopInfo")),b.videoSegmentStream.on("segmentTimingInfo",m.trigger.bind(m,"videoSegmentTimingInfo")),b.videoSegmentStream.on("baseMediaDecodeTime",function(U){S&&b.audioSegmentStream.setVideoBaseMediaDecodeTime(U)}),b.videoSegmentStream.on("timingInfo",m.trigger.bind(m,"videoTimingInfo")),b.h264Stream.pipe(b.videoSegmentStream).pipe(b.coalesceStream)),S&&!b.audioSegmentStream&&(b.coalesceStream.numberOfTracks++,b.audioSegmentStream=new pa(S,h),b.audioSegmentStream.on("log",m.getLogTrigger_("audioSegmentStream")),b.audioSegmentStream.on("timingInfo",m.trigger.bind(m,"audioTimingInfo")),b.audioSegmentStream.on("segmentTimingInfo",m.trigger.bind(m,"audioSegmentTimingInfo")),b.adtsStream.pipe(b.audioSegmentStream).pipe(b.coalesceStream)),m.trigger("trackinfo",{hasAudio:!!S,hasVideo:!!v})}}),b.coalesceStream.on("data",this.trigger.bind(this,"data")),b.coalesceStream.on("id3Frame",function(P){P.dispatchType=b.metadataStream.dispatchType,m.trigger("id3Frame",P)}),b.coalesceStream.on("caption",this.trigger.bind(this,"caption")),b.coalesceStream.on("done",this.trigger.bind(this,"done")),Qg(this,b)},this.setBaseMediaDecodeTime=function(b){var P=this.transmuxPipeline_;h.keepOriginalTimestamps||(this.baseMediaDecodeTime=b),S&&(S.timelineStartInfo.dts=void 0,S.timelineStartInfo.pts=void 0,Br.clearDtsInfo(S),P.audioTimestampRolloverStream&&P.audioTimestampRolloverStream.discontinuity()),v&&(P.videoSegmentStream&&(P.videoSegmentStream.gopCache_=[]),v.timelineStartInfo.dts=void 0,v.timelineStartInfo.pts=void 0,Br.clearDtsInfo(v),P.captionStream.reset()),P.timestampRolloverStream&&P.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(b){S&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(b)},this.setRemux=function(b){var P=this.transmuxPipeline_;h.remux=b,P&&P.coalesceStream&&P.coalesceStream.setRemux(b)},this.alignGopsWith=function(b){v&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(b)},this.getLogTrigger_=function(b){var P=this;return function(O){O.stream=b,P.trigger("log",O)}},this.push=function(b){if(p){var P=Iw(b);P&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!P&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),p=!1}this.transmuxPipeline_.headOfPipeline.push(b)},this.flush=function(){p=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Qu.prototype=new e;var Lw={Transmuxer:Qu,VideoSegmentStream:Vs,AudioSegmentStream:pa,AUDIO_PROPERTIES:cf,VIDEO_PROPERTIES:df,generateSegmentTimingInfo:ff},Fw=function(h){return h>>>0},Rw=function(h){return("00"+h.toString(16)).slice(-2)},Yu={toUnsigned:Fw,toHexString:Rw},Nw=function(h){var m="";return m+=String.fromCharCode(h[0]),m+=String.fromCharCode(h[1]),m+=String.fromCharCode(h[2]),m+=String.fromCharCode(h[3]),m},Oi=Nw,Mw=Yu.toUnsigned,Uw=function C(h,m){var p=[],v,S,b,P,O;if(!m.length)return null;for(v=0;v<h.byteLength;)S=Mw(h[v]<<24|h[v+1]<<16|h[v+2]<<8|h[v+3]),b=Oi(h.subarray(v+4,v+8)),P=S>1?v+S:h.byteLength,b===m[0]&&(m.length===1?p.push(h.subarray(v+8,P)):(O=C(h.subarray(v+8,P),m.slice(1)),O.length&&(p=p.concat(O)))),v=P;return p},He=Uw,Bw=Yu.toUnsigned,Vw=r.getUint64,jw=function(h){var m={version:h[0],flags:new Uint8Array(h.subarray(1,4))};return m.version===1?m.baseMediaDecodeTime=Vw(h.subarray(4)):m.baseMediaDecodeTime=Bw(h[4]<<24|h[5]<<16|h[6]<<8|h[7]),m},Jg=jw,zw=function(h){return{isLeading:(h[0]&12)>>>2,dependsOn:h[0]&3,isDependedOn:(h[1]&192)>>>6,hasRedundancy:(h[1]&48)>>>4,paddingValue:(h[1]&14)>>>1,isNonSyncSample:h[1]&1,degradationPriority:h[2]<<8|h[3]}},Zg=zw,Hw=function(h){var m={version:h[0],flags:new Uint8Array(h.subarray(1,4)),samples:[]},p=new DataView(h.buffer,h.byteOffset,h.byteLength),v=m.flags[2]&1,S=m.flags[2]&4,b=m.flags[1]&1,P=m.flags[1]&2,O=m.flags[1]&4,U=m.flags[1]&8,N=p.getUint32(4),j=8,q;for(v&&(m.dataOffset=p.getInt32(j),j+=4),S&&N&&(q={flags:Zg(h.subarray(j,j+4))},j+=4,b&&(q.duration=p.getUint32(j),j+=4),P&&(q.size=p.getUint32(j),j+=4),U&&(m.version===1?q.compositionTimeOffset=p.getInt32(j):q.compositionTimeOffset=p.getUint32(j),j+=4),m.samples.push(q),N--);N--;)q={},b&&(q.duration=p.getUint32(j),j+=4),P&&(q.size=p.getUint32(j),j+=4),O&&(q.flags=Zg(h.subarray(j,j+4)),j+=4),U&&(m.version===1?q.compositionTimeOffset=p.getInt32(j):q.compositionTimeOffset=p.getUint32(j),j+=4),m.samples.push(q);return m},e0=Hw,$w=function(h){var m=new DataView(h.buffer,h.byteOffset,h.byteLength),p={version:h[0],flags:new Uint8Array(h.subarray(1,4)),trackId:m.getUint32(4)},v=p.flags[2]&1,S=p.flags[2]&2,b=p.flags[2]&8,P=p.flags[2]&16,O=p.flags[2]&32,U=p.flags[0]&65536,N=p.flags[0]&131072,j;return j=8,v&&(j+=4,p.baseDataOffset=m.getUint32(12),j+=4),S&&(p.sampleDescriptionIndex=m.getUint32(j),j+=4),b&&(p.defaultSampleDuration=m.getUint32(j),j+=4),P&&(p.defaultSampleSize=m.getUint32(j),j+=4),O&&(p.defaultSampleFlags=m.getUint32(j)),U&&(p.durationIsEmpty=!0),!v&&N&&(p.baseDataOffsetIsMoof=!0),p},t0=$w,r0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},js;typeof window<"u"?js=window:typeof r0<"u"?js=r0:typeof self<"u"?js=self:js={};var zs=js,Ww=Ms.discardEmulationPreventionBytes,qw=Vu.CaptionStream,Gw=function(h,m){for(var p=h,v=0;v<m.length;v++){var S=m[v];if(p<S.size)return S;p-=S.size}return null},Kw=function(h,m,p){var v=new DataView(h.buffer,h.byteOffset,h.byteLength),S={logs:[],seiNals:[]},b,P,O,U;for(P=0;P+4<h.length;P+=O)if(O=v.getUint32(P),P+=4,!(O<=0))switch(h[P]&31){case 6:var N=h.subarray(P+1,P+1+O),j=Gw(P,m);if(b={nalUnitType:"sei_rbsp",size:O,data:N,escapedRBSP:Ww(N),trackId:p},j)b.pts=j.pts,b.dts=j.dts,U=j;else if(U)b.pts=U.pts,b.dts=U.dts;else{S.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+P+" for trackId "+p+". See mux.js#223."});break}S.seiNals.push(b);break}return S},Xw=function(h,m,p){var v=m,S=p.defaultSampleDuration||0,b=p.defaultSampleSize||0,P=p.trackId,O=[];return h.forEach(function(U){var N=e0(U),j=N.samples;j.forEach(function(q){q.duration===void 0&&(q.duration=S),q.size===void 0&&(q.size=b),q.trackId=P,q.dts=v,q.compositionTimeOffset===void 0&&(q.compositionTimeOffset=0),typeof v=="bigint"?(q.pts=v+zs.BigInt(q.compositionTimeOffset),v+=zs.BigInt(q.duration)):(q.pts=v+q.compositionTimeOffset,v+=q.duration)}),O=O.concat(j)}),O},Qw=function(h,m){var p=He(h,["moof","traf"]),v=He(h,["mdat"]),S={},b=[];return v.forEach(function(P,O){var U=p[O];b.push({mdat:P,traf:U})}),b.forEach(function(P){var O=P.mdat,U=P.traf,N=He(U,["tfhd"]),j=t0(N[0]),q=j.trackId,ne=He(U,["tfdt"]),de=ne.length>0?Jg(ne[0]).baseMediaDecodeTime:0,ee=He(U,["trun"]),ye,mt;m===q&&ee.length>0&&(ye=Xw(ee,de,j),mt=Kw(O,ye,q),S[q]||(S[q]={seiNals:[],logs:[]}),S[q].seiNals=S[q].seiNals.concat(mt.seiNals),S[q].logs=S[q].logs.concat(mt.logs))}),S},Yw=function(h,m,p){var v;if(m===null)return null;v=Qw(h,m);var S=v[m]||{};return{seiNals:S.seiNals,logs:S.logs,timescale:p}},Jw=function(){var h=!1,m,p,v,S,b,P;this.isInitialized=function(){return h},this.init=function(O){m=new qw,h=!0,P=O?O.isPartial:!1,m.on("data",function(U){U.startTime=U.startPts/S,U.endTime=U.endPts/S,b.captions.push(U),b.captionStreams[U.stream]=!0}),m.on("log",function(U){b.logs.push(U)})},this.isNewInit=function(O,U){return O&&O.length===0||U&&typeof U=="object"&&Object.keys(U).length===0?!1:v!==O[0]||S!==U[v]},this.parse=function(O,U,N){var j;if(this.isInitialized()){if(!U||!N)return null;if(this.isNewInit(U,N))v=U[0],S=N[v];else if(v===null||!S)return p.push(O),null}else return null;for(;p.length>0;){var q=p.shift();this.parse(q,U,N)}return j=Yw(O,v,S),j&&j.logs&&(b.logs=b.logs.concat(j.logs)),j===null||!j.seiNals?b.logs.length?{logs:b.logs,captions:[],captionStreams:[]}:null:(this.pushNals(j.seiNals),this.flushStream(),b)},this.pushNals=function(O){if(!this.isInitialized()||!O||O.length===0)return null;O.forEach(function(U){m.push(U)})},this.flushStream=function(){if(!this.isInitialized())return null;P?m.partialFlush():m.flush()},this.clearParsedCaptions=function(){b.captions=[],b.captionStreams={},b.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;m.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){p=[],v=null,S=null,b?this.clearParsedCaptions():b={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},Zw=Jw,Ju=Yu.toUnsigned,Hs=Yu.toHexString,ek=r.getUint64,n0,i0,a0,s0,o0,hf;n0=function(h){var m={},p=He(h,["moov","trak"]);return p.reduce(function(v,S){var b,P,O,U,N;return b=He(S,["tkhd"])[0],!b||(P=b[0],O=P===0?12:20,U=Ju(b[O]<<24|b[O+1]<<16|b[O+2]<<8|b[O+3]),N=He(S,["mdia","mdhd"])[0],!N)?null:(P=N[0],O=P===0?12:20,v[U]=Ju(N[O]<<24|N[O+1]<<16|N[O+2]<<8|N[O+3]),v)},m)},i0=function(h,m){var p;p=He(m,["moof","traf"]);var v=p.reduce(function(S,b){var P=He(b,["tfhd"])[0],O=Ju(P[4]<<24|P[5]<<16|P[6]<<8|P[7]),U=h[O]||9e4,N=He(b,["tfdt"])[0],j=new DataView(N.buffer,N.byteOffset,N.byteLength),q;N[0]===1?q=ek(N.subarray(4,12)):q=j.getUint32(4);var ne;return typeof q=="bigint"?ne=q/zs.BigInt(U):typeof q=="number"&&!isNaN(q)&&(ne=q/U),ne<Number.MAX_SAFE_INTEGER&&(ne=Number(ne)),ne<S&&(S=ne),S},1/0);return typeof v=="bigint"||isFinite(v)?v:0},a0=function(h,m){var p=He(m,["moof","traf"]),v=0,S=0,b;if(p&&p.length){var P=He(p[0],["tfhd"])[0],O=He(p[0],["trun"])[0],U=He(p[0],["tfdt"])[0];if(P){var N=t0(P);b=N.trackId}if(U){var j=Jg(U);v=j.baseMediaDecodeTime}if(O){var q=e0(O);q.samples&&q.samples.length&&(S=q.samples[0].compositionTimeOffset||0)}}var ne=h[b]||9e4;typeof v=="bigint"&&(S=zs.BigInt(S),ne=zs.BigInt(ne));var de=(v+S)/ne;return typeof de=="bigint"&&de<Number.MAX_SAFE_INTEGER&&(de=Number(de)),de},s0=function(h){var m=He(h,["moov","trak"]),p=[];return m.forEach(function(v){var S=He(v,["mdia","hdlr"]),b=He(v,["tkhd"]);S.forEach(function(P,O){var U=Oi(P.subarray(8,12)),N=b[O],j,q,ne;U==="vide"&&(j=new DataView(N.buffer,N.byteOffset,N.byteLength),q=j.getUint8(0),ne=q===0?j.getUint32(12):j.getUint32(20),p.push(ne))})}),p},hf=function(h){var m=h[0],p=m===0?12:20;return Ju(h[p]<<24|h[p+1]<<16|h[p+2]<<8|h[p+3])},o0=function(h){var m=He(h,["moov","trak"]),p=[];return m.forEach(function(v){var S={},b=He(v,["tkhd"])[0],P,O;b&&(P=new DataView(b.buffer,b.byteOffset,b.byteLength),O=P.getUint8(0),S.id=O===0?P.getUint32(12):P.getUint32(20));var U=He(v,["mdia","hdlr"])[0];if(U){var N=Oi(U.subarray(8,12));N==="vide"?S.type="video":N==="soun"?S.type="audio":S.type=N}var j=He(v,["mdia","minf","stbl","stsd"])[0];if(j){var q=j.subarray(8);S.codec=Oi(q.subarray(4,8));var ne=He(q,[S.codec])[0],de,ee;ne&&(/^[asm]vc[1-9]$/i.test(S.codec)?(de=ne.subarray(78),ee=Oi(de.subarray(4,8)),ee==="avcC"&&de.length>11?(S.codec+=".",S.codec+=Hs(de[9]),S.codec+=Hs(de[10]),S.codec+=Hs(de[11])):S.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(S.codec)?(de=ne.subarray(28),ee=Oi(de.subarray(4,8)),ee==="esds"&&de.length>20&&de[19]!==0?(S.codec+="."+Hs(de[19]),S.codec+="."+Hs(de[20]>>>2&63).replace(/^0/,"")):S.codec="mp4a.40.2"):S.codec=S.codec.toLowerCase())}var ye=He(v,["mdia","mdhd"])[0];ye&&(S.timescale=hf(ye)),p.push(S)}),p};var u0={findBox:He,parseType:Oi,timescale:n0,startTime:i0,compositionStartTime:a0,videoTrackIds:s0,tracks:o0,getTimescaleFromMediaHeader:hf},l0=function(h){var m=h[1]&31;return m<<=8,m|=h[2],m},Zu=function(h){return!!(h[1]&64)},el=function(h){var m=0;return(h[3]&48)>>>4>1&&(m+=h[4]+1),m},tk=function(h,m){var p=l0(h);return p===0?"pat":p===m?"pmt":m?"pes":null},rk=function(h){var m=Zu(h),p=4+el(h);return m&&(p+=h[p]+1),(h[p+10]&31)<<8|h[p+11]},nk=function(h){var m={},p=Zu(h),v=4+el(h);if(p&&(v+=h[v]+1),!!(h[v+5]&1)){var S,b,P;S=(h[v+1]&15)<<8|h[v+2],b=3+S-4,P=(h[v+10]&15)<<8|h[v+11];for(var O=12+P;O<b;){var U=v+O;m[(h[U+1]&31)<<8|h[U+2]]=h[U],O+=((h[U+3]&15)<<8|h[U+4])+5}return m}},ik=function(h,m){var p=l0(h),v=m[p];switch(v){case kt.H264_STREAM_TYPE:return"video";case kt.ADTS_STREAM_TYPE:return"audio";case kt.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},ak=function(h){var m=Zu(h);if(!m)return null;var p=4+el(h);if(p>=h.byteLength)return null;var v=null,S;return S=h[p+7],S&192&&(v={},v.pts=(h[p+9]&14)<<27|(h[p+10]&255)<<20|(h[p+11]&254)<<12|(h[p+12]&255)<<5|(h[p+13]&254)>>>3,v.pts*=4,v.pts+=(h[p+13]&6)>>>1,v.dts=v.pts,S&64&&(v.dts=(h[p+14]&14)<<27|(h[p+15]&255)<<20|(h[p+16]&254)<<12|(h[p+17]&255)<<5|(h[p+18]&254)>>>3,v.dts*=4,v.dts+=(h[p+18]&6)>>>1)),v},pf=function(h){switch(h){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},sk=function(h){for(var m=4+el(h),p=h.subarray(m),v=0,S=0,b=!1,P;S<p.byteLength-3;S++)if(p[S+2]===1){v=S+5;break}for(;v<p.byteLength;)switch(p[v]){case 0:if(p[v-1]!==0){v+=2;break}else if(p[v-2]!==0){v++;break}S+3!==v-2&&(P=pf(p[S+3]&31),P==="slice_layer_without_partitioning_rbsp_idr"&&(b=!0));do v++;while(p[v]!==1&&v<p.length);S=v-2,v+=3;break;case 1:if(p[v-1]!==0||p[v-2]!==0){v+=3;break}P=pf(p[S+3]&31),P==="slice_layer_without_partitioning_rbsp_idr"&&(b=!0),S=v-2,v+=3;break;default:v+=3;break}return p=p.subarray(S),v-=S,S=0,p&&p.byteLength>3&&(P=pf(p[S+3]&31),P==="slice_layer_without_partitioning_rbsp_idr"&&(b=!0)),b},ok={parseType:tk,parsePat:rk,parsePmt:nk,parsePayloadUnitStartIndicator:Zu,parsePesType:ik,parsePesTime:ak,videoPacketContainsKeyFrame:sk},ma=Vg.handleRollover,Fe={};Fe.ts=ok,Fe.aac=Ku;var Di=Ie.ONE_SECOND_IN_TS,Ht=188,en=71,uk=function(h,m){for(var p=0,v=Ht,S,b;v<h.byteLength;){if(h[p]===en&&h[v]===en){switch(S=h.subarray(p,v),b=Fe.ts.parseType(S,m.pid),b){case"pat":m.pid=Fe.ts.parsePat(S);break;case"pmt":var P=Fe.ts.parsePmt(S);m.table=m.table||{},Object.keys(P).forEach(function(O){m.table[O]=P[O]});break}p+=Ht,v+=Ht;continue}p++,v++}},c0=function(h,m,p){for(var v=0,S=Ht,b,P,O,U,N,j=!1;S<=h.byteLength;){if(h[v]===en&&(h[S]===en||S===h.byteLength)){switch(b=h.subarray(v,S),P=Fe.ts.parseType(b,m.pid),P){case"pes":O=Fe.ts.parsePesType(b,m.table),U=Fe.ts.parsePayloadUnitStartIndicator(b),O==="audio"&&U&&(N=Fe.ts.parsePesTime(b),N&&(N.type="audio",p.audio.push(N),j=!0));break}if(j)break;v+=Ht,S+=Ht;continue}v++,S++}for(S=h.byteLength,v=S-Ht,j=!1;v>=0;){if(h[v]===en&&(h[S]===en||S===h.byteLength)){switch(b=h.subarray(v,S),P=Fe.ts.parseType(b,m.pid),P){case"pes":O=Fe.ts.parsePesType(b,m.table),U=Fe.ts.parsePayloadUnitStartIndicator(b),O==="audio"&&U&&(N=Fe.ts.parsePesTime(b),N&&(N.type="audio",p.audio.push(N),j=!0));break}if(j)break;v-=Ht,S-=Ht;continue}v--,S--}},lk=function(h,m,p){for(var v=0,S=Ht,b,P,O,U,N,j,q,ne,de=!1,ee={data:[],size:0};S<h.byteLength;){if(h[v]===en&&h[S]===en){switch(b=h.subarray(v,S),P=Fe.ts.parseType(b,m.pid),P){case"pes":if(O=Fe.ts.parsePesType(b,m.table),U=Fe.ts.parsePayloadUnitStartIndicator(b),O==="video"&&(U&&!de&&(N=Fe.ts.parsePesTime(b),N&&(N.type="video",p.video.push(N),de=!0)),!p.firstKeyFrame)){if(U&&ee.size!==0){for(j=new Uint8Array(ee.size),q=0;ee.data.length;)ne=ee.data.shift(),j.set(ne,q),q+=ne.byteLength;if(Fe.ts.videoPacketContainsKeyFrame(j)){var ye=Fe.ts.parsePesTime(j);ye?(p.firstKeyFrame=ye,p.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}ee.size=0}ee.data.push(b),ee.size+=b.byteLength}break}if(de&&p.firstKeyFrame)break;v+=Ht,S+=Ht;continue}v++,S++}for(S=h.byteLength,v=S-Ht,de=!1;v>=0;){if(h[v]===en&&h[S]===en){switch(b=h.subarray(v,S),P=Fe.ts.parseType(b,m.pid),P){case"pes":O=Fe.ts.parsePesType(b,m.table),U=Fe.ts.parsePayloadUnitStartIndicator(b),O==="video"&&U&&(N=Fe.ts.parsePesTime(b),N&&(N.type="video",p.video.push(N),de=!0));break}if(de)break;v-=Ht,S-=Ht;continue}v--,S--}},ck=function(h,m){if(h.audio&&h.audio.length){var p=m;(typeof p>"u"||isNaN(p))&&(p=h.audio[0].dts),h.audio.forEach(function(b){b.dts=ma(b.dts,p),b.pts=ma(b.pts,p),b.dtsTime=b.dts/Di,b.ptsTime=b.pts/Di})}if(h.video&&h.video.length){var v=m;if((typeof v>"u"||isNaN(v))&&(v=h.video[0].dts),h.video.forEach(function(b){b.dts=ma(b.dts,v),b.pts=ma(b.pts,v),b.dtsTime=b.dts/Di,b.ptsTime=b.pts/Di}),h.firstKeyFrame){var S=h.firstKeyFrame;S.dts=ma(S.dts,v),S.pts=ma(S.pts,v),S.dtsTime=S.dts/Di,S.ptsTime=S.pts/Di}}},dk=function(h){for(var m=!1,p=0,v=null,S=null,b=0,P=0,O;h.length-P>=3;){var U=Fe.aac.parseType(h,P);switch(U){case"timed-metadata":if(h.length-P<10){m=!0;break}if(b=Fe.aac.parseId3TagSize(h,P),b>h.length){m=!0;break}S===null&&(O=h.subarray(P,P+b),S=Fe.aac.parseAacTimestamp(O)),P+=b;break;case"audio":if(h.length-P<7){m=!0;break}if(b=Fe.aac.parseAdtsSize(h,P),b>h.length){m=!0;break}v===null&&(O=h.subarray(P,P+b),v=Fe.aac.parseSampleRate(O)),p++,P+=b;break;default:P++;break}if(m)return null}if(v===null||S===null)return null;var N=Di/v,j={audio:[{type:"audio",dts:S,pts:S},{type:"audio",dts:S+p*1024*N,pts:S+p*1024*N}]};return j},fk=function(h){var m={pid:null,table:null},p={};uk(h,m);for(var v in m.table)if(m.table.hasOwnProperty(v)){var S=m.table[v];switch(S){case kt.H264_STREAM_TYPE:p.video=[],lk(h,m,p),p.video.length===0&&delete p.video;break;case kt.ADTS_STREAM_TYPE:p.audio=[],c0(h,m,p),p.audio.length===0&&delete p.audio;break}}return p},hk=function(h,m){var p=Fe.aac.isLikelyAacData(h),v;return p?v=dk(h):v=fk(h),!v||!v.audio&&!v.video?null:(ck(v,m),v)},pk={inspect:hk,parseAudioPes_:c0},mk=function(h,m){m.on("data",function(p){var v=p.initSegment;p.initSegment={data:v.buffer,byteOffset:v.byteOffset,byteLength:v.byteLength};var S=p.data;p.data=S.buffer,h.postMessage({action:"data",segment:p,byteOffset:S.byteOffset,byteLength:S.byteLength},[p.data])}),m.on("done",function(p){h.postMessage({action:"done"})}),m.on("gopInfo",function(p){h.postMessage({action:"gopInfo",gopInfo:p})}),m.on("videoSegmentTimingInfo",function(p){var v={start:{decode:Ie.videoTsToSeconds(p.start.dts),presentation:Ie.videoTsToSeconds(p.start.pts)},end:{decode:Ie.videoTsToSeconds(p.end.dts),presentation:Ie.videoTsToSeconds(p.end.pts)},baseMediaDecodeTime:Ie.videoTsToSeconds(p.baseMediaDecodeTime)};p.prependedContentDuration&&(v.prependedContentDuration=Ie.videoTsToSeconds(p.prependedContentDuration)),h.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:v})}),m.on("audioSegmentTimingInfo",function(p){var v={start:{decode:Ie.videoTsToSeconds(p.start.dts),presentation:Ie.videoTsToSeconds(p.start.pts)},end:{decode:Ie.videoTsToSeconds(p.end.dts),presentation:Ie.videoTsToSeconds(p.end.pts)},baseMediaDecodeTime:Ie.videoTsToSeconds(p.baseMediaDecodeTime)};p.prependedContentDuration&&(v.prependedContentDuration=Ie.videoTsToSeconds(p.prependedContentDuration)),h.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:v})}),m.on("id3Frame",function(p){h.postMessage({action:"id3Frame",id3Frame:p})}),m.on("caption",function(p){h.postMessage({action:"caption",caption:p})}),m.on("trackinfo",function(p){h.postMessage({action:"trackinfo",trackInfo:p})}),m.on("audioTimingInfo",function(p){h.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:Ie.videoTsToSeconds(p.start),end:Ie.videoTsToSeconds(p.end)}})}),m.on("videoTimingInfo",function(p){h.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:Ie.videoTsToSeconds(p.start),end:Ie.videoTsToSeconds(p.end)}})}),m.on("log",function(p){h.postMessage({action:"log",log:p})})},d0=function(){function C(m,p){this.options=p||{},this.self=m,this.init()}var h=C.prototype;return h.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Lw.Transmuxer(this.options),mk(this.self,this.transmuxer)},h.pushMp4Captions=function(p){this.captionParser||(this.captionParser=new Zw,this.captionParser.init());var v=new Uint8Array(p.data,p.byteOffset,p.byteLength),S=this.captionParser.parse(v,p.trackIds,p.timescales);this.self.postMessage({action:"mp4Captions",captions:S&&S.captions||[],logs:S&&S.logs||[],data:v.buffer},[v.buffer])},h.probeMp4StartTime=function(p){var v=p.timescales,S=p.data,b=u0.startTime(v,S);this.self.postMessage({action:"probeMp4StartTime",startTime:b,data:S},[S.buffer])},h.probeMp4Tracks=function(p){var v=p.data,S=u0.tracks(v);this.self.postMessage({action:"probeMp4Tracks",tracks:S,data:v},[v.buffer])},h.probeTs=function(p){var v=p.data,S=p.baseStartTime,b=typeof S=="number"&&!isNaN(S)?S*Ie.ONE_SECOND_IN_TS:void 0,P=pk.inspect(v,b),O=null;P&&(O={hasVideo:P.video&&P.video.length===2||!1,hasAudio:P.audio&&P.audio.length===2||!1},O.hasVideo&&(O.videoStart=P.video[0].ptsTime),O.hasAudio&&(O.audioStart=P.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:O,data:v},[v.buffer])},h.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},h.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},h.push=function(p){var v=new Uint8Array(p.data,p.byteOffset,p.byteLength);this.transmuxer.push(v)},h.reset=function(){this.transmuxer.reset()},h.setTimestampOffset=function(p){var v=p.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(Ie.secondsToVideoTs(v)))},h.setAudioAppendStart=function(p){this.transmuxer.setAudioAppendStart(Math.ceil(Ie.secondsToVideoTs(p.appendStart)))},h.setRemux=function(p){this.transmuxer.setRemux(p.remux)},h.flush=function(p){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},h.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},h.alignGopsWith=function(p){this.transmuxer.alignGopsWith(p.gopsToAlignWith.slice())},C}();self.onmessage=function(C){if(C.data.action==="init"&&C.data.options){this.messageHandlers=new d0(self,C.data.options);return}this.messageHandlers||(this.messageHandlers=new d0(self)),C.data&&C.data.action&&C.data.action!=="init"&&this.messageHandlers[C.data.action]&&this.messageHandlers[C.data.action](C.data)}})),$F=b1(HF),WF=function(e,n,i){var r=e.data.segment,a=r.type,s=r.initSegment,o=r.captions,u=r.captionStreams,l=r.metadata,c=r.videoFrameDtsTime,f=r.videoFramePtsTime;n.buffer.push({captions:o,captionStreams:u,metadata:l});var d=e.data.segment.boxes||{data:e.data.segment.data},g={type:a,data:new Uint8Array(d.data,d.data.byteOffset,d.data.byteLength),initSegment:new Uint8Array(s.data,s.byteOffset,s.byteLength)};typeof c<"u"&&(g.videoFrameDtsTime=c),typeof f<"u"&&(g.videoFramePtsTime=f),i(g)},qF=function(e){var n=e.transmuxedData,i=e.callback;n.buffer=[],i(n)},GF=function(e,n){n.gopInfo=e.data.gopInfo},w1=function(e){var n=e.transmuxer,i=e.bytes,r=e.audioAppendStart,a=e.gopsToAlignWith,s=e.remux,o=e.onData,u=e.onTrackInfo,l=e.onAudioTimingInfo,c=e.onVideoTimingInfo,f=e.onVideoSegmentTimingInfo,d=e.onAudioSegmentTimingInfo,g=e.onId3,_=e.onCaptions,y=e.onDone,x=e.onEndedTimeline,T=e.onTransmuxerLog,E=e.isEndOfTimeline,w={buffer:[]},k=E,I=function(V){n.currentTransmux===e&&(V.data.action==="data"&&WF(V,w,o),V.data.action==="trackinfo"&&u(V.data.trackInfo),V.data.action==="gopInfo"&&GF(V,w),V.data.action==="audioTimingInfo"&&l(V.data.audioTimingInfo),V.data.action==="videoTimingInfo"&&c(V.data.videoTimingInfo),V.data.action==="videoSegmentTimingInfo"&&f(V.data.videoSegmentTimingInfo),V.data.action==="audioSegmentTimingInfo"&&d(V.data.audioSegmentTimingInfo),V.data.action==="id3Frame"&&g([V.data.id3Frame],V.data.id3Frame.dispatchType),V.data.action==="caption"&&_(V.data.caption),V.data.action==="endedtimeline"&&(k=!1,x()),V.data.action==="log"&&T(V.data.log),V.data.type==="transmuxed"&&(k||(n.onmessage=null,qF({transmuxedData:w,callback:y}),k1(n))))};if(n.onmessage=I,r&&n.postMessage({action:"setAudioAppendStart",appendStart:r}),Array.isArray(a)&&n.postMessage({action:"alignGopsWith",gopsToAlignWith:a}),typeof s<"u"&&n.postMessage({action:"setRemux",remux:s}),i.byteLength){var D=i instanceof ArrayBuffer?i:i.buffer,F=i instanceof ArrayBuffer?0:i.byteOffset;n.postMessage({action:"push",data:D,byteOffset:F,byteLength:i.byteLength},[D])}E&&n.postMessage({action:"endTimeline"}),n.postMessage({action:"flush"})},k1=function(e){e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),typeof e.currentTransmux=="function"?e.currentTransmux():w1(e.currentTransmux))},R_=function(e,n){e.postMessage({action:n}),k1(e)},P1=function(e,n){if(!n.currentTransmux){n.currentTransmux=e,R_(n,e);return}n.transmuxQueue.push(R_.bind(null,n,e))},KF=function(e){P1("reset",e)},XF=function(e){P1("endTimeline",e)},A1=function(e){if(!e.transmuxer.currentTransmux){e.transmuxer.currentTransmux=e,w1(e);return}e.transmuxer.transmuxQueue.push(e)},QF=function(e){var n=new $F;n.currentTransmux=null,n.transmuxQueue=[];var i=n.terminate;return n.terminate=function(){return n.currentTransmux=null,n.transmuxQueue.length=0,i.call(n)},n.postMessage({action:"init",options:e}),n},dh={reset:KF,endTimeline:XF,transmux:A1,createTransmuxer:QF},Gc=function(e){var n=e.transmuxer,i=e.endAction||e.action,r=e.callback,a=bt({},e,{endAction:null,transmuxer:null,callback:null}),s=function l(c){c.data.action===i&&(n.removeEventListener("message",l),c.data.data&&(c.data.data=new Uint8Array(c.data.data,e.byteOffset||0,e.byteLength||c.data.data.byteLength),e.data&&(e.data=c.data.data)),r(c.data))};if(n.addEventListener("message",s),e.data){var o=e.data instanceof ArrayBuffer;a.byteOffset=o?0:e.data.byteOffset,a.byteLength=e.data.byteLength;var u=[o?e.data:e.data.buffer];n.postMessage(a,u)}else n.postMessage(a)},ln={FAILURE:2,TIMEOUT:-101,ABORTED:-102},qp=function(e){e.forEach(function(n){n.abort()})},YF=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}},JF=function(e){var n=e.target,i=Date.now()-n.requestTime,r={bandwidth:1/0,bytesReceived:0,roundTripTime:i||0};return r.bytesReceived=e.loaded,r.bandwidth=Math.floor(r.bytesReceived/r.roundTripTime*8*1e3),r},pg=function(e,n){return n.timedout?{status:n.status,message:"HLS request timed-out at URL: "+n.uri,code:ln.TIMEOUT,xhr:n}:n.aborted?{status:n.status,message:"HLS request aborted at URL: "+n.uri,code:ln.ABORTED,xhr:n}:e?{status:n.status,message:"HLS request errored at URL: "+n.uri,code:ln.FAILURE,xhr:n}:n.responseType==="arraybuffer"&&n.response.byteLength===0?{status:n.status,message:"Empty HLS response at URL: "+n.uri,code:ln.FAILURE,xhr:n}:null},N_=function(e,n,i){return function(r,a){var s=a.response,o=pg(r,a);if(o)return i(o,e);if(s.byteLength!==16)return i({status:a.status,message:"Invalid HLS key at URL: "+a.uri,code:ln.FAILURE,xhr:a},e);for(var u=new DataView(s),l=new Uint32Array([u.getUint32(0),u.getUint32(4),u.getUint32(8),u.getUint32(12)]),c=0;c<n.length;c++)n[c].bytes=l;return i(null,e)}},I1=function(e,n){var i=Av(e.map.bytes);if(i!=="mp4"){var r=e.map.resolvedUri||e.map.uri;return n({internal:!0,message:"Found unsupported "+(i||"unknown")+" container for initialization segment at URL: "+r,code:ln.FAILURE})}Gc({action:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callback:function(s){var o=s.tracks,u=s.data;return e.map.bytes=u,o.forEach(function(l){e.map.tracks=e.map.tracks||{},!e.map.tracks[l.type]&&(e.map.tracks[l.type]=l,typeof l.id=="number"&&l.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[l.id]=l.timescale))}),n(null)}})},ZF=function(e){var n=e.segment,i=e.finishProcessingFn;return function(r,a){var s=pg(r,a);if(s)return i(s,n);var o=new Uint8Array(a.response);if(n.map.key)return n.map.encryptedBytes=o,i(null,n);n.map.bytes=o,I1(n,function(u){if(u)return u.xhr=a,u.status=a.status,i(u,n);i(null,n)})}},eR=function(e){var n=e.segment,i=e.finishProcessingFn,r=e.responseType;return function(a,s){var o=pg(a,s);if(o)return i(o,n);var u=r==="arraybuffer"||!s.responseText?s.response:jF(s.responseText.substring(n.lastReachedChar||0));return n.stats=YF(s),n.key?n.encryptedBytes=new Uint8Array(u):n.bytes=new Uint8Array(u),i(null,n)}},tR=function(e){var n=e.segment,i=e.bytes,r=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,u=e.id3Fn,l=e.captionsFn,c=e.isEndOfTimeline,f=e.endedTimelineFn,d=e.dataFn,g=e.doneFn,_=e.onTransmuxerLog,y=n.map&&n.map.tracks||{},x=Boolean(y.audio&&y.video),T=a.bind(null,n,"audio","start"),E=a.bind(null,n,"audio","end"),w=a.bind(null,n,"video","start"),k=a.bind(null,n,"video","end"),I=function(){return A1({bytes:i,transmuxer:n.transmuxer,audioAppendStart:n.audioAppendStart,gopsToAlignWith:n.gopsToAlignWith,remux:x,onData:function(L){L.type=L.type==="combined"?"video":L.type,d(n,L)},onTrackInfo:function(L){r&&(x&&(L.isMuxed=!0),r(n,L))},onAudioTimingInfo:function(L){T&&typeof L.start<"u"&&(T(L.start),T=null),E&&typeof L.end<"u"&&E(L.end)},onVideoTimingInfo:function(L){w&&typeof L.start<"u"&&(w(L.start),w=null),k&&typeof L.end<"u"&&k(L.end)},onVideoSegmentTimingInfo:function(L){s(L)},onAudioSegmentTimingInfo:function(L){o(L)},onId3:function(L,V){u(n,L,V)},onCaptions:function(L){l(n,[L])},isEndOfTimeline:c,onEndedTimeline:function(){f()},onTransmuxerLog:_,onDone:function(L){!g||(L.type=L.type==="combined"?"video":L.type,g(null,n,L))}})};Gc({action:"probeTs",transmuxer:n.transmuxer,data:i,baseStartTime:n.baseStartTime,callback:function(F){n.bytes=i=F.data;var L=F.result;L&&(r(n,{hasAudio:L.hasAudio,hasVideo:L.hasVideo,isMuxed:x}),r=null,L.hasAudio&&!x&&T(L.audioStart),L.hasVideo&&w(L.videoStart),T=null,w=null),I()}})},O1=function(e){var n=e.segment,i=e.bytes,r=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,u=e.id3Fn,l=e.captionsFn,c=e.isEndOfTimeline,f=e.endedTimelineFn,d=e.dataFn,g=e.doneFn,_=e.onTransmuxerLog,y=new Uint8Array(i);if(ED(y)){n.isFmp4=!0;var x=n.map.tracks,T={isFmp4:!0,hasVideo:!!x.video,hasAudio:!!x.audio};x.audio&&x.audio.codec&&x.audio.codec!=="enca"&&(T.audioCodec=x.audio.codec),x.video&&x.video.codec&&x.video.codec!=="encv"&&(T.videoCodec=x.video.codec),x.video&&x.audio&&(T.isMuxed=!0),r(n,T);var E=function(k){d(n,{data:y,type:T.hasAudio&&!T.isMuxed?"audio":"video"}),k&&k.length&&l(n,k),g(null,n,{})};Gc({action:"probeMp4StartTime",timescales:n.map.timescales,data:y,transmuxer:n.transmuxer,callback:function(k){var I=k.data,D=k.startTime;if(i=I.buffer,n.bytes=y=I,T.hasAudio&&!T.isMuxed&&a(n,"audio","start",D),T.hasVideo&&a(n,"video","start",D),!x.video||!I.byteLength||!n.transmuxer){E();return}Gc({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:n.transmuxer,data:y,timescales:n.map.timescales,trackIds:[x.video.id],callback:function(L){i=L.data.buffer,n.bytes=y=L.data,L.logs.forEach(function(V){_(z.mergeOptions(V,{stream:"mp4CaptionParser"}))}),E(L.captions)}})}});return}if(!n.transmuxer){g(null,n,{});return}if(typeof n.container>"u"&&(n.container=Av(y)),n.container!=="ts"&&n.container!=="aac"){r(n,{hasAudio:!1,hasVideo:!1}),g(null,n,{});return}tR({segment:n,bytes:i,trackInfoFn:r,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:u,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:f,dataFn:d,doneFn:g,onTransmuxerLog:_})},D1=function(e,n){var i=e.id,r=e.key,a=e.encryptedBytes,s=e.decryptionWorker,o=function l(c){if(c.data.source===i){s.removeEventListener("message",l);var f=c.data.decrypted;n(new Uint8Array(f.bytes,f.byteOffset,f.byteLength))}};s.addEventListener("message",o);var u;r.bytes.slice?u=r.bytes.slice():u=new Uint32Array(Array.prototype.slice.call(r.bytes)),s.postMessage(g1({source:i,encrypted:a,key:u,iv:r.iv}),[a.buffer,u.buffer])},rR=function(e){var n=e.decryptionWorker,i=e.segment,r=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,u=e.id3Fn,l=e.captionsFn,c=e.isEndOfTimeline,f=e.endedTimelineFn,d=e.dataFn,g=e.doneFn,_=e.onTransmuxerLog;D1({id:i.requestId,key:i.key,encryptedBytes:i.encryptedBytes,decryptionWorker:n},function(y){i.bytes=y,O1({segment:i,bytes:i.bytes,trackInfoFn:r,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:u,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:f,dataFn:d,doneFn:g,onTransmuxerLog:_})})},nR=function(e){var n=e.activeXhrs,i=e.decryptionWorker,r=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,u=e.id3Fn,l=e.captionsFn,c=e.isEndOfTimeline,f=e.endedTimelineFn,d=e.dataFn,g=e.doneFn,_=e.onTransmuxerLog,y=0,x=!1;return function(T,E){if(!x){if(T)return x=!0,qp(n),g(T,E);if(y+=1,y===n.length){var w=function(){if(E.encryptedBytes)return rR({decryptionWorker:i,segment:E,trackInfoFn:r,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:u,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:f,dataFn:d,doneFn:g,onTransmuxerLog:_});O1({segment:E,bytes:E.bytes,trackInfoFn:r,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:u,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:f,dataFn:d,doneFn:g,onTransmuxerLog:_})};if(E.endOfAllRequests=Date.now(),E.map&&E.map.encryptedBytes&&!E.map.bytes)return D1({decryptionWorker:i,id:E.requestId+"-init",encryptedBytes:E.map.encryptedBytes,key:E.map.key},function(k){E.map.bytes=k,I1(E,function(I){if(I)return qp(n),g(I,E);w()})});w()}}}},iR=function(e){var n=e.loadendState,i=e.abortFn;return function(r){var a=r.target;a.aborted&&i&&!n.calledAbortFn&&(i(),n.calledAbortFn=!0)}},aR=function(e){var n=e.segment,i=e.progressFn;return e.trackInfoFn,e.timingInfoFn,e.videoSegmentTimingInfoFn,e.audioSegmentTimingInfoFn,e.id3Fn,e.captionsFn,e.isEndOfTimeline,e.endedTimelineFn,e.dataFn,function(r){var a=r.target;if(!a.aborted)return n.stats=z.mergeOptions(n.stats,JF(r)),!n.stats.firstBytesReceivedAt&&n.stats.bytesReceived&&(n.stats.firstBytesReceivedAt=Date.now()),i(r,n)}},sR=function(e){var n=e.xhr,i=e.xhrOptions,r=e.decryptionWorker,a=e.segment,s=e.abortFn,o=e.progressFn,u=e.trackInfoFn,l=e.timingInfoFn,c=e.videoSegmentTimingInfoFn,f=e.audioSegmentTimingInfoFn,d=e.id3Fn,g=e.captionsFn,_=e.isEndOfTimeline,y=e.endedTimelineFn,x=e.dataFn,T=e.doneFn,E=e.onTransmuxerLog,w=[],k=nR({activeXhrs:w,decryptionWorker:r,trackInfoFn:u,timingInfoFn:l,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:f,id3Fn:d,captionsFn:g,isEndOfTimeline:_,endedTimelineFn:y,dataFn:x,doneFn:T,onTransmuxerLog:E});if(a.key&&!a.key.bytes){var I=[a.key];a.map&&!a.map.bytes&&a.map.key&&a.map.key.resolvedUri===a.key.resolvedUri&&I.push(a.map.key);var D=z.mergeOptions(i,{uri:a.key.resolvedUri,responseType:"arraybuffer"}),F=N_(a,I,k),L=n(D,F);w.push(L)}if(a.map&&!a.map.bytes){var V=a.map.key&&(!a.key||a.key.resolvedUri!==a.map.key.resolvedUri);if(V){var A=z.mergeOptions(i,{uri:a.map.key.resolvedUri,responseType:"arraybuffer"}),M=N_(a,[a.map.key],k),B=n(A,M);w.push(B)}var $=z.mergeOptions(i,{uri:a.map.resolvedUri,responseType:"arraybuffer",headers:$p(a.map)}),G=ZF({segment:a,finishProcessingFn:k}),Q=n($,G);w.push(Q)}var Z=z.mergeOptions(i,{uri:a.part&&a.part.resolvedUri||a.resolvedUri,responseType:"arraybuffer",headers:$p(a)}),se=eR({segment:a,finishProcessingFn:k,responseType:Z.responseType}),W=n(Z,se);W.addEventListener("progress",aR({segment:a,progressFn:o,trackInfoFn:u,timingInfoFn:l,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:f,id3Fn:d,captionsFn:g,isEndOfTimeline:_,endedTimelineFn:y,dataFn:x})),w.push(W);var X={};return w.forEach(function(K){K.addEventListener("loadend",iR({loadendState:X,abortFn:s}))}),function(){return qp(w)}},oR=Zr("CodecUtils"),uR=function(e){var n=e.attributes||{};if(n.CODECS)return nn(n.CODECS)},L1=function(e,n){var i=n.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&i.AUDIO&&e.mediaGroups.AUDIO[i.AUDIO]},lR=function(e,n){if(!L1(e,n))return!0;var i=n.attributes||{},r=e.mediaGroups.AUDIO[i.AUDIO];for(var a in r)if(!r[a].uri&&!r[a].playlists)return!0;return!1},Kc=function(e){var n={};return e.forEach(function(i){var r=i.mediaType,a=i.type,s=i.details;n[r]=n[r]||[],n[r].push(rb(""+a+s))}),Object.keys(n).forEach(function(i){if(n[i].length>1){oR("multiple "+i+" codecs found as attributes: "+n[i].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),n[i]=null;return}n[i]=n[i][0]}),n},M_=function(e){var n=0;return e.audio&&n++,e.video&&n++,n},Io=function(e,n){var i=n.attributes||{},r=Kc(uR(n)||[]);if(L1(e,n)&&!r.audio&&!lR(e,n)){var a=Kc(FI(e,i.AUDIO)||[]);a.audio&&(r.audio=a.audio)}return r},kl=Zr("PlaylistSelector"),U_=function(e){if(!(!e||!e.playlist)){var n=e.playlist;return JSON.stringify({id:n.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:n.attributes&&n.attributes.CODECS||""})}},Xc=function(e,n){if(!e)return"";var i=R.getComputedStyle(e);return i?i[n]:""},es=function(e,n){var i=e.slice();e.sort(function(r,a){var s=n(r,a);return s===0?i.indexOf(r)-i.indexOf(a):s})},mg=function(e,n){var i,r;return e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),i=i||R.Number.MAX_VALUE,n.attributes.BANDWIDTH&&(r=n.attributes.BANDWIDTH),r=r||R.Number.MAX_VALUE,i-r},cR=function(e,n){var i,r;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),i=i||R.Number.MAX_VALUE,n.attributes.RESOLUTION&&n.attributes.RESOLUTION.width&&(r=n.attributes.RESOLUTION.width),r=r||R.Number.MAX_VALUE,i===r&&e.attributes.BANDWIDTH&&n.attributes.BANDWIDTH?e.attributes.BANDWIDTH-n.attributes.BANDWIDTH:i-r},F1=function(e,n,i,r,a,s){if(!!e){var o={bandwidth:n,width:i,height:r,limitRenditionByPlayerDimensions:a},u=e.playlists;ir.isAudioOnly(e)&&(u=s.getAudioTrackPlaylists_(),o.audioOnly=!0);var l=u.map(function(A){var M,B=A.attributes&&A.attributes.RESOLUTION&&A.attributes.RESOLUTION.width,$=A.attributes&&A.attributes.RESOLUTION&&A.attributes.RESOLUTION.height;return M=A.attributes&&A.attributes.BANDWIDTH,M=M||R.Number.MAX_VALUE,{bandwidth:M,width:B,height:$,playlist:A}});es(l,function(A,M){return A.bandwidth-M.bandwidth}),l=l.filter(function(A){return!ir.isIncompatible(A.playlist)});var c=l.filter(function(A){return ir.isEnabled(A.playlist)});c.length||(c=l.filter(function(A){return!ir.isDisabled(A.playlist)}));var f=c.filter(function(A){return A.bandwidth*Tt.BANDWIDTH_VARIANCE<n}),d=f[f.length-1],g=f.filter(function(A){return A.bandwidth===d.bandwidth})[0];if(a===!1){var _=g||c[0]||l[0];if(_&&_.playlist){var y="sortedPlaylistReps";return g&&(y="bandwidthBestRep"),c[0]&&(y="enabledPlaylistReps"),kl("choosing "+U_(_)+" using "+y+" with options",o),_.playlist}return kl("could not choose a playlist with options",o),null}var x=f.filter(function(A){return A.width&&A.height});es(x,function(A,M){return A.width-M.width});var T=x.filter(function(A){return A.width===i&&A.height===r});d=T[T.length-1];var E=T.filter(function(A){return A.bandwidth===d.bandwidth})[0],w,k,I;E||(w=x.filter(function(A){return A.width>i||A.height>r}),k=w.filter(function(A){return A.width===w[0].width&&A.height===w[0].height}),d=k[k.length-1],I=k.filter(function(A){return A.bandwidth===d.bandwidth})[0]);var D;if(s.experimentalLeastPixelDiffSelector){var F=x.map(function(A){return A.pixelDiff=Math.abs(A.width-i)+Math.abs(A.height-r),A});es(F,function(A,M){return A.pixelDiff===M.pixelDiff?M.bandwidth-A.bandwidth:A.pixelDiff-M.pixelDiff}),D=F[0]}var L=D||I||E||g||c[0]||l[0];if(L&&L.playlist){var V="sortedPlaylistReps";return D?V="leastPixelDiffRep":I?V="resolutionPlusOneRep":E?V="resolutionBestRep":g?V="bandwidthBestRep":c[0]&&(V="enabledPlaylistReps"),kl("choosing "+U_(L)+" using "+V+" with options",o),L.playlist}return kl("could not choose a playlist with options",o),null}},B_=function(){var e=this.useDevicePixelRatio&&R.devicePixelRatio||1;return F1(this.playlists.master,this.systemBandwidth,parseInt(Xc(this.tech_.el(),"width"),10)*e,parseInt(Xc(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},dR=function(e){var n=-1,i=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var r=this.useDevicePixelRatio&&R.devicePixelRatio||1;return n<0&&(n=this.systemBandwidth,i=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==i&&(n=e*this.systemBandwidth+(1-e)*n,i=this.systemBandwidth),F1(this.playlists.master,n,parseInt(Xc(this.tech_.el(),"width"),10)*r,parseInt(Xc(this.tech_.el(),"height"),10)*r,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},fR=function(e){var n=e.master,i=e.currentTime,r=e.bandwidth,a=e.duration,s=e.segmentDuration,o=e.timeUntilRebuffer,u=e.currentTimeline,l=e.syncController,c=n.playlists.filter(function(y){return!ir.isIncompatible(y)}),f=c.filter(ir.isEnabled);f.length||(f=c.filter(function(y){return!ir.isDisabled(y)}));var d=f.filter(ir.hasAttribute.bind(null,"BANDWIDTH")),g=d.map(function(y){var x=l.getSyncPoint(y,a,u,i),T=x?1:2,E=ir.estimateSegmentRequestTime(s,r,y),w=E*T-o;return{playlist:y,rebufferingImpact:w}}),_=g.filter(function(y){return y.rebufferingImpact<=0});return es(_,function(y,x){return mg(x.playlist,y.playlist)}),_.length?_[0]:(es(g,function(y,x){return y.rebufferingImpact-x.rebufferingImpact}),g[0]||null)},hR=function(){var e=this,n=this.playlists.master.playlists.filter(ir.isEnabled);es(n,function(r,a){return mg(r,a)});var i=n.filter(function(r){return!!Io(e.playlists.master,r).video});return i[0]||null},pR=function(e){var n=0,i;return e.bytes&&(i=new Uint8Array(e.bytes),e.segments.forEach(function(r){i.set(r,n),n+=r.byteLength})),i},mR=function(e,n,i){if(!e[i]){n.trigger({type:"usage",name:"vhs-608"}),n.trigger({type:"usage",name:"hls-608"});var r=i;/^cc708_/.test(i)&&(r="SERVICE"+i.split("_")[1]);var a=n.textTracks().getTrackById(r);if(a)e[i]=a;else{var s=n.options_.vhs&&n.options_.vhs.captionServices||{},o=i,u=i,l=!1,c=s[r];c&&(o=c.label,u=c.language,l=c.default),e[i]=n.addRemoteTextTrack({kind:"captions",id:r,default:l,label:o,language:u},!1).track}}},vR=function(e){var n=e.inbandTextTracks,i=e.captionArray,r=e.timestampOffset;if(!!i){var a=R.WebKitDataCue||R.VTTCue;i.forEach(function(s){var o=s.stream;n[o].addCue(new a(s.startTime+r,s.endTime+r,s.text))})}},gR=function(e){Object.defineProperties(e.frame,{id:{get:function(){return z.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return z.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return z.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})},yR=function(e){var n=e.inbandTextTracks,i=e.metadataArray,r=e.timestampOffset,a=e.videoDuration;if(!!i){var s=R.WebKitDataCue||R.VTTCue,o=n.metadataTrack_;if(!!o&&(i.forEach(function(g){var _=g.cueTime+r;typeof _!="number"||R.isNaN(_)||_<0||!(_<1/0)||g.frames.forEach(function(y){var x=new s(_,_,y.value||y.url||y.data||"");x.frame=y,x.value=y,gR(x),o.addCue(x)})}),!(!o.cues||!o.cues.length))){for(var u=o.cues,l=[],c=0;c<u.length;c++)u[c]&&l.push(u[c]);var f=l.reduce(function(g,_){var y=g[_.startTime]||[];return y.push(_),g[_.startTime]=y,g},{}),d=Object.keys(f).sort(function(g,_){return Number(g)-Number(_)});d.forEach(function(g,_){var y=f[g],x=Number(d[_+1])||a;y.forEach(function(T){T.endTime=x})})}}},_R=function(e,n,i){e.metadataTrack_||(e.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=n)},vo=function(e,n,i){var r,a;if(!!i&&!!i.cues)for(r=i.cues.length;r--;)a=i.cues[r],a.startTime>=e&&a.endTime<=n&&i.removeCue(a)},TR=function(e){var n=e.cues;if(!!n)for(var i=0;i<n.length;i++){for(var r=[],a=0,s=0;s<n.length;s++)n[i].startTime===n[s].startTime&&n[i].endTime===n[s].endTime&&n[i].text===n[s].text&&(a++,a>1&&r.push(n[s]));r.length&&r.forEach(function(o){return e.removeCue(o)})}},xR=function(e,n,i){if(typeof n>"u"||n===null||!e.length)return[];var r=Math.ceil((n-i+3)*Fc.ONE_SECOND_IN_TS),a;for(a=0;a<e.length&&!(e[a].pts>r);a++);return e.slice(a)},SR=function(e,n,i){if(!n.length)return e;if(i)return n.slice();var r=n[0].pts,a=0;for(a;a<e.length&&!(e[a].pts>=r);a++);return e.slice(0,a).concat(n)},bR=function(e,n,i,r){for(var a=Math.ceil((n-r)*Fc.ONE_SECOND_IN_TS),s=Math.ceil((i-r)*Fc.ONE_SECOND_IN_TS),o=e.slice(),u=e.length;u--&&!(e[u].pts<=s););if(u===-1)return o;for(var l=u+1;l--&&!(e[l].pts<=a););return l=Math.max(l,0),o.splice(l,u-l+1),o},ER=function(e,n){if(!e&&!n||!e&&n||e&&!n)return!1;if(e===n)return!0;var i=Object.keys(e).sort(),r=Object.keys(n).sort();if(i.length!==r.length)return!1;for(var a=0;a<i.length;a++){var s=i[a];if(s!==r[a]||e[s]!==n[s])return!1}return!0},R1=22,CR=function(e,n,i){n=n||[];for(var r=[],a=0,s=0;s<n.length;s++){var o=n[s];if(e===o.timeline&&(r.push(s),a+=o.duration,a>i))return s}return r.length===0?0:r[r.length-1]},io=1,wR=500,V_=function(e){return typeof e=="number"&&isFinite(e)},Pl=1/60,kR=function(e,n,i){return e!=="main"||!n||!i?null:!i.hasAudio&&!i.hasVideo?"Neither audio nor video found in segment.":n.hasVideo&&!i.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!n.hasVideo&&i.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null},PR=function(e,n,i){var r=n-Tt.BACK_BUFFER_LENGTH;e.length&&(r=Math.max(r,e.start(0)));var a=n-i;return Math.min(a,r)},Ea=function(e){var n=e.startOfSegment,i=e.duration,r=e.segment,a=e.part,s=e.playlist,o=s.mediaSequence,u=s.id,l=s.segments,c=l===void 0?[]:l,f=e.mediaIndex,d=e.partIndex,g=e.timeline,_=c.length-1,y="mediaIndex/partIndex increment";e.getMediaInfoForTime?y="getMediaInfoForTime ("+e.getMediaInfoForTime+")":e.isSyncRequest&&(y="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(y+=" with independent "+e.independent);var x=typeof d=="number",T=e.segment.uri?"segment":"pre-segment",E=x?n1({preloadSegment:r})-1:0;return T+" ["+(o+f)+"/"+(o+_)+"]"+(x?" part ["+d+"/"+E+"]":"")+(" segment start/end ["+r.start+" => "+r.end+"]")+(x?" part start/end ["+a.start+" => "+a.end+"]":"")+(" startOfSegment ["+n+"]")+(" duration ["+i+"]")+(" timeline ["+g+"]")+(" selected by ["+y+"]")+(" playlist ["+u+"]")},j_=function(e){return e+"TimingInfo"},AR=function(e){var n=e.segmentTimeline,i=e.currentTimeline,r=e.startOfSegment,a=e.buffered,s=e.overrideCheck;return!s&&n===i?null:n<i?r:a.length?a.end(a.length-1):r},z_=function(e){var n=e.timelineChangeController,i=e.currentTimeline,r=e.segmentTimeline,a=e.loaderType,s=e.audioDisabled;if(i===r)return!1;if(a==="audio"){var o=n.lastTimelineChange({type:"main"});return!o||o.to!==r}if(a==="main"&&s){var u=n.pendingTimelineChange({type:"audio"});return!(u&&u.to===r)}return!1},IR=function(e){var n=0;return["video","audio"].forEach(function(i){var r=e[i+"TimingInfo"];if(!!r){var a=r.start,s=r.end,o;typeof a=="bigint"||typeof s=="bigint"?o=R.BigInt(s)-R.BigInt(a):typeof a=="number"&&typeof s=="number"&&(o=s-a),typeof o<"u"&&o>n&&(n=o)}}),typeof n=="bigint"&&n<Number.MAX_SAFE_INTEGER&&(n=Number(n)),n},H_=function(e){var n=e.segmentDuration,i=e.maxDuration;return n?Math.round(n)>i+xi:!1},OR=function(e,n){if(n!=="hls")return null;var i=IR({audioTimingInfo:e.audioTimingInfo,videoTimingInfo:e.videoTimingInfo});if(!i)return null;var r=e.playlist.targetDuration,a=H_({segmentDuration:i,maxDuration:r*2}),s=H_({segmentDuration:i,maxDuration:r}),o="Segment with index "+e.mediaIndex+" "+("from playlist "+e.playlist.id+" ")+("has a duration of "+i+" ")+("when the reported duration is "+e.duration+" ")+("and the target duration is "+r+". ")+"For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return a||s?{severity:a?"warn":"info",message:o}:null},Gp=function(t){ie(e,t);function e(i,r){var a;if(a=t.call(this)||this,!i)throw new TypeError("Initialization settings are required");if(typeof i.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!i.mediaSource)throw new TypeError("No MediaSource specified");return a.bandwidth=i.bandwidth,a.throughput={rate:0,count:0},a.roundTrip=NaN,a.resetStats_(),a.mediaIndex=null,a.partIndex=null,a.hasPlayed_=i.hasPlayed,a.currentTime_=i.currentTime,a.seekable_=i.seekable,a.seeking_=i.seeking,a.duration_=i.duration,a.mediaSource_=i.mediaSource,a.vhs_=i.vhs,a.loaderType_=i.loaderType,a.currentMediaInfo_=void 0,a.startingMediaInfo_=void 0,a.segmentMetadataTrack_=i.segmentMetadataTrack,a.goalBufferLength_=i.goalBufferLength,a.sourceType_=i.sourceType,a.sourceUpdater_=i.sourceUpdater,a.inbandTextTracks_=i.inbandTextTracks,a.state_="INIT",a.timelineChangeController_=i.timelineChangeController,a.shouldSaveSegmentTimingInfo_=!0,a.parse708captions_=i.parse708captions,a.useDtsForTimestampOffset_=i.useDtsForTimestampOffset,a.captionServices_=i.captionServices,a.experimentalExactManifestTimings=i.experimentalExactManifestTimings,a.checkBufferTimeout_=null,a.error_=void 0,a.currentTimeline_=-1,a.pendingSegment_=null,a.xhrOptions_=null,a.pendingSegments_=[],a.audioDisabled_=!1,a.isPendingTimestampOffset_=!1,a.gopBuffer_=[],a.timeMapping_=0,a.safeAppend_=z.browser.IE_VERSION>=11,a.appendInitSegment_={audio:!0,video:!0},a.playlistOfLastInitSegment_={audio:null,video:null},a.callQueue_=[],a.loadQueue_=[],a.metadataQueue_={id3:[],caption:[]},a.waitingOnRemove_=!1,a.quotaExceededErrorRetryTimeout_=null,a.activeInitSegmentId_=null,a.initSegments_={},a.cacheEncryptionKeys_=i.cacheEncryptionKeys,a.keyCache_={},a.decrypter_=i.decrypter,a.syncController_=i.syncController,a.syncPoint_={segmentIndex:0,time:0},a.transmuxer_=a.createTransmuxer_(),a.triggerSyncInfoUpdate_=function(){return a.trigger("syncinfoupdate")},a.syncController_.on("syncinfoupdate",a.triggerSyncInfoUpdate_),a.mediaSource_.addEventListener("sourceopen",function(){a.isEndOfStream_()||(a.ended_=!1)}),a.fetchAtBuffer_=!1,a.logger_=Zr("SegmentLoader["+a.loaderType_+"]"),Object.defineProperty(_e(a),"state",{get:function(){return this.state_},set:function(o){o!==this.state_&&(this.logger_(this.state_+" -> "+o),this.state_=o,this.trigger("statechange"))}}),a.sourceUpdater_.on("ready",function(){a.hasEnoughInfoToAppend_()&&a.processCallQueue_()}),a.loaderType_==="main"&&a.timelineChangeController_.on("pendingtimelinechange",function(){a.hasEnoughInfoToAppend_()&&a.processCallQueue_()}),a.loaderType_==="audio"&&a.timelineChangeController_.on("timelinechange",function(){a.hasEnoughInfoToLoad_()&&a.processLoadQueue_(),a.hasEnoughInfoToAppend_()&&a.processCallQueue_()}),a}var n=e.prototype;return n.createTransmuxer_=function(){return dh.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},n.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},n.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&R.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},n.setAudio=function(r){this.audioDisabled_=!r,r?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},n.abort=function(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()},n.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,R.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},n.checkForAbort_=function(r){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==r},n.error=function(r){return typeof r<"u"&&(this.logger_("error occurred:",r),this.error_=r),this.pendingSegment_=null,this.error_},n.endOfStream=function(){this.ended_=!0,this.transmuxer_&&dh.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},n.buffered_=function(){var r=this.getMediaInfo_();if(!this.sourceUpdater_||!r)return z.createTimeRanges();if(this.loaderType_==="main"){var a=r.hasAudio,s=r.hasVideo,o=r.isMuxed;if(s&&a&&!this.audioDisabled_&&!o)return this.sourceUpdater_.buffered();if(s)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},n.initSegmentForMap=function(r,a){if(a===void 0&&(a=!1),!r)return null;var s=qc(r),o=this.initSegments_[s];return a&&!o&&r.bytes&&(this.initSegments_[s]=o={resolvedUri:r.resolvedUri,byterange:r.byterange,bytes:r.bytes,tracks:r.tracks,timescales:r.timescales}),o||r},n.segmentKey=function(r,a){if(a===void 0&&(a=!1),!r)return null;var s=y1(r),o=this.keyCache_[s];this.cacheEncryptionKeys_&&a&&!o&&r.bytes&&(this.keyCache_[s]=o={resolvedUri:r.resolvedUri,bytes:r.bytes});var u={resolvedUri:(o||r).resolvedUri};return o&&(u.bytes=o.bytes),u},n.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},n.load=function(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}},n.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},n.playlist=function(r,a){if(a===void 0&&(a={}),!!r){var s=this.playlist_,o=this.pendingSegment_;this.playlist_=r,this.xhrOptions_=a,this.state==="INIT"&&(r.syncInfo={mediaSequence:r.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(r));var u=null;if(s&&(s.id?u=s.id:s.uri&&(u=s.uri)),this.logger_("playlist update ["+u+" => "+(r.id||r.uri)+"]"),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!s||s.uri!==r.uri){this.mediaIndex!==null&&(r.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}var l=r.mediaSequence-s.mediaSequence;if(this.logger_("live window shift ["+l+"]"),this.mediaIndex!==null)if(this.mediaIndex-=l,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var c=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!c.parts||!c.parts.length||!c.parts[this.partIndex])){var f=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=f}}o&&(o.mediaIndex-=l,o.mediaIndex<0?(o.mediaIndex=null,o.partIndex=null):(o.mediaIndex>=0&&(o.segment=r.segments[o.mediaIndex]),o.partIndex>=0&&o.segment.parts&&(o.part=o.segment.parts[o.partIndex]))),this.syncController_.saveExpiredSegmentInfo(s,r)}},n.pause=function(){this.checkBufferTimeout_&&(R.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},n.paused=function(){return this.checkBufferTimeout_===null},n.resetEverything=function(r){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,r),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},n.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},n.resyncLoader=function(){this.transmuxer_&&dh.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},n.remove=function(r,a,s,o){if(s===void 0&&(s=function(){}),o===void 0&&(o=!1),a===1/0&&(a=this.duration_()),a<=r){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}var u=1,l=function(){u--,u===0&&s()};(o||!this.audioDisabled_)&&(u++,this.sourceUpdater_.removeAudio(r,a,l)),(o||this.loaderType_==="main")&&(this.gopBuffer_=bR(this.gopBuffer_,r,a,this.timeMapping_),u++,this.sourceUpdater_.removeVideo(r,a,l));for(var c in this.inbandTextTracks_)vo(r,a,this.inbandTextTracks_[c]);vo(r,a,this.segmentMetadataTrack_),l()},n.monitorBuffer_=function(){this.checkBufferTimeout_&&R.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=R.setTimeout(this.monitorBufferTick_.bind(this),1)},n.monitorBufferTick_=function(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&R.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=R.setTimeout(this.monitorBufferTick_.bind(this),wR)},n.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){var r=this.chooseNextRequest_();!r||(typeof r.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:r.timeline})),this.loadSegment_(r))}},n.isEndOfStream_=function(r,a,s){if(r===void 0&&(r=this.mediaIndex),a===void 0&&(a=this.playlist_),s===void 0&&(s=this.partIndex),!a||!this.mediaSource_)return!1;var o=typeof r=="number"&&a.segments[r],u=r+1===a.segments.length,l=!o||!o.parts||s+1===o.parts.length;return a.endList&&this.mediaSource_.readyState==="open"&&u&&l},n.chooseNextRequest_=function(){var r=this.buffered_(),a=I_(r)||0,s=lg(r,this.currentTime_()),o=!this.hasPlayed_()&&s>=1,u=s>=this.goalBufferLength_(),l=this.playlist_.segments;if(!l.length||o||u)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var c={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(c.isSyncRequest)c.mediaIndex=CR(this.currentTimeline_,l,a);else if(this.mediaIndex!==null){var f=l[this.mediaIndex],d=typeof this.partIndex=="number"?this.partIndex:-1;c.startOfSegment=f.end?f.end:a,f.parts&&f.parts[d+1]?(c.mediaIndex=this.mediaIndex,c.partIndex=d+1):c.mediaIndex=this.mediaIndex+1}else{var g=ir.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?a:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),_=g.segmentIndex,y=g.startTime,x=g.partIndex;c.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+a:"currentTime "+this.currentTime_(),c.mediaIndex=_,c.startOfSegment=y,c.partIndex=x}var T=l[c.mediaIndex],E=T&&typeof c.partIndex=="number"&&T.parts&&T.parts[c.partIndex];if(!T||typeof c.partIndex=="number"&&!E)return null;if(typeof c.partIndex!="number"&&T.parts&&(c.partIndex=0,E=T.parts[0]),!s&&E&&!E.independent)if(c.partIndex===0){var w=l[c.mediaIndex-1],k=w.parts&&w.parts.length&&w.parts[w.parts.length-1];k&&k.independent&&(c.mediaIndex-=1,c.partIndex=w.parts.length-1,c.independent="previous segment")}else T.parts[c.partIndex-1].independent&&(c.partIndex-=1,c.independent="previous part");var I=this.mediaSource_&&this.mediaSource_.readyState==="ended";return c.mediaIndex>=l.length-1&&I&&!this.seeking_()?null:this.generateSegmentInfo_(c)},n.generateSegmentInfo_=function(r){var a=r.independent,s=r.playlist,o=r.mediaIndex,u=r.startOfSegment,l=r.isSyncRequest,c=r.partIndex,f=r.forceTimestampOffset,d=r.getMediaInfoForTime,g=s.segments[o],_=typeof c=="number"&&g.parts[c],y={requestId:"segment-loader-"+Math.random(),uri:_&&_.resolvedUri||g.resolvedUri,mediaIndex:o,partIndex:_?c:null,isSyncRequest:l,startOfSegment:u,playlist:s,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:g.timeline,duration:_&&_.duration||g.duration,segment:g,part:_,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:d,independent:a},x=typeof f<"u"?f:this.isPendingTimestampOffset_;y.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:g.timeline,currentTimeline:this.currentTimeline_,startOfSegment:u,buffered:this.buffered_(),overrideCheck:x});var T=I_(this.sourceUpdater_.audioBuffered());return typeof T=="number"&&(y.audioAppendStart=T-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(y.gopsToAlignWith=xR(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),y},n.timestampOffsetForSegment_=function(r){return AR(r)},n.earlyAbortWhenNeeded_=function(r){if(!(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)&&!(Date.now()-(r.firstBytesReceivedAt||Date.now())<1e3)){var a=this.currentTime_(),s=r.bandwidth,o=this.pendingSegment_.duration,u=ir.estimateSegmentRequestTime(o,s,this.playlist_,r.bytesReceived),l=tF(this.buffered_(),a,this.vhs_.tech_.playbackRate())-1;if(!(u<=l)){var c=fR({master:this.vhs_.playlists.master,currentTime:a,bandwidth:s,duration:this.duration_(),segmentDuration:o,timeUntilRebuffer:l,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!!c){var f=u-l,d=f-c.rebufferingImpact,g=.5;l<=xi&&(g=1),!(!c.playlist||c.playlist.uri===this.playlist_.uri||d<g)&&(this.bandwidth=c.playlist.attributes.BANDWIDTH*Tt.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},n.handleAbort_=function(r){this.logger_("Aborting "+Ea(r)),this.mediaRequestsAborted+=1},n.handleProgress_=function(r,a){this.earlyAbortWhenNeeded_(a.stats),!this.checkForAbort_(a.requestId)&&this.trigger("progress")},n.handleTrackInfo_=function(r,a){this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)&&(this.checkForIllegalMediaSwitch(a)||(a=a||{},ER(this.currentMediaInfo_,a)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=a,this.currentMediaInfo_=a,this.logger_("trackinfo update",a),this.trigger("trackinfo")),!this.checkForAbort_(r.requestId)&&(this.pendingSegment_.trackInfo=a,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))},n.handleTimingInfo_=function(r,a,s,o){if(this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)){var u=this.pendingSegment_,l=j_(a);u[l]=u[l]||{},u[l][s]=o,this.logger_("timinginfo: "+a+" - "+s+" - "+o),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},n.handleCaptions_=function(r,a){var s=this;if(this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)){if(a.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}var o=this.pendingSegment_;if(!o.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,r,a));return}var u=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),l={};a.forEach(function(c){l[c.stream]=l[c.stream]||{startTime:1/0,captions:[],endTime:0};var f=l[c.stream];f.startTime=Math.min(f.startTime,c.startTime+u),f.endTime=Math.max(f.endTime,c.endTime+u),f.captions.push(c)}),Object.keys(l).forEach(function(c){var f=l[c],d=f.startTime,g=f.endTime,_=f.captions,y=s.inbandTextTracks_;s.logger_("adding cues from "+d+" -> "+g+" for "+c),mR(y,s.vhs_.tech_,c),vo(d,g,y[c]),vR({captionArray:_,inbandTextTracks:y,timestampOffset:u})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}},n.handleId3_=function(r,a,s){if(this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)){var o=this.pendingSegment_;if(!o.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,r,a,s));return}var u=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();_R(this.inbandTextTracks_,s,this.vhs_.tech_),yR({inbandTextTracks:this.inbandTextTracks_,metadataArray:a,timestampOffset:u,videoDuration:this.duration_()})}},n.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach(function(r){return r()}),this.metadataQueue_.caption.forEach(function(r){return r()}),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},n.processCallQueue_=function(){var r=this.callQueue_;this.callQueue_=[],r.forEach(function(a){return a()})},n.processLoadQueue_=function(){var r=this.loadQueue_;this.loadQueue_=[],r.forEach(function(a){return a()})},n.hasEnoughInfoToLoad_=function(){if(this.loaderType_!=="audio")return!0;var r=this.pendingSegment_;return r?this.getCurrentMediaInfo_()?!z_({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:r.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1},n.getCurrentMediaInfo_=function(r){return r===void 0&&(r=this.pendingSegment_),r&&r.trackInfo||this.currentMediaInfo_},n.getMediaInfo_=function(r){return r===void 0&&(r=this.pendingSegment_),this.getCurrentMediaInfo_(r)||this.startingMediaInfo_},n.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var r=this.pendingSegment_,a=this.getCurrentMediaInfo_();if(!r||!a)return!1;var s=a.hasAudio,o=a.hasVideo,u=a.isMuxed;return!(o&&!r.videoTimingInfo||s&&!this.audioDisabled_&&!u&&!r.audioTimingInfo||z_({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:r.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},n.handleData_=function(r,a){if(this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)){if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){this.callQueue_.push(this.handleData_.bind(this,r,a));return}var s=this.pendingSegment_;if(this.setTimeMapping_(s.timeline),this.updateMediaSecondsLoaded_(s.part||s.segment),this.mediaSource_.readyState!=="closed"){if(r.map&&(r.map=this.initSegmentForMap(r.map,!0),s.segment.map=r.map),r.key&&this.segmentKey(r.key,!0),s.isFmp4=r.isFmp4,s.timingInfo=s.timingInfo||{},s.isFmp4)this.trigger("fmp4"),s.timingInfo.start=s[j_(a.type)].start;else{var o=this.getCurrentMediaInfo_(),u=this.loaderType_==="main"&&o&&o.hasVideo,l;u&&(l=s.videoTimingInfo.start),s.timingInfo.start=this.trueSegmentStart_({currentStart:s.timingInfo.start,playlist:s.playlist,mediaIndex:s.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:u,firstVideoFrameTimeForData:l,videoTimingInfo:s.videoTimingInfo,audioTimingInfo:s.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(s,a.type),this.updateSourceBufferTimestampOffset_(s),s.isSyncRequest){this.updateTimingInfoEnd_(s),this.syncController_.saveSegmentTimingInfo({segmentInfo:s,shouldSaveTimelineMapping:this.loaderType_==="main"});var c=this.chooseNextRequest_();if(c.mediaIndex!==s.mediaIndex||c.partIndex!==s.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}s.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(s,a)}}},n.updateAppendInitSegmentStatus=function(r,a){this.loaderType_==="main"&&typeof r.timestampOffset=="number"&&!r.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[a]!==r.playlist&&(this.appendInitSegment_[a]=!0)},n.getInitSegmentAndUpdateState_=function(r){var a=r.type,s=r.initSegment,o=r.map,u=r.playlist;if(o){var l=qc(o);if(this.activeInitSegmentId_===l)return null;s=this.initSegmentForMap(o,!0).bytes,this.activeInitSegmentId_=l}return s&&this.appendInitSegment_[a]?(this.playlistOfLastInitSegment_[a]=u,this.appendInitSegment_[a]=!1,this.activeInitSegmentId_=null,s):null},n.handleQuotaExceededError_=function(r,a){var s=this,o=r.segmentInfo,u=r.type,l=r.bytes,c=this.sourceUpdater_.audioBuffered(),f=this.sourceUpdater_.videoBuffered();c.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Hi(c).join(", ")),f.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Hi(f).join(", "));var d=c.length?c.start(0):0,g=c.length?c.end(c.length-1):0,_=f.length?f.start(0):0,y=f.length?f.end(f.length-1):0;if(g-d<=io&&y-_<=io){this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. "+("Appended byte length: "+l.byteLength+", ")+("audio buffer: "+Hi(c).join(", ")+", ")+("video buffer: "+Hi(f).join(", ")+", ")),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:o,type:u,bytes:l}));var x=this.currentTime_(),T=x-io;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+T),this.remove(0,T,function(){s.logger_("On QUOTA_EXCEEDED_ERR, retrying append in "+io+"s"),s.waitingOnRemove_=!1,s.quotaExceededErrorRetryTimeout_=R.setTimeout(function(){s.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),s.quotaExceededErrorRetryTimeout_=null,s.processCallQueue_()},io*1e3)},!0)},n.handleAppendError_=function(r,a){var s=r.segmentInfo,o=r.type,u=r.bytes;if(!!a){if(a.code===R1){this.handleQuotaExceededError_({segmentInfo:s,type:o,bytes:u});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",a),this.error(o+" append of "+u.length+"b failed for segment "+("#"+s.mediaIndex+" in playlist "+s.playlist.id)),this.trigger("appenderror")}},n.appendToSourceBuffer_=function(r){var a=r.segmentInfo,s=r.type,o=r.initSegment,u=r.data,l=r.bytes;if(!l){var c=[u],f=u.byteLength;o&&(c.unshift(o),f+=o.byteLength),l=pR({bytes:f,segments:c})}this.sourceUpdater_.appendBuffer({segmentInfo:a,type:s,bytes:l},this.handleAppendError_.bind(this,{segmentInfo:a,type:s,bytes:l}))},n.handleSegmentTimingInfo_=function(r,a,s){if(!(!this.pendingSegment_||a!==this.pendingSegment_.requestId)){var o=this.pendingSegment_.segment,u=r+"TimingInfo";o[u]||(o[u]={}),o[u].transmuxerPrependedSeconds=s.prependedContentDuration||0,o[u].transmuxedPresentationStart=s.start.presentation,o[u].transmuxedDecodeStart=s.start.decode,o[u].transmuxedPresentationEnd=s.end.presentation,o[u].transmuxedDecodeEnd=s.end.decode,o[u].baseMediaDecodeTime=s.baseMediaDecodeTime}},n.appendData_=function(r,a){var s=a.type,o=a.data;if(!(!o||!o.byteLength)&&!(s==="audio"&&this.audioDisabled_)){var u=this.getInitSegmentAndUpdateState_({type:s,initSegment:a.initSegment,playlist:r.playlist,map:r.isFmp4?r.segment.map:null});this.appendToSourceBuffer_({segmentInfo:r,type:s,initSegment:u,data:o})}},n.loadSegment_=function(r){var a=this;if(this.state="WAITING",this.pendingSegment_=r,this.trimBackBuffer_(r),typeof r.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){this.loadQueue_.push(function(){var s=bt({},r,{forceTimestampOffset:!0});bt(r,a.generateSegmentInfo_(s)),a.isPendingTimestampOffset_=!1,a.updateTransmuxerAndRequestSegment_(r)});return}this.updateTransmuxerAndRequestSegment_(r)},n.updateTransmuxerAndRequestSegment_=function(r){var a=this;this.shouldUpdateTransmuxerTimestampOffset_(r.timestampOffset)&&(this.gopBuffer_.length=0,r.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:r.timestampOffset}));var s=this.createSimplifiedSegmentObj_(r),o=this.isEndOfStream_(r.mediaIndex,r.playlist,r.partIndex),u=this.mediaIndex!==null,l=r.timeline!==this.currentTimeline_&&r.timeline>0,c=o||u&&l;this.logger_("Requesting "+Ea(r)),s.map&&!s.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),r.abortRequests=sR({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:s,abortFn:this.handleAbort_.bind(this,r),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",r.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",r.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:c,endedTimelineFn:function(){a.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(d){var g=d.message,_=d.level,y=d.stream;a.logger_(Ea(r)+" logged from transmuxer stream "+y+" as a "+_+": "+g)}})},n.trimBackBuffer_=function(r){var a=PR(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);a>0&&this.remove(0,a)},n.createSimplifiedSegmentObj_=function(r){var a=r.segment,s=r.part,o={resolvedUri:s?s.resolvedUri:a.resolvedUri,byterange:s?s.byterange:a.byterange,requestId:r.requestId,transmuxer:r.transmuxer,audioAppendStart:r.audioAppendStart,gopsToAlignWith:r.gopsToAlignWith,part:r.part},u=r.playlist.segments[r.mediaIndex-1];if(u&&u.timeline===a.timeline&&(u.videoTimingInfo?o.baseStartTime=u.videoTimingInfo.transmuxedDecodeEnd:u.audioTimingInfo&&(o.baseStartTime=u.audioTimingInfo.transmuxedDecodeEnd)),a.key){var l=a.key.iv||new Uint32Array([0,0,0,r.mediaIndex+r.playlist.mediaSequence]);o.key=this.segmentKey(a.key),o.key.iv=l}return a.map&&(o.map=this.initSegmentForMap(a.map)),o},n.saveTransferStats_=function(r){this.mediaRequests+=1,r&&(this.mediaBytesTransferred+=r.bytesReceived,this.mediaTransferDuration+=r.roundTripTime)},n.saveBandwidthRelatedStats_=function(r,a){if(this.pendingSegment_.byteLength=a.bytesReceived,r<Pl){this.logger_("Ignoring segment's bandwidth because its duration of "+r+(" is less than the min to record "+Pl));return}this.bandwidth=a.bandwidth,this.roundTrip=a.roundTripTime},n.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate")},n.segmentRequestFinished_=function(r,a,s){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,r,a,s));return}if(this.saveTransferStats_(a.stats),!!this.pendingSegment_&&a.requestId===this.pendingSegment_.requestId){if(r){if(this.pendingSegment_=null,this.state="READY",r.code===ln.ABORTED)return;if(this.pause(),r.code===ln.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(r),this.trigger("error");return}var o=this.pendingSegment_;this.saveBandwidthRelatedStats_(o.duration,a.stats),o.endOfAllRequests=a.endOfAllRequests,s.gopInfo&&(this.gopBuffer_=SR(this.gopBuffer_,s.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(o)}},n.setTimeMapping_=function(r){var a=this.syncController_.mappingForTimeline(r);a!==null&&(this.timeMapping_=a)},n.updateMediaSecondsLoaded_=function(r){typeof r.start=="number"&&typeof r.end=="number"?this.mediaSecondsLoaded+=r.end-r.start:this.mediaSecondsLoaded+=r.duration},n.shouldUpdateTransmuxerTimestampOffset_=function(r){return r===null?!1:this.loaderType_==="main"&&r!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&r!==this.sourceUpdater_.audioTimestampOffset()},n.trueSegmentStart_=function(r){var a=r.currentStart,s=r.playlist,o=r.mediaIndex,u=r.firstVideoFrameTimeForData,l=r.currentVideoTimestampOffset,c=r.useVideoTimingInfo,f=r.videoTimingInfo,d=r.audioTimingInfo;if(typeof a<"u")return a;if(!c)return d.start;var g=s.segments[o-1];return o===0||!g||typeof g.start>"u"||g.end!==u+l?u:f.start},n.waitForAppendsToComplete_=function(r){var a=this.getCurrentMediaInfo_(r);if(!a){this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),this.trigger("error");return}var s=a.hasAudio,o=a.hasVideo,u=a.isMuxed,l=this.loaderType_==="main"&&o,c=!this.audioDisabled_&&s&&!u;if(r.waitingOnAppends=0,!r.hasAppendedData_){!r.timingInfo&&typeof r.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),r.timingInfo={start:0},r.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(r),this.processMetadataQueue_()),this.checkAppendsDone_(r);return}l&&r.waitingOnAppends++,c&&r.waitingOnAppends++,l&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,r)),c&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,r))},n.checkAppendsDone_=function(r){this.checkForAbort_(r.requestId)||(r.waitingOnAppends--,r.waitingOnAppends===0&&this.handleAppendsDone_())},n.checkForIllegalMediaSwitch=function(r){var a=kR(this.loaderType_,this.getCurrentMediaInfo_(),r);return a?(this.error({message:a,blacklistDuration:1/0}),this.trigger("error"),!0):!1},n.updateSourceBufferTimestampOffset_=function(r){if(!(r.timestampOffset===null||typeof r.timingInfo.start!="number"||r.changedTimestampOffset||this.loaderType_!=="main")){var a=!1;r.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:r.segment.videoTimingInfo,audioTimingInfo:r.segment.audioTimingInfo,timingInfo:r.timingInfo}),r.changedTimestampOffset=!0,r.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(r.timestampOffset),a=!0),r.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(r.timestampOffset),a=!0),a&&this.trigger("timestampoffset")}},n.getSegmentStartTimeForTimestampOffsetCalculation_=function(r){var a=r.videoTimingInfo,s=r.audioTimingInfo,o=r.timingInfo;return this.useDtsForTimestampOffset_?a&&typeof a.transmuxedDecodeStart=="number"?a.transmuxedDecodeStart:s&&typeof s.transmuxedDecodeStart=="number"?s.transmuxedDecodeStart:o.start:o.start},n.updateTimingInfoEnd_=function(r){r.timingInfo=r.timingInfo||{};var a=this.getMediaInfo_(),s=this.loaderType_==="main"&&a&&a.hasVideo,o=s&&r.videoTimingInfo?r.videoTimingInfo:r.audioTimingInfo;!o||(r.timingInfo.end=typeof o.end=="number"?o.end:o.start+r.duration)},n.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}var r=this.pendingSegment_;this.updateTimingInfoEnd_(r),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:r,shouldSaveTimelineMapping:this.loaderType_==="main"});var a=OR(r,this.sourceType_);if(a&&(a.severity==="warn"?z.log.warn(a.message):this.logger_(a.message)),this.recordThroughput_(r),this.pendingSegment_=null,this.state="READY",r.isSyncRequest&&(this.trigger("syncinfoupdate"),!r.hasAppendedData_)){this.logger_("Throwing away un-appended sync request "+Ea(r));return}this.logger_("Appended "+Ea(r)),this.addSegmentMetadataCue_(r),this.fetchAtBuffer_=!0,this.currentTimeline_!==r.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:r.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:r.timeline})),this.currentTimeline_=r.timeline,this.trigger("syncinfoupdate");var s=r.segment,o=r.part,u=s.end&&this.currentTime_()-s.end>r.playlist.targetDuration*3,l=o&&o.end&&this.currentTime_()-o.end>r.playlist.partTargetDuration*3;if(u||l){this.logger_("bad "+(u?"segment":"part")+" "+Ea(r)),this.resetEverything();return}var c=this.mediaIndex!==null;c&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=r.mediaIndex,this.partIndex=r.partIndex,this.isEndOfStream_(r.mediaIndex,r.playlist,r.partIndex)&&this.endOfStream(),this.trigger("appended"),r.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()},n.recordThroughput_=function(r){if(r.duration<Pl){this.logger_("Ignoring segment's throughput because its duration of "+r.duration+(" is less than the min to record "+Pl));return}var a=this.throughput.rate,s=Date.now()-r.endOfAllRequests+1,o=Math.floor(r.byteLength/s*8*1e3);this.throughput.rate+=(o-a)/++this.throughput.count},n.addSegmentMetadataCue_=function(r){if(!!this.segmentMetadataTrack_){var a=r.segment,s=a.start,o=a.end;if(!(!V_(s)||!V_(o))){vo(s,o,this.segmentMetadataTrack_);var u=R.WebKitDataCue||R.VTTCue,l={custom:a.custom,dateTimeObject:a.dateTimeObject,dateTimeString:a.dateTimeString,bandwidth:r.playlist.attributes.BANDWIDTH,resolution:r.playlist.attributes.RESOLUTION,codecs:r.playlist.attributes.CODECS,byteLength:r.byteLength,uri:r.uri,timeline:r.timeline,playlist:r.playlist.id,start:s,end:o},c=JSON.stringify(l),f=new u(s,o,c);f.value=l,this.segmentMetadataTrack_.addCue(f)}}},e}(z.EventTarget);function Cn(){}var N1=function(e){return typeof e!="string"?e:e.replace(/./,function(n){return n.toUpperCase()})},DR=["video","audio"],Kp=function(e,n){var i=n[e+"Buffer"];return i&&i.updating||n.queuePending[e]},LR=function(e,n){for(var i=0;i<n.length;i++){var r=n[i];if(r.type==="mediaSource")return null;if(r.type===e)return i}return null},vg=function t(e,n){if(n.queue.length!==0){var i=0,r=n.queue[i];if(r.type==="mediaSource"){!n.updating()&&n.mediaSource.readyState!=="closed"&&(n.queue.shift(),r.action(n),r.doneFn&&r.doneFn(),t("audio",n),t("video",n));return}if(e!=="mediaSource"&&!(!n.ready()||n.mediaSource.readyState==="closed"||Kp(e,n))){if(r.type!==e){if(i=LR(e,n.queue),i===null)return;r=n.queue[i]}if(n.queue.splice(i,1),n.queuePending[e]=r,r.action(e,n),!r.doneFn){n.queuePending[e]=null,t(e,n);return}}}},M1=function(e,n){var i=n[e+"Buffer"],r=N1(e);!i||(i.removeEventListener("updateend",n["on"+r+"UpdateEnd_"]),i.removeEventListener("error",n["on"+r+"Error_"]),n.codecs[e]=null,n[e+"Buffer"]=null)},an=function(e,n){return e&&n&&Array.prototype.indexOf.call(e.sourceBuffers,n)!==-1},hr={appendBuffer:function(e,n,i){return function(r,a){var s=a[r+"Buffer"];if(!!an(a.mediaSource,s)){a.logger_("Appending segment "+n.mediaIndex+"'s "+e.length+" bytes to "+r+"Buffer");try{s.appendBuffer(e)}catch(o){a.logger_("Error with code "+o.code+" "+(o.code===R1?"(QUOTA_EXCEEDED_ERR) ":"")+("when appending segment "+n.mediaIndex+" to "+r+"Buffer")),a.queuePending[r]=null,i(o)}}}},remove:function(e,n){return function(i,r){var a=r[i+"Buffer"];if(!!an(r.mediaSource,a)){r.logger_("Removing "+e+" to "+n+" from "+i+"Buffer");try{a.remove(e,n)}catch{r.logger_("Remove "+e+" to "+n+" from "+i+"Buffer failed")}}}},timestampOffset:function(e){return function(n,i){var r=i[n+"Buffer"];!an(i.mediaSource,r)||(i.logger_("Setting "+n+"timestampOffset to "+e),r.timestampOffset=e)}},callback:function(e){return function(n,i){e()}},endOfStream:function(e){return function(n){if(n.mediaSource.readyState==="open"){n.logger_("Calling mediaSource endOfStream("+(e||"")+")");try{n.mediaSource.endOfStream(e)}catch(i){z.log.warn("Failed to call media source endOfStream",i)}}}},duration:function(e){return function(n){n.logger_("Setting mediaSource duration to "+e);try{n.mediaSource.duration=e}catch(i){z.log.warn("Failed to set media source duration",i)}}},abort:function(){return function(e,n){if(n.mediaSource.readyState==="open"){var i=n[e+"Buffer"];if(!!an(n.mediaSource,i)){n.logger_("calling abort on "+e+"Buffer");try{i.abort()}catch(r){z.log.warn("Failed to abort on "+e+"Buffer",r)}}}}},addSourceBuffer:function(e,n){return function(i){var r=N1(e),a=Zo(n);i.logger_("Adding "+e+"Buffer with codec "+n+" to mediaSource");var s=i.mediaSource.addSourceBuffer(a);s.addEventListener("updateend",i["on"+r+"UpdateEnd_"]),s.addEventListener("error",i["on"+r+"Error_"]),i.codecs[e]=n,i[e+"Buffer"]=s}},removeSourceBuffer:function(e){return function(n){var i=n[e+"Buffer"];if(M1(e,n),!!an(n.mediaSource,i)){n.logger_("Removing "+e+"Buffer with codec "+n.codecs[e]+" from mediaSource");try{n.mediaSource.removeSourceBuffer(i)}catch(r){z.log.warn("Failed to removeSourceBuffer "+e+"Buffer",r)}}}},changeType:function(e){return function(n,i){var r=i[n+"Buffer"],a=Zo(e);!an(i.mediaSource,r)||i.codecs[n]!==e&&(i.logger_("changing "+n+"Buffer codec from "+i.codecs[n]+" to "+e),r.changeType(a),i.codecs[n]=e)}}},pr=function(e){var n=e.type,i=e.sourceUpdater,r=e.action,a=e.doneFn,s=e.name;i.queue.push({type:n,action:r,doneFn:a,name:s}),vg(n,i)},$_=function(e,n){return function(i){if(n.queuePending[e]){var r=n.queuePending[e].doneFn;n.queuePending[e]=null,r&&r(n[e+"Error_"])}vg(e,n)}},U1=function(t){ie(e,t);function e(i){var r;return r=t.call(this)||this,r.mediaSource=i,r.sourceopenListener_=function(){return vg("mediaSource",_e(r))},r.mediaSource.addEventListener("sourceopen",r.sourceopenListener_),r.logger_=Zr("SourceUpdater"),r.audioTimestampOffset_=0,r.videoTimestampOffset_=0,r.queue=[],r.queuePending={audio:null,video:null},r.delayedAudioAppendQueue_=[],r.videoAppendQueued_=!1,r.codecs={},r.onVideoUpdateEnd_=$_("video",_e(r)),r.onAudioUpdateEnd_=$_("audio",_e(r)),r.onVideoError_=function(a){r.videoError_=a},r.onAudioError_=function(a){r.audioError_=a},r.createdSourceBuffers_=!1,r.initializedEme_=!1,r.triggeredReady_=!1,r}var n=e.prototype;return n.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},n.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},n.hasInitializedAnyEme=function(){return this.initializedEme_},n.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},n.createSourceBuffers=function(r){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(r),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},n.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},n.addSourceBuffer=function(r,a){pr({type:"mediaSource",sourceUpdater:this,action:hr.addSourceBuffer(r,a),name:"addSourceBuffer"})},n.abort=function(r){pr({type:r,sourceUpdater:this,action:hr.abort(r),name:"abort"})},n.removeSourceBuffer=function(r){if(!this.canRemoveSourceBuffer()){z.log.error("removeSourceBuffer is not supported!");return}pr({type:"mediaSource",sourceUpdater:this,action:hr.removeSourceBuffer(r),name:"removeSourceBuffer"})},n.canRemoveSourceBuffer=function(){return!z.browser.IE_VERSION&&!z.browser.IS_FIREFOX&&R.MediaSource&&R.MediaSource.prototype&&typeof R.MediaSource.prototype.removeSourceBuffer=="function"},e.canChangeType=function(){return R.SourceBuffer&&R.SourceBuffer.prototype&&typeof R.SourceBuffer.prototype.changeType=="function"},n.canChangeType=function(){return this.constructor.canChangeType()},n.changeType=function(r,a){if(!this.canChangeType()){z.log.error("changeType is not supported!");return}pr({type:r,sourceUpdater:this,action:hr.changeType(a),name:"changeType"})},n.addOrChangeSourceBuffers=function(r){var a=this;if(!r||typeof r!="object"||Object.keys(r).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(r).forEach(function(s){var o=r[s];if(!a.hasCreatedSourceBuffers())return a.addSourceBuffer(s,o);a.canChangeType()&&a.changeType(s,o)})},n.appendBuffer=function(r,a){var s=this,o=r.segmentInfo,u=r.type,l=r.bytes;if(this.processedAppend_=!0,u==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([r,a]),this.logger_("delayed audio append of "+l.length+" until video append");return}var c=a;if(pr({type:u,sourceUpdater:this,action:hr.appendBuffer(l,o||{mediaIndex:-1},c),doneFn:a,name:"appendBuffer"}),u==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var f=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+f.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,f.forEach(function(d){s.appendBuffer.apply(s,d)})}},n.audioBuffered=function(){return an(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:z.createTimeRange()},n.videoBuffered=function(){return an(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:z.createTimeRange()},n.buffered=function(){var r=an(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,a=an(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return a&&!r?this.audioBuffered():r&&!a?this.videoBuffered():eF(this.audioBuffered(),this.videoBuffered())},n.setDuration=function(r,a){a===void 0&&(a=Cn),pr({type:"mediaSource",sourceUpdater:this,action:hr.duration(r),name:"duration",doneFn:a})},n.endOfStream=function(r,a){r===void 0&&(r=null),a===void 0&&(a=Cn),typeof r!="string"&&(r=void 0),pr({type:"mediaSource",sourceUpdater:this,action:hr.endOfStream(r),name:"endOfStream",doneFn:a})},n.removeAudio=function(r,a,s){if(s===void 0&&(s=Cn),!this.audioBuffered().length||this.audioBuffered().end(0)===0){s();return}pr({type:"audio",sourceUpdater:this,action:hr.remove(r,a),doneFn:s,name:"remove"})},n.removeVideo=function(r,a,s){if(s===void 0&&(s=Cn),!this.videoBuffered().length||this.videoBuffered().end(0)===0){s();return}pr({type:"video",sourceUpdater:this,action:hr.remove(r,a),doneFn:s,name:"remove"})},n.updating=function(){return!!(Kp("audio",this)||Kp("video",this))},n.audioTimestampOffset=function(r){return typeof r<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==r&&(pr({type:"audio",sourceUpdater:this,action:hr.timestampOffset(r),name:"timestampOffset"}),this.audioTimestampOffset_=r),this.audioTimestampOffset_},n.videoTimestampOffset=function(r){return typeof r<"u"&&this.videoBuffer&&this.videoTimestampOffset!==r&&(pr({type:"video",sourceUpdater:this,action:hr.timestampOffset(r),name:"timestampOffset"}),this.videoTimestampOffset_=r),this.videoTimestampOffset_},n.audioQueueCallback=function(r){!this.audioBuffer||pr({type:"audio",sourceUpdater:this,action:hr.callback(r),name:"callback"})},n.videoQueueCallback=function(r){!this.videoBuffer||pr({type:"video",sourceUpdater:this,action:hr.callback(r),name:"callback"})},n.dispose=function(){var r=this;this.trigger("dispose"),DR.forEach(function(a){r.abort(a),r.canRemoveSourceBuffer()?r.removeSourceBuffer(a):r[a+"QueueCallback"](function(){return M1(a,r)})}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},e}(z.EventTarget),W_=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},q_=new Uint8Array(`

`.split("").map(function(t){return t.charCodeAt(0)})),FR=function(t){ie(e,t);function e(i,r){var a;return r===void 0&&(r={}),a=t.call(this,i,r)||this,a.mediaSource_=null,a.subtitlesTrack_=null,a.loaderType_="subtitle",a.featuresNativeTextTracks_=i.featuresNativeTextTracks,a.shouldSaveSegmentTimingInfo_=!1,a}var n=e.prototype;return n.createTransmuxer_=function(){return null},n.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return z.createTimeRanges();var r=this.subtitlesTrack_.cues,a=r[0].startTime,s=r[r.length-1].startTime;return z.createTimeRanges([[a,s]])},n.initSegmentForMap=function(r,a){if(a===void 0&&(a=!1),!r)return null;var s=qc(r),o=this.initSegments_[s];if(a&&!o&&r.bytes){var u=q_.byteLength+r.bytes.byteLength,l=new Uint8Array(u);l.set(r.bytes),l.set(q_,r.bytes.byteLength),this.initSegments_[s]=o={resolvedUri:r.resolvedUri,byterange:r.byterange,bytes:l}}return o||r},n.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},n.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},n.track=function(r){return typeof r>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=r,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)},n.remove=function(r,a){vo(r,a,this.subtitlesTrack_)},n.fillBuffer_=function(){var r=this,a=this.chooseNextRequest_();if(!!a){if(this.syncController_.timestampOffsetForTimeline(a.timeline)===null){var s=function(){r.state="READY",r.paused()||r.monitorBuffer_()};this.syncController_.one("timestampoffset",s),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(a)}},n.timestampOffsetForSegment_=function(){return null},n.chooseNextRequest_=function(){return this.skipEmptySegments_(t.prototype.chooseNextRequest_.call(this))},n.skipEmptySegments_=function(r){for(;r&&r.segment.empty;){if(r.mediaIndex+1>=r.playlist.segments.length){r=null;break}r=this.generateSegmentInfo_({playlist:r.playlist,mediaIndex:r.mediaIndex+1,startOfSegment:r.startOfSegment+r.duration,isSyncRequest:r.isSyncRequest})}return r},n.stopForError=function(r){this.error(r),this.state="READY",this.pause(),this.trigger("error")},n.segmentRequestFinished_=function(r,a,s){var o=this;if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(a.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(r){r.code===ln.TIMEOUT&&this.handleTimeout_(),r.code===ln.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(r);return}var u=this.pendingSegment_;this.saveBandwidthRelatedStats_(u.duration,a.stats),this.state="APPENDING",this.trigger("appending");var l=u.segment;if(l.map&&(l.map.bytes=a.map.bytes),u.bytes=a.bytes,typeof R.WebVTT!="function"&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var c,f=function(){o.subtitlesTrack_.tech_.off("vttjsloaded",c),o.stopForError({message:"Error loading vtt.js"})};c=function(){o.subtitlesTrack_.tech_.off("vttjserror",f),o.segmentRequestFinished_(r,a,s)},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",c),this.subtitlesTrack_.tech_.one("vttjserror",f);return}l.requested=!0;try{this.parseVTTCues_(u)}catch(d){this.stopForError({message:d.message});return}if(this.updateTimeMapping_(u,this.syncController_.timelines[u.timeline],this.playlist_),u.cues.length?u.timingInfo={start:u.cues[0].startTime,end:u.cues[u.cues.length-1].endTime}:u.timingInfo={start:u.startOfSegment,end:u.startOfSegment+u.duration},u.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}u.byteLength=u.bytes.byteLength,this.mediaSecondsLoaded+=l.duration,u.cues.forEach(function(d){o.subtitlesTrack_.addCue(o.featuresNativeTextTracks_?new R.VTTCue(d.startTime,d.endTime,d.text):d)}),TR(this.subtitlesTrack_),this.handleAppendsDone_()},n.handleData_=function(){},n.updateTimingInfoEnd_=function(){},n.parseVTTCues_=function(r){var a,s=!1;typeof R.TextDecoder=="function"?a=new R.TextDecoder("utf8"):(a=R.WebVTT.StringDecoder(),s=!0);var o=new R.WebVTT.Parser(R,R.vttjs,a);if(r.cues=[],r.timestampmap={MPEGTS:0,LOCAL:0},o.oncue=r.cues.push.bind(r.cues),o.ontimestampmap=function(c){r.timestampmap=c},o.onparsingerror=function(c){z.log.warn("Error encountered when parsing cues: "+c.message)},r.segment.map){var u=r.segment.map.bytes;s&&(u=W_(u)),o.parse(u)}var l=r.bytes;s&&(l=W_(l)),o.parse(l),o.flush()},n.updateTimeMapping_=function(r,a,s){var o=r.segment;if(!!a){if(!r.cues.length){o.empty=!0;return}var u=r.timestampmap,l=u.MPEGTS/Fc.ONE_SECOND_IN_TS-u.LOCAL+a.mapping;if(r.cues.forEach(function(d){d.startTime+=l,d.endTime+=l}),!s.syncInfo){var c=r.cues[0].startTime,f=r.cues[r.cues.length-1].startTime;s.syncInfo={mediaSequence:s.mediaSequence+r.mediaIndex,time:Math.min(c,f-o.duration)}}}},e}(Gp),RR=function(e,n){for(var i=e.cues,r=0;r<i.length;r++){var a=i[r];if(n>=a.adStartTime&&n<=a.adEndTime)return a}return null},NR=function(e,n,i){if(i===void 0&&(i=0),!!e.segments)for(var r=i,a,s=0;s<e.segments.length;s++){var o=e.segments[s];if(a||(a=RR(n,r+o.duration/2)),a){if("cueIn"in o){a.endTime=r,a.adEndTime=r,r+=o.duration,a=null;continue}if(r<a.endTime){r+=o.duration;continue}a.endTime+=o.duration}else if("cueOut"in o&&(a=new R.VTTCue(r,r+o.duration,o.cueOut),a.adStartTime=r,a.adEndTime=r+parseFloat(o.cueOut),n.addCue(a)),"cueOutCont"in o){var u=o.cueOutCont.split("/").map(parseFloat),l=u[0],c=u[1];a=new R.VTTCue(r,r+o.duration,""),a.adStartTime=r-l,a.adEndTime=a.adStartTime+c,n.addCue(a)}r+=o.duration}},MR=86400,G_=[{name:"VOD",run:function(e,n,i,r,a){if(i!==1/0){var s={time:0,segmentIndex:0,partIndex:null};return s}return null}},{name:"ProgramDateTime",run:function(e,n,i,r,a){if(!Object.keys(e.timelineToDatetimeMappings).length)return null;var s=null,o=null,u=Bp(n);a=a||0;for(var l=0;l<u.length;l++){var c=n.endList||a===0?l:u.length-(l+1),f=u[c],d=f.segment,g=e.timelineToDatetimeMappings[d.timeline];if(!(!g||!d.dateTimeObject)){var _=d.dateTimeObject.getTime()/1e3,y=_+g;if(d.parts&&typeof f.partIndex=="number")for(var x=0;x<f.partIndex;x++)y+=d.parts[x].duration;var T=Math.abs(a-y);if(o!==null&&(T===0||o<T))break;o=T,s={time:y,segmentIndex:f.segmentIndex,partIndex:f.partIndex}}}return s}},{name:"Segment",run:function(e,n,i,r,a){var s=null,o=null;a=a||0;for(var u=Bp(n),l=0;l<u.length;l++){var c=n.endList||a===0?l:u.length-(l+1),f=u[c],d=f.segment,g=f.part&&f.part.start||d&&d.start;if(d.timeline===r&&typeof g<"u"){var _=Math.abs(a-g);if(o!==null&&o<_)break;(!s||o===null||o>=_)&&(o=_,s={time:g,segmentIndex:f.segmentIndex,partIndex:f.partIndex})}}return s}},{name:"Discontinuity",run:function(e,n,i,r,a){var s=null;if(a=a||0,n.discontinuityStarts&&n.discontinuityStarts.length)for(var o=null,u=0;u<n.discontinuityStarts.length;u++){var l=n.discontinuityStarts[u],c=n.discontinuitySequence+u+1,f=e.discontinuities[c];if(f){var d=Math.abs(a-f.time);if(o!==null&&o<d)break;(!s||o===null||o>=d)&&(o=d,s={time:f.time,segmentIndex:l,partIndex:null})}}return s}},{name:"Playlist",run:function(e,n,i,r,a){if(n.syncInfo){var s={time:n.syncInfo.time,segmentIndex:n.syncInfo.mediaSequence-n.mediaSequence,partIndex:null};return s}return null}}],UR=function(t){ie(e,t);function e(i){var r;return r=t.call(this)||this,r.timelines=[],r.discontinuities=[],r.timelineToDatetimeMappings={},r.logger_=Zr("SyncController"),r}var n=e.prototype;return n.getSyncPoint=function(r,a,s,o){var u=this.runStrategies_(r,a,s,o);return u.length?this.selectSyncPoint_(u,{key:"time",value:o}):null},n.getExpiredTime=function(r,a){if(!r||!r.segments)return null;var s=this.runStrategies_(r,a,r.discontinuitySequence,0);if(!s.length)return null;var o=this.selectSyncPoint_(s,{key:"segmentIndex",value:0});return o.segmentIndex>0&&(o.time*=-1),Math.abs(o.time+Ao({defaultDuration:r.targetDuration,durationList:r.segments,startIndex:o.segmentIndex,endIndex:0}))},n.runStrategies_=function(r,a,s,o){for(var u=[],l=0;l<G_.length;l++){var c=G_[l],f=c.run(this,r,a,s,o);f&&(f.strategy=c.name,u.push({strategy:c.name,syncPoint:f}))}return u},n.selectSyncPoint_=function(r,a){for(var s=r[0].syncPoint,o=Math.abs(r[0].syncPoint[a.key]-a.value),u=r[0].strategy,l=1;l<r.length;l++){var c=Math.abs(r[l].syncPoint[a.key]-a.value);c<o&&(o=c,s=r[l].syncPoint,u=r[l].strategy)}return this.logger_("syncPoint for ["+a.key+": "+a.value+"] chosen with strategy"+(" ["+u+"]: [time:"+s.time+",")+(" segmentIndex:"+s.segmentIndex)+(typeof s.partIndex=="number"?",partIndex:"+s.partIndex:"")+"]"),s},n.saveExpiredSegmentInfo=function(r,a){var s=a.mediaSequence-r.mediaSequence;if(s>MR){z.log.warn("Not saving expired segment info. Media sequence gap "+s+" is too large.");return}for(var o=s-1;o>=0;o--){var u=r.segments[o];if(u&&typeof u.start<"u"){a.syncInfo={mediaSequence:r.mediaSequence+o,time:u.start},this.logger_("playlist refresh sync: [time:"+a.syncInfo.time+","+(" mediaSequence: "+a.syncInfo.mediaSequence+"]")),this.trigger("syncinfoupdate");break}}},n.setDateTimeMappingForStart=function(r){if(this.timelineToDatetimeMappings={},r.segments&&r.segments.length&&r.segments[0].dateTimeObject){var a=r.segments[0],s=a.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[a.timeline]=-s}},n.saveSegmentTimingInfo=function(r){var a=r.segmentInfo,s=r.shouldSaveTimelineMapping,o=this.calculateSegmentTimeMapping_(a,a.timingInfo,s),u=a.segment;o&&(this.saveDiscontinuitySyncInfo_(a),a.playlist.syncInfo||(a.playlist.syncInfo={mediaSequence:a.playlist.mediaSequence+a.mediaIndex,time:u.start}));var l=u.dateTimeObject;u.discontinuity&&s&&l&&(this.timelineToDatetimeMappings[u.timeline]=-(l.getTime()/1e3))},n.timestampOffsetForTimeline=function(r){return typeof this.timelines[r]>"u"?null:this.timelines[r].time},n.mappingForTimeline=function(r){return typeof this.timelines[r]>"u"?null:this.timelines[r].mapping},n.calculateSegmentTimeMapping_=function(r,a,s){var o=r.segment,u=r.part,l=this.timelines[r.timeline],c,f;if(typeof r.timestampOffset=="number")l={time:r.startOfSegment,mapping:r.startOfSegment-a.start},s&&(this.timelines[r.timeline]=l,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+r.timeline+": "+("[time: "+l.time+"] [mapping: "+l.mapping+"]"))),c=r.startOfSegment,f=a.end+l.mapping;else if(l)c=a.start+l.mapping,f=a.end+l.mapping;else return!1;return u&&(u.start=c,u.end=f),(!o.start||c<o.start)&&(o.start=c),o.end=f,!0},n.saveDiscontinuitySyncInfo_=function(r){var a=r.playlist,s=r.segment;if(s.discontinuity)this.discontinuities[s.timeline]={time:s.start,accuracy:0};else if(a.discontinuityStarts&&a.discontinuityStarts.length)for(var o=0;o<a.discontinuityStarts.length;o++){var u=a.discontinuityStarts[o],l=a.discontinuitySequence+o+1,c=u-r.mediaIndex,f=Math.abs(c);if(!this.discontinuities[l]||this.discontinuities[l].accuracy>f){var d=void 0;c<0?d=s.start-Ao({defaultDuration:a.targetDuration,durationList:a.segments,startIndex:r.mediaIndex,endIndex:u}):d=s.end+Ao({defaultDuration:a.targetDuration,durationList:a.segments,startIndex:r.mediaIndex+1,endIndex:u}),this.discontinuities[l]={time:d,accuracy:f}}}},n.dispose=function(){this.trigger("dispose"),this.off()},e}(z.EventTarget),BR=function(t){ie(e,t);function e(){var i;return i=t.call(this)||this,i.pendingTimelineChanges_={},i.lastTimelineChanges_={},i}var n=e.prototype;return n.clearPendingTimelineChange=function(r){this.pendingTimelineChanges_[r]=null,this.trigger("pendingtimelinechange")},n.pendingTimelineChange=function(r){var a=r.type,s=r.from,o=r.to;return typeof s=="number"&&typeof o=="number"&&(this.pendingTimelineChanges_[a]={type:a,from:s,to:o},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[a]},n.lastTimelineChange=function(r){var a=r.type,s=r.from,o=r.to;return typeof s=="number"&&typeof o=="number"&&(this.lastTimelineChanges_[a]={type:a,from:s,to:o},delete this.pendingTimelineChanges_[a],this.trigger("timelinechange")),this.lastTimelineChanges_[a]},n.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},e}(z.EventTarget),VR=E1(C1(function(){var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function e(k,I,D){return D={path:I,exports:{},require:function(L,V){return n(L,V==null?D.path:V)}},k(D,D.exports),D.exports}function n(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var i=e(function(k){function I(F,L){for(var V=0;V<L.length;V++){var A=L[V];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(F,A.key,A)}}function D(F,L,V){return L&&I(F.prototype,L),V&&I(F,V),F}k.exports=D,k.exports.default=k.exports,k.exports.__esModule=!0}),r=e(function(k){function I(D,F){return k.exports=I=Object.setPrototypeOf||function(V,A){return V.__proto__=A,V},k.exports.default=k.exports,k.exports.__esModule=!0,I(D,F)}k.exports=I,k.exports.default=k.exports,k.exports.__esModule=!0}),a=e(function(k){function I(D,F){D.prototype=Object.create(F.prototype),D.prototype.constructor=D,r(D,F)}k.exports=I,k.exports.default=k.exports,k.exports.__esModule=!0}),s=function(){function k(){this.listeners={}}var I=k.prototype;return I.on=function(F,L){this.listeners[F]||(this.listeners[F]=[]),this.listeners[F].push(L)},I.off=function(F,L){if(!this.listeners[F])return!1;var V=this.listeners[F].indexOf(L);return this.listeners[F]=this.listeners[F].slice(0),this.listeners[F].splice(V,1),V>-1},I.trigger=function(F){var L=this.listeners[F];if(!!L)if(arguments.length===2)for(var V=L.length,A=0;A<V;++A)L[A].call(this,arguments[1]);else for(var M=Array.prototype.slice.call(arguments,1),B=L.length,$=0;$<B;++$)L[$].apply(this,M)},I.dispose=function(){this.listeners={}},I.pipe=function(F){this.on("data",function(L){F.push(L)})},k}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function o(k){return k.subarray(0,k.byteLength-k[k.byteLength-1])}/*! @name aes-decrypter @version 3.1.3 @license Apache-2.0 */var u=function(){var I=[[[],[],[],[],[]],[[],[],[],[],[]]],D=I[0],F=I[1],L=D[4],V=F[4],A,M,B,$=[],G=[],Q,Z,se,W,X,K;for(A=0;A<256;A++)G[($[A]=A<<1^(A>>7)*283)^A]=A;for(M=B=0;!L[M];M^=Q||1,B=G[B]||1)for(W=B^B<<1^B<<2^B<<3^B<<4,W=W>>8^W&255^99,L[M]=W,V[W]=M,se=$[Z=$[Q=$[M]]],K=se*16843009^Z*65537^Q*257^M*16843008,X=$[W]*257^W*16843008,A=0;A<4;A++)D[A][M]=X=X<<24^X>>>8,F[A][W]=K=K<<24^K>>>8;for(A=0;A<5;A++)D[A]=D[A].slice(0),F[A]=F[A].slice(0);return I},l=null,c=function(){function k(D){l||(l=u()),this._tables=[[l[0][0].slice(),l[0][1].slice(),l[0][2].slice(),l[0][3].slice(),l[0][4].slice()],[l[1][0].slice(),l[1][1].slice(),l[1][2].slice(),l[1][3].slice(),l[1][4].slice()]];var F,L,V,A=this._tables[0][4],M=this._tables[1],B=D.length,$=1;if(B!==4&&B!==6&&B!==8)throw new Error("Invalid aes key size");var G=D.slice(0),Q=[];for(this._key=[G,Q],F=B;F<4*B+28;F++)V=G[F-1],(F%B===0||B===8&&F%B===4)&&(V=A[V>>>24]<<24^A[V>>16&255]<<16^A[V>>8&255]<<8^A[V&255],F%B===0&&(V=V<<8^V>>>24^$<<24,$=$<<1^($>>7)*283)),G[F]=G[F-B]^V;for(L=0;F;L++,F--)V=G[L&3?F:F-4],F<=4||L<4?Q[L]=V:Q[L]=M[0][A[V>>>24]]^M[1][A[V>>16&255]]^M[2][A[V>>8&255]]^M[3][A[V&255]]}var I=k.prototype;return I.decrypt=function(F,L,V,A,M,B){var $=this._key[1],G=F^$[0],Q=A^$[1],Z=V^$[2],se=L^$[3],W,X,K,le=$.length/4-2,re,ve=4,fe=this._tables[1],pe=fe[0],xe=fe[1],Ue=fe[2],ct=fe[3],Ae=fe[4];for(re=0;re<le;re++)W=pe[G>>>24]^xe[Q>>16&255]^Ue[Z>>8&255]^ct[se&255]^$[ve],X=pe[Q>>>24]^xe[Z>>16&255]^Ue[se>>8&255]^ct[G&255]^$[ve+1],K=pe[Z>>>24]^xe[se>>16&255]^Ue[G>>8&255]^ct[Q&255]^$[ve+2],se=pe[se>>>24]^xe[G>>16&255]^Ue[Q>>8&255]^ct[Z&255]^$[ve+3],ve+=4,G=W,Q=X,Z=K;for(re=0;re<4;re++)M[(3&-re)+B]=Ae[G>>>24]<<24^Ae[Q>>16&255]<<16^Ae[Z>>8&255]<<8^Ae[se&255]^$[ve++],W=G,G=Q,Q=Z,Z=se,se=W},k}(),f=function(k){a(I,k);function I(){var F;return F=k.call(this,s)||this,F.jobs=[],F.delay=1,F.timeout_=null,F}var D=I.prototype;return D.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},D.push=function(L){this.jobs.push(L),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},I}(s),d=function(I){return I<<24|(I&65280)<<8|(I&16711680)>>8|I>>>24},g=function(I,D,F){var L=new Int32Array(I.buffer,I.byteOffset,I.byteLength>>2),V=new c(Array.prototype.slice.call(D)),A=new Uint8Array(I.byteLength),M=new Int32Array(A.buffer),B,$,G,Q,Z,se,W,X,K;for(B=F[0],$=F[1],G=F[2],Q=F[3],K=0;K<L.length;K+=4)Z=d(L[K]),se=d(L[K+1]),W=d(L[K+2]),X=d(L[K+3]),V.decrypt(Z,se,W,X,M,K),M[K]=d(M[K]^B),M[K+1]=d(M[K+1]^$),M[K+2]=d(M[K+2]^G),M[K+3]=d(M[K+3]^Q),B=Z,$=se,G=W,Q=X;return A},_=function(){function k(D,F,L,V){var A=k.STEP,M=new Int32Array(D.buffer),B=new Uint8Array(D.byteLength),$=0;for(this.asyncStream_=new f,this.asyncStream_.push(this.decryptChunk_(M.subarray($,$+A),F,L,B)),$=A;$<M.length;$+=A)L=new Uint32Array([d(M[$-4]),d(M[$-3]),d(M[$-2]),d(M[$-1])]),this.asyncStream_.push(this.decryptChunk_(M.subarray($,$+A),F,L,B));this.asyncStream_.push(function(){V(null,o(B))})}var I=k.prototype;return I.decryptChunk_=function(F,L,V,A){return function(){var M=g(F,L,V);A.set(M,F.byteOffset)}},i(k,null,[{key:"STEP",get:function(){return 32e3}}]),k}(),y;typeof window<"u"?y=window:typeof t<"u"?y=t:typeof self<"u"?y=self:y={};var x=y,T=function(I){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(I):I&&I.buffer instanceof ArrayBuffer},E=x.BigInt||Number;E("0x1"),E("0x100"),E("0x10000"),E("0x1000000"),E("0x100000000"),E("0x10000000000"),E("0x1000000000000"),E("0x100000000000000"),E("0x10000000000000000");var w=function(I){var D={};return Object.keys(I).forEach(function(F){var L=I[F];T(L)?D[F]={bytes:L.buffer,byteOffset:L.byteOffset,byteLength:L.byteLength}:D[F]=L}),D};self.onmessage=function(k){var I=k.data,D=new Uint8Array(I.encrypted.bytes,I.encrypted.byteOffset,I.encrypted.byteLength),F=new Uint32Array(I.key.bytes,I.key.byteOffset,I.key.byteLength/4),L=new Uint32Array(I.iv.bytes,I.iv.byteOffset,I.iv.byteLength/4);new _(D,F,L,function(V,A){self.postMessage(w({source:I.source,decrypted:A}),[A.buffer])})}})),jR=b1(VR),zR=function(e){var n=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(n="main-desc"),n},Qc=function(e,n){e.abort(),e.pause(),n&&n.activePlaylistLoader&&(n.activePlaylistLoader.pause(),n.activePlaylistLoader=null)},Xp=function(e,n){n.activePlaylistLoader=e,e.load()},HR=function(e,n){return function(){var i=n.segmentLoaders,r=i[e],a=i.main,s=n.mediaTypes[e],o=s.activeTrack(),u=s.getActiveGroup(),l=s.activePlaylistLoader,c=s.lastGroup_;if(!(u&&c&&u.id===c.id)&&(s.lastGroup_=u,s.lastTrack_=o,Qc(r,s),!(!u||u.isMasterPlaylist))){if(!u.playlistLoader){l&&a.resetEverything();return}r.resyncLoader(),Xp(u.playlistLoader,s)}}},$R=function(e,n){return function(){var i=n.segmentLoaders[e],r=n.mediaTypes[e];r.lastGroup_=null,i.abort(),i.pause()}},WR=function(e,n){return function(){var i=n.masterPlaylistLoader,r=n.segmentLoaders,a=r[e],s=r.main,o=n.mediaTypes[e],u=o.activeTrack(),l=o.getActiveGroup(),c=o.activePlaylistLoader,f=o.lastTrack_;if(!(f&&u&&f.id===u.id)&&(o.lastGroup_=l,o.lastTrack_=u,Qc(a,o),!!l)){if(l.isMasterPlaylist){if(!u||!f||u.id===f.id)return;var d=n.vhs.masterPlaylistController_,g=d.selectPlaylist();if(d.media()===g)return;o.logger_("track change. Switching master audio from "+f.id+" to "+u.id),i.pause(),s.resetEverything(),d.fastQualityChange_(g);return}if(e==="AUDIO"){if(!l.playlistLoader){s.setAudio(!0),s.resetEverything();return}a.setAudio(!0),s.setAudio(!1)}if(c===l.playlistLoader){Xp(l.playlistLoader,o);return}a.track&&a.track(u),a.resetEverything(),Xp(l.playlistLoader,o)}}},Yc={AUDIO:function(e,n){return function(){var i=n.segmentLoaders[e],r=n.mediaTypes[e],a=n.blacklistCurrentPlaylist;Qc(i,r);var s=r.activeTrack(),o=r.activeGroup(),u=(o.filter(function(f){return f.default})[0]||o[0]).id,l=r.tracks[u];if(s===l){a({message:"Problem encountered loading the default audio track."});return}z.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(var c in r.tracks)r.tracks[c].enabled=r.tracks[c]===l;r.onTrackChanged()}},SUBTITLES:function(e,n){return function(){var i=n.segmentLoaders[e],r=n.mediaTypes[e];z.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Qc(i,r);var a=r.activeTrack();a&&(a.mode="disabled"),r.onTrackChanged()}}},K_={AUDIO:function(e,n,i){if(!!n){var r=i.tech,a=i.requestOptions,s=i.segmentLoaders[e];n.on("loadedmetadata",function(){var o=n.media();s.playlist(o,a),(!r.paused()||o.endList&&r.preload()!=="none")&&s.load()}),n.on("loadedplaylist",function(){s.playlist(n.media(),a),r.paused()||s.load()}),n.on("error",Yc[e](e,i))}},SUBTITLES:function(e,n,i){var r=i.tech,a=i.requestOptions,s=i.segmentLoaders[e],o=i.mediaTypes[e];n.on("loadedmetadata",function(){var u=n.media();s.playlist(u,a),s.track(o.activeTrack()),(!r.paused()||u.endList&&r.preload()!=="none")&&s.load()}),n.on("loadedplaylist",function(){s.playlist(n.media(),a),r.paused()||s.load()}),n.on("error",Yc[e](e,i))}},qR={AUDIO:function(e,n){var i=n.vhs,r=n.sourceType,a=n.segmentLoaders[e],s=n.requestOptions,o=n.master.mediaGroups,u=n.mediaTypes[e],l=u.groups,c=u.tracks,f=u.logger_,d=n.masterPlaylistLoader,g=Cu(d.master);(!o[e]||Object.keys(o[e]).length===0)&&(o[e]={main:{default:{default:!0}}},g&&(o[e].main.default.playlists=d.master.playlists));for(var _ in o[e]){l[_]||(l[_]=[]);for(var y in o[e][_]){var x=o[e][_][y],T=void 0;if(g?(f("AUDIO group '"+_+"' label '"+y+"' is a master playlist"),x.isMasterPlaylist=!0,T=null):r==="vhs-json"&&x.playlists?T=new Ha(x.playlists[0],i,s):x.resolvedUri?T=new Ha(x.resolvedUri,i,s):x.playlists&&r==="dash"?T=new Wp(x.playlists[0],i,s,d):T=null,x=z.mergeOptions({id:y,playlistLoader:T},x),K_[e](e,x.playlistLoader,n),l[_].push(x),typeof c[y]>"u"){var E=new z.AudioTrack({id:y,kind:zR(x),enabled:!1,language:x.language,default:x.default,label:y});c[y]=E}}}a.on("error",Yc[e](e,n))},SUBTITLES:function(e,n){var i=n.tech,r=n.vhs,a=n.sourceType,s=n.segmentLoaders[e],o=n.requestOptions,u=n.master.mediaGroups,l=n.mediaTypes[e],c=l.groups,f=l.tracks,d=n.masterPlaylistLoader;for(var g in u[e]){c[g]||(c[g]=[]);for(var _ in u[e][g])if(!u[e][g][_].forced){var y=u[e][g][_],x=void 0;if(a==="hls")x=new Ha(y.resolvedUri,r,o);else if(a==="dash"){var T=y.playlists.filter(function(w){return w.excludeUntil!==1/0});if(!T.length)return;x=new Wp(y.playlists[0],r,o,d)}else a==="vhs-json"&&(x=new Ha(y.playlists?y.playlists[0]:y.resolvedUri,r,o));if(y=z.mergeOptions({id:_,playlistLoader:x},y),K_[e](e,y.playlistLoader,n),c[g].push(y),typeof f[_]>"u"){var E=i.addRemoteTextTrack({id:_,kind:"subtitles",default:y.default&&y.autoselect,language:y.language,label:_},!1).track;f[_]=E}}}s.on("error",Yc[e](e,n))},"CLOSED-CAPTIONS":function(e,n){var i=n.tech,r=n.master.mediaGroups,a=n.mediaTypes[e],s=a.groups,o=a.tracks;for(var u in r[e]){s[u]||(s[u]=[]);for(var l in r[e][u]){var c=r[e][u][l];if(!!/^(?:CC|SERVICE)/.test(c.instreamId)){var f=i.options_.vhs&&i.options_.vhs.captionServices||{},d={label:l,language:c.language,instreamId:c.instreamId,default:c.default&&c.autoselect};if(f[d.instreamId]&&(d=z.mergeOptions(d,f[d.instreamId])),d.default===void 0&&delete d.default,s[u].push(z.mergeOptions({id:l},c)),typeof o[l]>"u"){var g=i.addRemoteTextTrack({id:d.instreamId,kind:"captions",default:d.default,language:d.language,label:d.label},!1).track;o[l]=g}}}}}},GR=function t(e,n){for(var i=0;i<e.length;i++)if(fg(n,e[i])||e[i].playlists&&t(e[i].playlists,n))return!0;return!1},KR=function(e,n){return function(i){var r=n.masterPlaylistLoader,a=n.mediaTypes[e].groups,s=r.media();if(!s)return null;var o=null;s.attributes[e]&&(o=a[s.attributes[e]]);var u=Object.keys(a);if(!o)if(e==="AUDIO"&&u.length>1&&Cu(n.master))for(var l=0;l<u.length;l++){var c=a[u[l]];if(GR(c,s)){o=c;break}}else a.main?o=a.main:u.length===1&&(o=a[u[0]]);return typeof i>"u"?o:i===null||!o?null:o.filter(function(f){return f.id===i.id})[0]||null}},XR={AUDIO:function(e,n){return function(){var i=n.mediaTypes[e].tracks;for(var r in i)if(i[r].enabled)return i[r];return null}},SUBTITLES:function(e,n){return function(){var i=n.mediaTypes[e].tracks;for(var r in i)if(i[r].mode==="showing"||i[r].mode==="hidden")return i[r];return null}}},QR=function(e,n){var i=n.mediaTypes;return function(){var r=i[e].activeTrack();return r?i[e].activeGroup(r):null}},YR=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(_){qR[_](_,e)});var n=e.mediaTypes,i=e.masterPlaylistLoader,r=e.tech,a=e.vhs,s=e.segmentLoaders,o=s.AUDIO,u=s.main;["AUDIO","SUBTITLES"].forEach(function(_){n[_].activeGroup=KR(_,e),n[_].activeTrack=XR[_](_,e),n[_].onGroupChanged=HR(_,e),n[_].onGroupChanging=$R(_,e),n[_].onTrackChanged=WR(_,e),n[_].getActiveGroup=QR(_,e)});var l=n.AUDIO.activeGroup();if(l){var c=(l.filter(function(_){return _.default})[0]||l[0]).id;n.AUDIO.tracks[c].enabled=!0,n.AUDIO.onGroupChanged(),n.AUDIO.onTrackChanged();var f=n.AUDIO.getActiveGroup();f.playlistLoader?(u.setAudio(!1),o.setAudio(!0)):u.setAudio(!0)}i.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(_){return n[_].onGroupChanged()})}),i.on("mediachanging",function(){["AUDIO","SUBTITLES"].forEach(function(_){return n[_].onGroupChanging()})});var d=function(){n.AUDIO.onTrackChanged(),r.trigger({type:"usage",name:"vhs-audio-change"}),r.trigger({type:"usage",name:"hls-audio-change"})};r.audioTracks().addEventListener("change",d),r.remoteTextTracks().addEventListener("change",n.SUBTITLES.onTrackChanged),a.on("dispose",function(){r.audioTracks().removeEventListener("change",d),r.remoteTextTracks().removeEventListener("change",n.SUBTITLES.onTrackChanged)}),r.clearTracks("audio");for(var g in n.AUDIO.tracks)r.audioTracks().addTrack(n.AUDIO.tracks[g])},JR=function(){var e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(n){e[n]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Cn,activeTrack:Cn,getActiveGroup:Cn,onGroupChanged:Cn,onTrackChanged:Cn,lastTrack_:null,logger_:Zr("MediaGroups["+n+"]")}}),e},ZR=60*2,gn,eN=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],tN=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},rN=function(e){var n=e.currentPlaylist,i=e.buffered,r=e.currentTime,a=e.nextPlaylist,s=e.bufferLowWaterLine,o=e.bufferHighWaterLine,u=e.duration,l=e.experimentalBufferBasedABR,c=e.log;if(!a)return z.log.warn("We received no playlist to switch to. Please check your stream."),!1;var f="allowing switch "+(n&&n.id||"null")+" -> "+a.id;if(!n)return c(f+" as current playlist is not set"),!0;if(a.id===n.id)return!1;var d=Boolean(za(i,r).length);if(!n.endList)return!d&&typeof n.partTargetDuration=="number"?(c("not "+f+" as current playlist is live llhls, but currentTime isn't in buffered."),!1):(c(f+" as current playlist is live"),!0);var g=lg(i,r),_=l?Tt.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:Tt.MAX_BUFFER_LOW_WATER_LINE;if(u<_)return c(f+" as duration < max low water line ("+u+" < "+_+")"),!0;var y=a.attributes.BANDWIDTH,x=n.attributes.BANDWIDTH;if(y<x&&(!l||g<o)){var T=f+" as next bandwidth < current bandwidth ("+y+" < "+x+")";return l&&(T+=" and forwardBuffer < bufferHighWaterLine ("+g+" < "+o+")"),c(T),!0}if((!l||y>x)&&g>=s){var E=f+" as forwardBuffer >= bufferLowWaterLine ("+g+" >= "+s+")";return l&&(E+=" and next bandwidth > current bandwidth ("+y+" > "+x+")"),c(E),!0}return c("not "+f+" as no switching criteria met"),!1},nN=function(t){ie(e,t);function e(i){var r;r=t.call(this)||this;var a=i.src,s=i.handleManifestRedirects,o=i.withCredentials,u=i.tech,l=i.bandwidth,c=i.externVhs,f=i.useCueTags,d=i.blacklistDuration,g=i.enableLowInitialPlaylist,_=i.sourceType,y=i.cacheEncryptionKeys,x=i.experimentalBufferBasedABR,T=i.experimentalLeastPixelDiffSelector,E=i.captionServices;if(!a)throw new Error("A non-empty playlist URL or JSON manifest string is required");var w=i.maxPlaylistRetries;(w===null||typeof w>"u")&&(w=1/0),gn=c,r.experimentalBufferBasedABR=Boolean(x),r.experimentalLeastPixelDiffSelector=Boolean(T),r.withCredentials=o,r.tech_=u,r.vhs_=u.vhs,r.sourceType_=_,r.useCueTags_=f,r.blacklistDuration=d,r.maxPlaylistRetries=w,r.enableLowInitialPlaylist=g,r.useCueTags_&&(r.cueTagsTrack_=r.tech_.addTextTrack("metadata","ad-cues"),r.cueTagsTrack_.inBandMetadataTrackDispatchType=""),r.requestOptions_={withCredentials:o,handleManifestRedirects:s,maxPlaylistRetries:w,timeout:null},r.on("error",r.pauseLoading),r.mediaTypes_=JR(),r.mediaSource=new R.MediaSource,r.handleDurationChange_=r.handleDurationChange_.bind(_e(r)),r.handleSourceOpen_=r.handleSourceOpen_.bind(_e(r)),r.handleSourceEnded_=r.handleSourceEnded_.bind(_e(r)),r.mediaSource.addEventListener("durationchange",r.handleDurationChange_),r.mediaSource.addEventListener("sourceopen",r.handleSourceOpen_),r.mediaSource.addEventListener("sourceended",r.handleSourceEnded_),r.seekable_=z.createTimeRanges(),r.hasPlayed_=!1,r.syncController_=new UR(i),r.segmentMetadataTrack_=u.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,r.decrypter_=new jR,r.sourceUpdater_=new U1(r.mediaSource),r.inbandTextTracks_={},r.timelineChangeController_=new BR;var k={vhs:r.vhs_,parse708captions:i.parse708captions,useDtsForTimestampOffset:i.useDtsForTimestampOffset,captionServices:E,mediaSource:r.mediaSource,currentTime:r.tech_.currentTime.bind(r.tech_),seekable:function(){return r.seekable()},seeking:function(){return r.tech_.seeking()},duration:function(){return r.duration()},hasPlayed:function(){return r.hasPlayed_},goalBufferLength:function(){return r.goalBufferLength()},bandwidth:l,syncController:r.syncController_,decrypter:r.decrypter_,sourceType:r.sourceType_,inbandTextTracks:r.inbandTextTracks_,cacheEncryptionKeys:y,sourceUpdater:r.sourceUpdater_,timelineChangeController:r.timelineChangeController_,experimentalExactManifestTimings:i.experimentalExactManifestTimings};r.masterPlaylistLoader_=r.sourceType_==="dash"?new Wp(a,r.vhs_,r.requestOptions_):new Ha(a,r.vhs_,r.requestOptions_),r.setupMasterPlaylistLoaderListeners_(),r.mainSegmentLoader_=new Gp(z.mergeOptions(k,{segmentMetadataTrack:r.segmentMetadataTrack_,loaderType:"main"}),i),r.audioSegmentLoader_=new Gp(z.mergeOptions(k,{loaderType:"audio"}),i),r.subtitleSegmentLoader_=new FR(z.mergeOptions(k,{loaderType:"vtt",featuresNativeTextTracks:r.tech_.featuresNativeTextTracks}),i),r.setupSegmentLoaderListeners_(),r.experimentalBufferBasedABR&&(r.masterPlaylistLoader_.one("loadedplaylist",function(){return r.startABRTimer_()}),r.tech_.on("pause",function(){return r.stopABRTimer_()}),r.tech_.on("play",function(){return r.startABRTimer_()})),eN.forEach(function(D){r[D+"_"]=tN.bind(_e(r),D)}),r.logger_=Zr("MPC"),r.triggeredFmp4Usage=!1,r.tech_.preload()==="none"?(r.loadOnPlay_=function(){r.loadOnPlay_=null,r.masterPlaylistLoader_.load()},r.tech_.one("play",r.loadOnPlay_)):r.masterPlaylistLoader_.load(),r.timeToLoadedData__=-1,r.mainAppendsToLoadedData__=-1,r.audioAppendsToLoadedData__=-1;var I=r.tech_.preload()==="none"?"play":"loadstart";return r.tech_.one(I,function(){var D=Date.now();r.tech_.one("loadeddata",function(){r.timeToLoadedData__=Date.now()-D,r.mainAppendsToLoadedData__=r.mainSegmentLoader_.mediaAppends,r.audioAppendsToLoadedData__=r.audioSegmentLoader_.mediaAppends})}),r}var n=e.prototype;return n.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},n.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},n.appendsToLoadedData_=function(){var r=this.mainAppendsToLoadedData_(),a=this.audioAppendsToLoadedData_();return r===-1||a===-1?-1:r+a},n.timeToLoadedData_=function(){return this.timeToLoadedData__},n.checkABR_=function(){var r=this.selectPlaylist();r&&this.shouldSwitchToMedia_(r)&&this.switchMedia_(r,"abr")},n.switchMedia_=function(r,a,s){var o=this.media(),u=o&&(o.id||o.uri),l=r.id||r.uri;u&&u!==l&&(this.logger_("switch media "+u+" -> "+l+" from "+a),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+a})),this.masterPlaylistLoader_.media(r,s)},n.startABRTimer_=function(){var r=this;this.stopABRTimer_(),this.abrTimer_=R.setInterval(function(){return r.checkABR_()},250)},n.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(R.clearInterval(this.abrTimer_),this.abrTimer_=null)},n.getAudioTrackPlaylists_=function(){var r=this.master(),a=r&&r.playlists||[];if(!r||!r.mediaGroups||!r.mediaGroups.AUDIO)return a;var s=r.mediaGroups.AUDIO,o=Object.keys(s),u;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)u=this.mediaTypes_.AUDIO.activeTrack();else{var l=s.main||o.length&&s[o[0]];for(var c in l)if(l[c].default){u={label:c};break}}if(!u)return a;var f=[];for(var d in s)if(s[d][u.label]){var g=s[d][u.label];if(g.playlists&&g.playlists.length)f.push.apply(f,g.playlists);else if(g.uri)f.push(g);else if(r.playlists.length)for(var _=0;_<r.playlists.length;_++){var y=r.playlists[_];y.attributes&&y.attributes.AUDIO&&y.attributes.AUDIO===d&&f.push(y)}}return f.length?f:a},n.setupMasterPlaylistLoaderListeners_=function(){var r=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var a=r.masterPlaylistLoader_.media(),s=a.targetDuration*1.5*1e3;Vp(r.masterPlaylistLoader_.master,r.masterPlaylistLoader_.media())?r.requestOptions_.timeout=0:r.requestOptions_.timeout=s,a.endList&&r.tech_.preload()!=="none"&&(r.mainSegmentLoader_.playlist(a,r.requestOptions_),r.mainSegmentLoader_.load()),YR({sourceType:r.sourceType_,segmentLoaders:{AUDIO:r.audioSegmentLoader_,SUBTITLES:r.subtitleSegmentLoader_,main:r.mainSegmentLoader_},tech:r.tech_,requestOptions:r.requestOptions_,masterPlaylistLoader:r.masterPlaylistLoader_,vhs:r.vhs_,master:r.master(),mediaTypes:r.mediaTypes_,blacklistCurrentPlaylist:r.blacklistCurrentPlaylist.bind(r)}),r.triggerPresenceUsage_(r.master(),a),r.setupFirstPlay(),!r.mediaTypes_.AUDIO.activePlaylistLoader||r.mediaTypes_.AUDIO.activePlaylistLoader.media()?r.trigger("selectedinitialmedia"):r.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){r.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){r.loadOnPlay_&&r.tech_.off("play",r.loadOnPlay_);var a=r.masterPlaylistLoader_.media();if(!a){r.excludeUnsupportedVariants_();var s;if(r.enableLowInitialPlaylist&&(s=r.selectInitialPlaylist()),s||(s=r.selectPlaylist()),!s||!r.shouldSwitchToMedia_(s))return;r.initialMedia_=s,r.switchMedia_(r.initialMedia_,"initial");var o=r.sourceType_==="vhs-json"&&r.initialMedia_.segments;if(!o)return;a=r.initialMedia_}r.handleUpdatedMediaPlaylist(a)}),this.masterPlaylistLoader_.on("error",function(){r.blacklistCurrentPlaylist(r.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){r.mainSegmentLoader_.abort(),r.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var a=r.masterPlaylistLoader_.media(),s=a.targetDuration*1.5*1e3;Vp(r.masterPlaylistLoader_.master,r.masterPlaylistLoader_.media())?r.requestOptions_.timeout=0:r.requestOptions_.timeout=s,r.mainSegmentLoader_.playlist(a,r.requestOptions_),r.mainSegmentLoader_.load(),r.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var a=r.masterPlaylistLoader_.media();if(a.lastExcludeReason_!=="playlist-unchanged"){var s=r.stuckAtPlaylistEnd_(a);s&&(r.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),r.tech_.trigger("playliststuck"))}}),this.masterPlaylistLoader_.on("renditiondisabled",function(){r.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),r.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){r.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),r.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})},n.handleUpdatedMediaPlaylist=function(r){this.useCueTags_&&this.updateAdCues_(r),this.mainSegmentLoader_.playlist(r,this.requestOptions_),this.updateDuration(!r.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},n.triggerPresenceUsage_=function(r,a){var s=r.mediaGroups||{},o=!0,u=Object.keys(s.AUDIO);for(var l in s.AUDIO)for(var c in s.AUDIO[l]){var f=s.AUDIO[l][c];f.uri||(o=!1)}o&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(s.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),gn.Playlist.isAes(a)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),u.length&&Object.keys(s.AUDIO[u[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},n.shouldSwitchToMedia_=function(r){var a=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,s=this.tech_.currentTime(),o=this.bufferLowWaterLine(),u=this.bufferHighWaterLine(),l=this.tech_.buffered();return rN({buffered:l,currentTime:s,currentPlaylist:a,nextPlaylist:r,bufferLowWaterLine:o,bufferHighWaterLine:u,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},n.setupSegmentLoaderListeners_=function(){var r=this;this.experimentalBufferBasedABR||(this.mainSegmentLoader_.on("bandwidthupdate",function(){var s=r.selectPlaylist();r.shouldSwitchToMedia_(s)&&r.switchMedia_(s,"bandwidthupdate"),r.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){r.trigger("progress")})),this.mainSegmentLoader_.on("error",function(){r.blacklistCurrentPlaylist(r.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("appenderror",function(){r.error=r.mainSegmentLoader_.error_,r.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",function(){r.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){r.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),r.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){r.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",function(){r.error=r.audioSegmentLoader_.error_,r.trigger("error")}),this.mainSegmentLoader_.on("ended",function(){r.logger_("main segment loader ended"),r.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(s){r.experimentalBufferBasedABR||(r.delegateLoaders_("all",["abort"]),r.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},ZR))});var a=function(){if(!r.sourceUpdater_.hasCreatedSourceBuffers())return r.tryToCreateSourceBuffers_();var o=r.getCodecsOrExclude_();!o||r.sourceUpdater_.addOrChangeSourceBuffers(o)};this.mainSegmentLoader_.on("trackinfo",a),this.audioSegmentLoader_.on("trackinfo",a),this.mainSegmentLoader_.on("fmp4",function(){r.triggeredFmp4Usage||(r.tech_.trigger({type:"usage",name:"vhs-fmp4"}),r.tech_.trigger({type:"usage",name:"hls-fmp4"}),r.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",function(){r.triggeredFmp4Usage||(r.tech_.trigger({type:"usage",name:"vhs-fmp4"}),r.tech_.trigger({type:"usage",name:"hls-fmp4"}),r.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",function(){r.logger_("audioSegmentLoader ended"),r.onEndOfStream()})},n.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},n.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},n.smoothQualityChange_=function(r){r===void 0&&(r=this.selectPlaylist()),this.fastQualityChange_(r)},n.fastQualityChange_=function(r){var a=this;if(r===void 0&&(r=this.selectPlaylist()),r===this.masterPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(r,"fast-quality"),this.mainSegmentLoader_.resetEverything(function(){z.browser.IE_VERSION||z.browser.IS_EDGE?a.tech_.setCurrentTime(a.tech_.currentTime()+.04):a.tech_.setCurrentTime(a.tech_.currentTime())})},n.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var r=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<r.start(0))return this.tech_.setCurrentTime(r.end(r.length-1))}},n.setupFirstPlay=function(){var r=this,a=this.masterPlaylistLoader_.media();if(!a||this.tech_.paused()||this.hasPlayed_)return!1;if(!a.endList){var s=this.seekable();if(!s.length)return!1;if(z.browser.IE_VERSION&&this.tech_.readyState()===0)return this.tech_.one("loadedmetadata",function(){r.trigger("firstplay"),r.tech_.setCurrentTime(s.end(0)),r.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(s.end(0))}return this.hasPlayed_=!0,this.load(),!0},n.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var r=this.tech_.play();typeof r<"u"&&typeof r.then=="function"&&r.then(null,function(a){})}this.trigger("sourceopen")},n.handleSourceEnded_=function(){if(!!this.inbandTextTracks_.metadataTrack_){var r=this.inbandTextTracks_.metadataTrack_.cues;if(!(!r||!r.length)){var a=this.duration();r[r.length-1].endTime=isNaN(a)||Math.abs(a)===1/0?Number.MAX_VALUE:a}}},n.handleDurationChange_=function(){this.tech_.trigger("durationchange")},n.onEndOfStream=function(){var r=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var a=this.mainSegmentLoader_.getCurrentMediaInfo_();!a||a.hasVideo?r=r&&this.audioSegmentLoader_.ended_:r=this.audioSegmentLoader_.ended_}!r||(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},n.stuckAtPlaylistEnd_=function(r){var a=this.seekable();if(!a.length)return!1;var s=this.syncController_.getExpiredTime(r,this.duration());if(s===null)return!1;var o=gn.Playlist.playlistEnd(r,s),u=this.tech_.currentTime(),l=this.tech_.buffered();if(!l.length)return o-u<=un;var c=l.end(l.length-1);return c-u<=un&&o-c<=un},n.blacklistCurrentPlaylist=function(r,a){r===void 0&&(r={});var s=r.playlist||this.masterPlaylistLoader_.media();if(a=a||r.blacklistDuration||this.blacklistDuration,!s){this.error=r,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}s.playlistErrors_++;var o=this.masterPlaylistLoader_.master.playlists,u=o.filter(Md),l=u.length===1&&u[0]===s;if(o.length===1&&a!==1/0)return z.log.warn("Problem encountered with playlist "+s.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(l);if(l){var c=!1;o.forEach(function(T){if(T!==s){var E=T.excludeUntil;typeof E<"u"&&E!==1/0&&(c=!0,delete T.excludeUntil)}}),c&&(z.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}var f;s.playlistErrors_>this.maxPlaylistRetries?f=1/0:f=Date.now()+a*1e3,s.excludeUntil=f,r.reason&&(s.lastExcludeReason_=r.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var d=this.selectPlaylist();if(!d){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}var g=r.internal?this.logger_:z.log.warn,_=r.message?" "+r.message:"";g((r.internal?"Internal problem":"Problem")+" encountered with playlist "+s.id+"."+(_+" Switching to playlist "+d.id+".")),d.attributes.AUDIO!==s.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),d.attributes.SUBTITLES!==s.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var y=d.targetDuration/2*1e3||5*1e3,x=typeof d.lastRequest=="number"&&Date.now()-d.lastRequest<=y;return this.switchMedia_(d,"exclude",l||x)},n.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},n.delegateLoaders_=function(r,a){var s=this,o=[],u=r==="all";(u||r==="main")&&o.push(this.masterPlaylistLoader_);var l=[];(u||r==="audio")&&l.push("AUDIO"),(u||r==="subtitle")&&(l.push("CLOSED-CAPTIONS"),l.push("SUBTITLES")),l.forEach(function(c){var f=s.mediaTypes_[c]&&s.mediaTypes_[c].activePlaylistLoader;f&&o.push(f)}),["main","audio","subtitle"].forEach(function(c){var f=s[c+"SegmentLoader_"];f&&(r===c||r==="all")&&o.push(f)}),o.forEach(function(c){return a.forEach(function(f){typeof c[f]=="function"&&c[f]()})})},n.setCurrentTime=function(r){var a=za(this.tech_.buffered(),r);if(!(this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media())||!this.masterPlaylistLoader_.media().segments)return 0;if(a&&a.length)return r;this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),this.load()},n.duration=function(){if(!this.masterPlaylistLoader_)return 0;var r=this.masterPlaylistLoader_.media();return r?r.endList?this.mediaSource?this.mediaSource.duration:gn.Playlist.duration(r):1/0:0},n.seekable=function(){return this.seekable_},n.onSyncInfoUpdate_=function(){var r;if(!!this.masterPlaylistLoader_){var a=this.masterPlaylistLoader_.media();if(!!a){var s=this.syncController_.getExpiredTime(a,this.duration());if(s!==null){var o=this.masterPlaylistLoader_.master,u=gn.Playlist.seekable(a,s,gn.Playlist.liveEdgeDelay(o,a));if(u.length!==0&&!(this.mediaTypes_.AUDIO.activePlaylistLoader&&(a=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),s=this.syncController_.getExpiredTime(a,this.duration()),s===null||(r=gn.Playlist.seekable(a,s,gn.Playlist.liveEdgeDelay(o,a)),r.length===0)))){var l,c;this.seekable_&&this.seekable_.length&&(l=this.seekable_.end(0),c=this.seekable_.start(0)),r?r.start(0)>u.end(0)||u.start(0)>r.end(0)?this.seekable_=u:this.seekable_=z.createTimeRanges([[r.start(0)>u.start(0)?r.start(0):u.start(0),r.end(0)<u.end(0)?r.end(0):u.end(0)]]):this.seekable_=u,!(this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===l&&this.seekable_.start(0)===c)&&(this.logger_("seekable updated ["+t1(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},n.updateDuration=function(r){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,r),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(r){var a=this.seekable();if(!a.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<a.end(a.length-1))&&this.sourceUpdater_.setDuration(a.end(a.length-1));return}var s=this.tech_.buffered(),o=gn.Playlist.duration(this.masterPlaylistLoader_.media());s.length>0&&(o=Math.max(o,s.end(s.length-1))),this.mediaSource.duration!==o&&this.sourceUpdater_.setDuration(o)},n.dispose=function(){var r=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(function(a){var s=r.mediaTypes_[a].groups;for(var o in s)s[o].forEach(function(u){u.playlistLoader&&u.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},n.master=function(){return this.masterPlaylistLoader_.master},n.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},n.areMediaTypesKnown_=function(){var r=!!this.mediaTypes_.AUDIO.activePlaylistLoader,a=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),s=r?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!a||!s)},n.getCodecsOrExclude_=function(){var r=this,a={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}};a.video=a.main;var s=Io(this.master(),this.media()),o={},u=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(a.main.hasVideo&&(o.video=s.video||a.main.videoCodec||NI),a.main.isMuxed&&(o.video+=","+(s.audio||a.main.audioCodec||Fy)),(a.main.hasAudio&&!a.main.isMuxed||a.audio.hasAudio||u)&&(o.audio=s.audio||a.main.audioCodec||a.audio.audioCodec||Fy,a.audio.isFmp4=a.main.hasAudio&&!a.main.isMuxed?a.main.isFmp4:a.audio.isFmp4),!o.audio&&!o.video){this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0});return}var l=function(x,T){return x?Ql(T):Gf(T)},c={},f;if(["video","audio"].forEach(function(y){if(o.hasOwnProperty(y)&&!l(a[y].isFmp4,o[y])){var x=a[y].isFmp4?"browser":"muxer";c[x]=c[x]||[],c[x].push(o[y]),y==="audio"&&(f=x)}}),u&&f&&this.media().attributes.AUDIO){var d=this.media().attributes.AUDIO;this.master().playlists.forEach(function(y){var x=y.attributes&&y.attributes.AUDIO;x===d&&y!==r.media()&&(y.excludeUntil=1/0)}),this.logger_("excluding audio group "+d+" as "+f+' does not support codec(s): "'+o.audio+'"')}if(Object.keys(c).length){var g=Object.keys(c).reduce(function(y,x){return y&&(y+=", "),y+=x+' does not support codec(s): "'+c[x].join(",")+'"',y},"")+".";this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:g,blacklistDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var _=[];if(["video","audio"].forEach(function(y){var x=(nn(r.sourceUpdater_.codecs[y]||"")[0]||{}).type,T=(nn(o[y]||"")[0]||{}).type;x&&T&&x.toLowerCase()!==T.toLowerCase()&&_.push('"'+r.sourceUpdater_.codecs[y]+'" -> "'+o[y]+'"')}),_.length){this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+_.join(", ")+".",blacklistDuration:1/0,internal:!0});return}}return o},n.tryToCreateSourceBuffers_=function(){if(!(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers())&&!!this.areMediaTypesKnown_()){var r=this.getCodecsOrExclude_();if(!!r){this.sourceUpdater_.createSourceBuffers(r);var a=[r.video,r.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(a)}}},n.excludeUnsupportedVariants_=function(){var r=this,a=this.master().playlists,s=[];Object.keys(a).forEach(function(o){var u=a[o];if(s.indexOf(u.id)===-1){s.push(u.id);var l=Io(r.master,u),c=[];l.audio&&!Gf(l.audio)&&!Ql(l.audio)&&c.push("audio codec "+l.audio),l.video&&!Gf(l.video)&&!Ql(l.video)&&c.push("video codec "+l.video),l.text&&l.text==="stpp.ttml.im1t"&&c.push("text codec "+l.text),c.length&&(u.excludeUntil=1/0,r.logger_("excluding "+u.id+" for unsupported: "+c.join(", ")))}})},n.excludeIncompatibleVariants_=function(r){var a=this,s=[],o=this.master().playlists,u=Kc(nn(r)),l=M_(u),c=u.video&&nn(u.video)[0]||null,f=u.audio&&nn(u.audio)[0]||null;Object.keys(o).forEach(function(d){var g=o[d];if(!(s.indexOf(g.id)!==-1||g.excludeUntil===1/0)){s.push(g.id);var _=[],y=Io(a.masterPlaylistLoader_.master,g),x=M_(y);if(!(!y.audio&&!y.video)){if(x!==l&&_.push('codec count "'+x+'" !== "'+l+'"'),!a.sourceUpdater_.canChangeType()){var T=y.video&&nn(y.video)[0]||null,E=y.audio&&nn(y.audio)[0]||null;T&&c&&T.type.toLowerCase()!==c.type.toLowerCase()&&_.push('video codec "'+T.type+'" !== "'+c.type+'"'),E&&f&&E.type.toLowerCase()!==f.type.toLowerCase()&&_.push('audio codec "'+E.type+'" !== "'+f.type+'"')}_.length&&(g.excludeUntil=1/0,a.logger_("blacklisting "+g.id+": "+_.join(" && ")))}}})},n.updateAdCues_=function(r){var a=0,s=this.seekable();s.length&&(a=s.start(0)),NR(r,this.cueTagsTrack_,a)},n.goalBufferLength=function(){var r=this.tech_.currentTime(),a=Tt.GOAL_BUFFER_LENGTH,s=Tt.GOAL_BUFFER_LENGTH_RATE,o=Math.max(a,Tt.MAX_GOAL_BUFFER_LENGTH);return Math.min(a+r*s,o)},n.bufferLowWaterLine=function(){var r=this.tech_.currentTime(),a=Tt.BUFFER_LOW_WATER_LINE,s=Tt.BUFFER_LOW_WATER_LINE_RATE,o=Math.max(a,Tt.MAX_BUFFER_LOW_WATER_LINE),u=Math.max(a,Tt.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(a+r*s,this.experimentalBufferBasedABR?u:o)},n.bufferHighWaterLine=function(){return Tt.BUFFER_HIGH_WATER_LINE},e}(z.EventTarget),iN=function(e,n,i){return function(r){var a=e.master.playlists[n],s=dg(a),o=Md(a);return typeof r>"u"?o:(r?delete a.disabled:a.disabled=!0,r!==o&&!s&&(i(),r?e.trigger("renditionenabled"):e.trigger("renditiondisabled")),r)}},aN=function(e,n,i){var r=e.masterPlaylistController_,a=e.options_.smoothQualityChange,s=a?"smooth":"fast",o=r[s+"QualityChange_"].bind(r);if(n.attributes){var u=n.attributes.RESOLUTION;this.width=u&&u.width,this.height=u&&u.height,this.bandwidth=n.attributes.BANDWIDTH}this.codecs=Io(r.master(),n),this.playlist=n,this.id=i,this.enabled=iN(e.playlists,n.id,o)},sN=function(e){e.representations=function(){var n=e.masterPlaylistController_.master(),i=Cu(n)?e.masterPlaylistController_.getAudioTrackPlaylists_():n.playlists;return i?i.filter(function(r){return!dg(r)}).map(function(r,a){return new aN(e,r,r.id)}):[]}},X_=["seeking","seeked","pause","playing","error"],oN=function(){function t(n){var i=this;this.masterPlaylistController_=n.masterPlaylistController,this.tech_=n.tech,this.seekable=n.seekable,this.allowSeeksWithinUnsafeLiveWindow=n.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=n.liveRangeSafeTimeDelta,this.media=n.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=Zr("PlaybackWatcher"),this.logger_("initialize");var r=function(){return i.monitorCurrentTime_()},a=function(){return i.monitorCurrentTime_()},s=function(){return i.techWaiting_()},o=function(){return i.cancelTimer_()},u=this.masterPlaylistController_,l=["main","subtitle","audio"],c={};l.forEach(function(d){c[d]={reset:function(){return i.resetSegmentDownloads_(d)},updateend:function(){return i.checkSegmentDownloads_(d)}},u[d+"SegmentLoader_"].on("appendsdone",c[d].updateend),u[d+"SegmentLoader_"].on("playlistupdate",c[d].reset),i.tech_.on(["seeked","seeking"],c[d].reset)});var f=function(g){["main","audio"].forEach(function(_){u[_+"SegmentLoader_"][g]("appended",i.seekingAppendCheck_)})};this.seekingAppendCheck_=function(){i.fixesBadSeeks_()&&(i.consecutiveUpdates=0,i.lastRecordedTime=i.tech_.currentTime(),f("off"))},this.clearSeekingAppendCheck_=function(){return f("off")},this.watchForBadSeeking_=function(){i.clearSeekingAppendCheck_(),f("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",s),this.tech_.on(X_,o),this.tech_.on("canplay",a),this.tech_.one("play",r),this.dispose=function(){i.clearSeekingAppendCheck_(),i.logger_("dispose"),i.tech_.off("waiting",s),i.tech_.off(X_,o),i.tech_.off("canplay",a),i.tech_.off("play",r),i.tech_.off("seeking",i.watchForBadSeeking_),i.tech_.off("seeked",i.clearSeekingAppendCheck_),l.forEach(function(d){u[d+"SegmentLoader_"].off("appendsdone",c[d].updateend),u[d+"SegmentLoader_"].off("playlistupdate",c[d].reset),i.tech_.off(["seeked","seeking"],c[d].reset)}),i.checkCurrentTimeTimeout_&&R.clearTimeout(i.checkCurrentTimeTimeout_),i.cancelTimer_()}}var e=t.prototype;return e.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&R.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=R.setTimeout(this.monitorCurrentTime_.bind(this),250)},e.resetSegmentDownloads_=function(i){var r=this.masterPlaylistController_[i+"SegmentLoader_"];this[i+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+i+" loader"),this[i+"StalledDownloads_"]=0,this[i+"Buffered_"]=r.buffered_()},e.checkSegmentDownloads_=function(i){var r=this.masterPlaylistController_,a=r[i+"SegmentLoader_"],s=a.buffered_(),o=rF(this[i+"Buffered_"],s);if(this[i+"Buffered_"]=s,o){this.resetSegmentDownloads_(i);return}this[i+"StalledDownloads_"]++,this.logger_("found #"+this[i+"StalledDownloads_"]+" "+i+" appends that did not increase buffer (possible stalled download)",{playlistId:a.playlist_&&a.playlist_.id,buffered:Hi(s)}),!(this[i+"StalledDownloads_"]<10)&&(this.logger_(i+" loader stalled download exclusion"),this.resetSegmentDownloads_(i),this.tech_.trigger({type:"usage",name:"vhs-"+i+"-download-exclusion"}),i!=="subtitle"&&r.blacklistCurrentPlaylist({message:"Excessive "+i+" segment downloading detected."},1/0))},e.checkCurrentTime_=function(){if(!(this.tech_.paused()||this.tech_.seeking())){var i=this.tech_.currentTime(),r=this.tech_.buffered();if(this.lastRecordedTime===i&&(!r.length||i+un>=r.end(r.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&i===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):i===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=i)}},e.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},e.fixesBadSeeks_=function(){var i=this.tech_.seeking();if(!i)return!1;var r=this.seekable(),a=this.tech_.currentTime(),s=this.afterSeekableWindow_(r,a,this.media(),this.allowSeeksWithinUnsafeLiveWindow),o;if(s){var u=r.end(r.length-1);o=u}if(this.beforeSeekableWindow_(r,a)){var l=r.start(0);o=l+(l===r.end(0)?0:un)}if(typeof o<"u")return this.logger_("Trying to seek outside of seekable at time "+a+" with "+("seekable range "+t1(r)+". Seeking to ")+(o+".")),this.tech_.setCurrentTime(o),!0;for(var c=this.masterPlaylistController_.sourceUpdater_,f=this.tech_.buffered(),d=c.audioBuffer?c.audioBuffered():null,g=c.videoBuffer?c.videoBuffered():null,_=this.media(),y=_.partTargetDuration?_.partTargetDuration:(_.targetDuration-xi)*2,x=[d,g],T=0;T<x.length;T++)if(!!x[T]){var E=lg(x[T],a);if(E<y)return!1}var w=wl(f,a);return w.length===0?!1:(o=w.start(0)+un,this.logger_("Buffered region starts ("+w.start(0)+") "+(" just beyond seek point ("+a+"). Seeking to "+o+".")),this.tech_.setCurrentTime(o),!0)},e.waiting_=function(){if(!this.techWaiting_()){var i=this.tech_.currentTime(),r=this.tech_.buffered(),a=za(r,i);if(a.length&&i+3<=a.end(0)){this.cancelTimer_(),this.tech_.setCurrentTime(i),this.logger_("Stopped at "+i+" while inside a buffered region "+("["+a.start(0)+" -> "+a.end(0)+"]. Attempting to resume ")+"playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"});return}}},e.techWaiting_=function(){var i=this.seekable(),r=this.tech_.currentTime();if(this.tech_.seeking()||this.timer_!==null)return!0;if(this.beforeSeekableWindow_(i,r)){var a=i.end(i.length-1);return this.logger_("Fell out of live window at time "+r+". Seeking to "+("live point (seekable end) "+a)),this.cancelTimer_(),this.tech_.setCurrentTime(a),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var s=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,o=this.tech_.buffered(),u=this.videoUnderflow_({audioBuffered:s.audioBuffered(),videoBuffered:s.videoBuffered(),currentTime:r});if(u)return this.cancelTimer_(),this.tech_.setCurrentTime(r),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var l=wl(o,r);if(l.length>0){var c=l.start(0)-r;return this.logger_("Stopped at "+r+", setting timer for "+c+", seeking "+("to "+l.start(0))),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),c*1e3,r),!0}return!1},e.afterSeekableWindow_=function(i,r,a,s){if(s===void 0&&(s=!1),!i.length)return!1;var o=i.end(i.length-1)+un,u=!a.endList;return u&&s&&(o=i.end(i.length-1)+a.targetDuration*3),r>o},e.beforeSeekableWindow_=function(i,r){return!!(i.length&&i.start(0)>0&&r<i.start(0)-this.liveRangeSafeTimeDelta)},e.videoUnderflow_=function(i){var r=i.videoBuffered,a=i.audioBuffered,s=i.currentTime;if(!!r){var o;if(r.length&&a.length){var u=za(r,s-3),l=za(r,s),c=za(a,s);c.length&&!l.length&&u.length&&(o={start:u.end(0),end:c.end(0)})}else{var f=wl(r,s);f.length||(o=this.gapFromVideoUnderflow_(r,s))}return o?(this.logger_("Encountered a gap in video from "+o.start+" to "+o.end+". "+("Seeking to current time "+s)),!0):!1}},e.skipTheGap_=function(i){var r=this.tech_.buffered(),a=this.tech_.currentTime(),s=wl(r,a);this.cancelTimer_(),!(s.length===0||a!==i)&&(this.logger_("skipTheGap_:","currentTime:",a,"scheduled currentTime:",i,"nextRange start:",s.start(0)),this.tech_.setCurrentTime(s.start(0)+xi),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},e.gapFromVideoUnderflow_=function(i,r){for(var a=ZL(i),s=0;s<a.length;s++){var o=a.start(s),u=a.end(s);if(r-o<4&&r-o>2)return{start:o,end:u}}return null},t}(),uN={errorInterval:30,getSource:function(e){var n=this.tech({IWillNotUseThisInPlugins:!0}),i=n.currentSource_||this.currentSource();return e(i)}},lN=function t(e,n){var i=0,r=0,a=z.mergeOptions(uN,n);e.ready(function(){e.trigger({type:"usage",name:"vhs-error-reload-initialized"}),e.trigger({type:"usage",name:"hls-error-reload-initialized"})});var s=function(){r&&e.currentTime(r)},o=function(d){d!=null&&(r=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",s),e.src(d),e.trigger({type:"usage",name:"vhs-error-reload"}),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},u=function(){if(Date.now()-i<a.errorInterval*1e3){e.trigger({type:"usage",name:"vhs-error-reload-canceled"}),e.trigger({type:"usage",name:"hls-error-reload-canceled"});return}if(!a.getSource||typeof a.getSource!="function"){z.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return i=Date.now(),a.getSource.call(e,o)},l=function f(){e.off("loadedmetadata",s),e.off("error",u),e.off("dispose",f)},c=function(d){l(),t(e,d)};e.on("error",u),e.on("dispose",l),e.reloadSourceOnError=c},cN=function(e){lN(this,e)},B1="2.14.2",dN="6.0.1",fN="0.21.1",hN="4.7.1",pN="3.1.3",It={PlaylistLoader:Ha,Playlist:ir,utils:wF,STANDARD_PLAYLIST_SELECTOR:B_,INITIAL_PLAYLIST_SELECTOR:hR,lastBandwidthSelector:B_,movingAverageBandwidthSelector:dR,comparePlaylistBandwidth:mg,comparePlaylistResolution:cR,xhr:v1()};Object.keys(Tt).forEach(function(t){Object.defineProperty(It,t,{get:function(){return z.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),Tt[t]},set:function(n){if(z.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),typeof n!="number"||n<0){z.log.warn("value of Vhs."+t+" must be greater than or equal to 0");return}Tt[t]=n}})});var V1="videojs-vhs",j1=function(e,n){for(var i=n.media(),r=-1,a=0;a<e.length;a++)if(e[a].id===i.id){r=a;break}e.selectedIndex_=r,e.trigger({selectedIndex:r,type:"change"})},mN=function(e,n){n.representations().forEach(function(i){e.addQualityLevel(i)}),j1(e,n.playlists)};It.canPlaySource=function(){return z.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var vN=function(e,n,i){if(!e)return e;var r={};n&&n.attributes&&n.attributes.CODECS&&(r=Kc(nn(n.attributes.CODECS))),i&&i.attributes&&i.attributes.CODECS&&(r.audio=i.attributes.CODECS);var a=Zo(r.video),s=Zo(r.audio),o={};for(var u in e)o[u]={},s&&(o[u].audioContentType=s),a&&(o[u].videoContentType=a),n.contentProtection&&n.contentProtection[u]&&n.contentProtection[u].pssh&&(o[u].pssh=n.contentProtection[u].pssh),typeof e[u]=="string"&&(o[u].url=e[u]);return z.mergeOptions(e,o)},gN=function(e,n){return e.reduce(function(i,r){if(!r.contentProtection)return i;var a=n.reduce(function(s,o){var u=r.contentProtection[o];return u&&u.pssh&&(s[o]={pssh:u.pssh}),s},{});return Object.keys(a).length&&i.push(a),i},[])},yN=function(e){var n=e.player,i=e.sourceKeySystems,r=e.audioMedia,a=e.mainPlaylists;if(!n.eme.initializeMediaKeys)return Promise.resolve();var s=r?a.concat([r]):a,o=gN(s,Object.keys(i)),u=[],l=[];return o.forEach(function(c){l.push(new Promise(function(f,d){n.tech_.one("keysessioncreated",f)})),u.push(new Promise(function(f,d){n.eme.initializeMediaKeys({keySystems:c},function(g){if(g){d(g);return}f()})}))}),Promise.race([Promise.all(u),Promise.race(l)])},_N=function(e){var n=e.player,i=e.sourceKeySystems,r=e.media,a=e.audioMedia,s=vN(i,r,a);return s?(n.currentSource().keySystems=s,s&&!n.eme?(z.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},z1=function(){if(!R.localStorage)return null;var e=R.localStorage.getItem(V1);if(!e)return null;try{return JSON.parse(e)}catch{return null}},TN=function(e){if(!R.localStorage)return!1;var n=z1();n=n?z.mergeOptions(n,e):e;try{R.localStorage.setItem(V1,JSON.stringify(n))}catch{return!1}return n},xN=function(e){return e.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(e.substring(e.indexOf(",")+1)):e};It.supportsNativeHls=function(){if(!te||!te.createElement)return!1;var t=te.createElement("video");if(!z.getTech("Html5").isSupported())return!1;var e=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return e.some(function(n){return/maybe|probably/i.test(t.canPlayType(n))})}();It.supportsNativeDash=function(){return!te||!te.createElement||!z.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(te.createElement("video").canPlayType("application/dash+xml"))}();It.supportsTypeNatively=function(t){return t==="hls"?It.supportsNativeHls:t==="dash"?It.supportsNativeDash:!1};It.isSupported=function(){return z.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var SN=z.getComponent("Component"),gg=function(t){ie(e,t);function e(i,r,a){var s;if(s=t.call(this,r,z.mergeOptions(a.hls,a.vhs))||this,a.hls&&Object.keys(a.hls).length&&z.log.warn("Using hls options is deprecated. Please rename `hls` to `vhs` in your options object."),typeof a.initialBandwidth=="number"&&(s.options_.bandwidth=a.initialBandwidth),s.logger_=Zr("VhsHandler"),r.options_&&r.options_.playerId){var o=z(r.options_.playerId);o.hasOwnProperty("hls")||Object.defineProperty(o,"hls",{get:function(){return z.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),r.trigger({type:"usage",name:"hls-player-access"}),_e(s)},configurable:!0}),o.hasOwnProperty("vhs")||Object.defineProperty(o,"vhs",{get:function(){return z.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),r.trigger({type:"usage",name:"vhs-player-access"}),_e(s)},configurable:!0}),o.hasOwnProperty("dash")||Object.defineProperty(o,"dash",{get:function(){return z.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),_e(s)},configurable:!0}),s.player_=o}if(s.tech_=r,s.source_=i,s.stats={},s.ignoreNextSeekingEvent_=!1,s.setOptions_(),s.options_.overrideNative&&r.overrideNativeAudioTracks&&r.overrideNativeVideoTracks)r.overrideNativeAudioTracks(!0),r.overrideNativeVideoTracks(!0);else if(s.options_.overrideNative&&(r.featuresNativeVideoTracks||r.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return s.on(te,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(u){var l=te.fullscreenElement||te.webkitFullscreenElement||te.mozFullScreenElement||te.msFullscreenElement;l&&l.contains(s.tech_.el())?s.masterPlaylistController_.fastQualityChange_():s.masterPlaylistController_.checkABR_()}),s.on(s.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),s.on(s.tech_,"error",function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),s.on(s.tech_,"play",s.play),s}var n=e.prototype;return n.setOptions_=function(){var r=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects!==!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,typeof this.options_.blacklistDuration!="number"&&(this.options_.blacklistDuration=5*60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){var a=z1();a&&a.bandwidth&&(this.options_.bandwidth=a.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),a&&a.throughput&&(this.options_.throughput=a.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=Tt.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Tt.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","useDtsForTimestampOffset","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach(function(s){typeof r.source_[s]<"u"&&(r.options_[s]=r.source_[s])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},n.src=function(r,a){var s=this;if(!!r){this.setOptions_(),this.options_.src=xN(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=It,this.options_.sourceType=ib(a),this.options_.seekTo=function(l){s.tech_.setCurrentTime(l)},this.options_.smoothQualityChange&&z.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new nN(this.options_);var o=z.mergeOptions({liveRangeSafeTimeDelta:un},this.options_,{seekable:function(){return s.seekable()},media:function(){return s.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new oN(o),this.masterPlaylistController_.on("error",function(){var l=z.players[s.tech_.options_.playerId],c=s.masterPlaylistController_.error;typeof c=="object"&&!c.code?c.code=3:typeof c=="string"&&(c={message:c,code:3}),l.error(c)});var u=this.options_.experimentalBufferBasedABR?It.movingAverageBandwidthSelector(.55):It.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):u.bind(this),this.masterPlaylistController_.selectInitialPlaylist=It.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(c){this.masterPlaylistController_.selectPlaylist=c.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(c){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=c,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var c=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,f=R.navigator.connection||R.navigator.mozConnection||R.navigator.webkitConnection,d=1e7;if(this.options_.useNetworkInformationApi&&f){var g=f.downlink*1e3*1e3;g>=d&&c>=d?c=Math.max(c,g):c=g}return c},set:function(c){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=c,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var c=1/(this.bandwidth||1),f;this.throughput>0?f=1/this.throughput:f=0;var d=Math.floor(1/(c+f));return d},set:function(){z.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return s.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return s.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return s.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return s.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return s.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return s.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return s.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return s.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return s.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return s.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return s.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return s.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return s.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return Hi(s.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return s.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return s.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return s.tech_.name_},enumerable:!0},duration:{get:function(){return s.tech_.duration()},enumerable:!0},master:{get:function(){return s.playlists.master},enumerable:!0},playerDimensions:{get:function(){return s.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Hi(s.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return s.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){s.options_.useBandwidthFromLocalStorage&&TN({bandwidth:s.bandwidth,throughput:Math.round(s.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){sN(s)}),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",function(){s.setupEme_()}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=R.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},n.createKeySessions_=function(){var r=this,a=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),yN({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:a&&a.media(),mainPlaylists:this.playlists.master.playlists}).then(function(){r.logger_("created EME key session"),r.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(function(s){r.logger_("error while creating EME key session",s),r.player_.error({message:"Failed to initialize media keys for EME",code:3})})},n.handleWaitingForKey_=function(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()},n.setupEme_=function(){var r=this,a=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,s=_N({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:a&&a.media()});if(this.player_.tech_.on("keystatuschange",function(o){o.status==="output-restricted"&&r.masterPlaylistController_.blacklistCurrentPlaylist({playlist:r.masterPlaylistController_.media(),message:"DRM keystatus changed to "+o.status+". Playlist will fail to play. Check for HDCP content.",blacklistDuration:1/0})}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),z.browser.IE_VERSION===11||!s){this.masterPlaylistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()},n.setupQualityLevels_=function(){var r=this,a=z.players[this.tech_.options_.playerId];!a||!a.qualityLevels||this.qualityLevels_||(this.qualityLevels_=a.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){mN(r.qualityLevels_,r)}),this.playlists.on("mediachange",function(){j1(r.qualityLevels_,r.playlists)}))},e.version=function(){return{"@videojs/http-streaming":B1,"mux.js":dN,"mpd-parser":fN,"m3u8-parser":hN,"aes-decrypter":pN}},n.version=function(){return this.constructor.version()},n.canChangeType=function(){return U1.canChangeType()},n.play=function(){this.masterPlaylistController_.play()},n.setCurrentTime=function(r){this.masterPlaylistController_.setCurrentTime(r)},n.duration=function(){return this.masterPlaylistController_.duration()},n.seekable=function(){return this.masterPlaylistController_.seekable()},n.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&R.URL.revokeObjectURL&&(R.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),t.prototype.dispose.call(this)},n.convertToProgramTime=function(r,a){return LF({playlist:this.masterPlaylistController_.media(),time:r,callback:a})},n.seekToProgramTime=function(r,a,s,o){return s===void 0&&(s=!0),o===void 0&&(o=2),FF({programTime:r,playlist:this.masterPlaylistController_.media(),retryCount:o,pauseAfterSeek:s,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:a})},e}(SN),Ud={name:"videojs-http-streaming",VERSION:B1,canHandleSource:function(e,n){n===void 0&&(n={});var i=z.mergeOptions(z.options,n);return Ud.canPlayType(e.type,i)},handleSource:function(e,n,i){i===void 0&&(i={});var r=z.mergeOptions(z.options,i);return n.vhs=new gg(e,n,r),z.hasOwnProperty("hls")||Object.defineProperty(n,"hls",{get:function(){return z.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),n.vhs},configurable:!0}),n.vhs.xhr=v1(),n.vhs.src(e.src,e.type),n.vhs},canPlayType:function(e,n){n===void 0&&(n={});var i=z.mergeOptions(z.options,n),r=i.vhs;r=r===void 0?{}:r;var a=r.overrideNative,s=a===void 0?!z.browser.IS_ANY_SAFARI:a,o=i.hls;o=o===void 0?{}:o;var u=o.overrideNative,l=u===void 0?!1:u,c=ib(e),f=c&&(!It.supportsTypeNatively(c)||l||s);return f?"maybe":""}},bN=function(){return Ql("avc1.4d400d,mp4a.40.2")};bN()&&z.getTech("Html5").registerSourceHandler(Ud,0);z.VhsHandler=gg;Object.defineProperty(z,"HlsHandler",{get:function(){return z.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),gg},configurable:!0});z.VhsSourceHandler=Ud;Object.defineProperty(z,"HlsSourceHandler",{get:function(){return z.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),Ud},configurable:!0});z.Vhs=It;Object.defineProperty(z,"Hls",{get:function(){return z.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),It},configurable:!0});z.use||(z.registerComponent("Hls",It),z.registerComponent("Vhs",It));z.options.vhs=z.options.vhs||{};z.options.hls=z.options.hls||{};if(!z.getPlugin||!z.getPlugin("reloadSourceOnError")){var EN=z.registerPlugin||z.plugin;EN("reloadSourceOnError",cN)}function ae(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q_(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Gn(t,e,n){return e&&Q_(t.prototype,e),n&&Q_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jc(t){return Jc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jc(t)}function ht(t){return ht=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ht(t)}function CN(t,e){if(e&&(ht(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _e(t)}function fa(t){var e=ZS();return function(){var i=Jc(t),r;if(e){var a=Jc(this).constructor;r=Reflect.construct(i,arguments,a)}else r=i.apply(this,arguments);return CN(this,r)}}var H1={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var i=[],r=0;r<arguments.length;r++){var a=arguments[r];if(!!a){var s=typeof a;if(s==="string"||s==="number")i.push(a);else if(Array.isArray(a)){if(a.length){var o=n.apply(null,a);o&&i.push(o)}}else if(s==="object")if(a.toString===Object.prototype.toString)for(var u in a)e.call(a,u)&&a[u]&&i.push(u);else i.push(a.toString())}}return i.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(H1);const et=H1.exports;var yg={exports:{}},Ne={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wt=typeof Symbol=="function"&&Symbol.for,_g=wt?Symbol.for("react.element"):60103,Tg=wt?Symbol.for("react.portal"):60106,Bd=wt?Symbol.for("react.fragment"):60107,Vd=wt?Symbol.for("react.strict_mode"):60108,jd=wt?Symbol.for("react.profiler"):60114,zd=wt?Symbol.for("react.provider"):60109,Hd=wt?Symbol.for("react.context"):60110,xg=wt?Symbol.for("react.async_mode"):60111,$d=wt?Symbol.for("react.concurrent_mode"):60111,Wd=wt?Symbol.for("react.forward_ref"):60112,qd=wt?Symbol.for("react.suspense"):60113,wN=wt?Symbol.for("react.suspense_list"):60120,Gd=wt?Symbol.for("react.memo"):60115,Kd=wt?Symbol.for("react.lazy"):60116,kN=wt?Symbol.for("react.block"):60121,PN=wt?Symbol.for("react.fundamental"):60117,AN=wt?Symbol.for("react.responder"):60118,IN=wt?Symbol.for("react.scope"):60119;function wr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case _g:switch(t=t.type,t){case xg:case $d:case Bd:case jd:case Vd:case qd:return t;default:switch(t=t&&t.$$typeof,t){case Hd:case Wd:case Kd:case Gd:case zd:return t;default:return e}}case Tg:return e}}}function $1(t){return wr(t)===$d}Ne.AsyncMode=xg;Ne.ConcurrentMode=$d;Ne.ContextConsumer=Hd;Ne.ContextProvider=zd;Ne.Element=_g;Ne.ForwardRef=Wd;Ne.Fragment=Bd;Ne.Lazy=Kd;Ne.Memo=Gd;Ne.Portal=Tg;Ne.Profiler=jd;Ne.StrictMode=Vd;Ne.Suspense=qd;Ne.isAsyncMode=function(t){return $1(t)||wr(t)===xg};Ne.isConcurrentMode=$1;Ne.isContextConsumer=function(t){return wr(t)===Hd};Ne.isContextProvider=function(t){return wr(t)===zd};Ne.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===_g};Ne.isForwardRef=function(t){return wr(t)===Wd};Ne.isFragment=function(t){return wr(t)===Bd};Ne.isLazy=function(t){return wr(t)===Kd};Ne.isMemo=function(t){return wr(t)===Gd};Ne.isPortal=function(t){return wr(t)===Tg};Ne.isProfiler=function(t){return wr(t)===jd};Ne.isStrictMode=function(t){return wr(t)===Vd};Ne.isSuspense=function(t){return wr(t)===qd};Ne.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Bd||t===$d||t===jd||t===Vd||t===qd||t===wN||typeof t=="object"&&t!==null&&(t.$$typeof===Kd||t.$$typeof===Gd||t.$$typeof===zd||t.$$typeof===Hd||t.$$typeof===Wd||t.$$typeof===PN||t.$$typeof===AN||t.$$typeof===IN||t.$$typeof===kN)};Ne.typeOf=wr;(function(t){t.exports=Ne})(yg);function Zc(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[];return qi.Children.forEach(t,function(i){i==null&&!e.keepEmpty||(Array.isArray(i)?n=n.concat(Zc(i)):yg.exports.isFragment(i)&&i.props?n=n.concat(Zc(i.props.children,e)):n.push(i))}),n}var Y_={};function ON(t,e){}function DN(t,e,n){!e&&!Y_[n]&&(t(!1,n),Y_[n]=!0)}function Dn(t,e){DN(ON,t,e)}function J_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function ue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J_(Object(n),!0).forEach(function(i){ae(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J_(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function W1(t,e){typeof t=="function"?t(e):ht(t)==="object"&&t&&"current"in t&&(t.current=e)}function Xd(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e.filter(function(r){return r});return i.length<=1?i[0]:function(r){e.forEach(function(a){W1(a,r)})}}function Sg(t){var e,n,i=yg.exports.isMemo(t)?t.type.type:t.type;return!(typeof i=="function"&&!(!((e=i.prototype)===null||e===void 0)&&e.render)||typeof t=="function"&&!(!((n=t.prototype)===null||n===void 0)&&n.render))}function Qp(t){return t instanceof HTMLElement?t:LA.findDOMNode(t)}var q1=function(){if(typeof Map<"u")return Map;function t(e,n){var i=-1;return e.some(function(r,a){return r[0]===n?(i=a,!0):!1}),i}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var i=t(this.__entries__,n),r=this.__entries__[i];return r&&r[1]},e.prototype.set=function(n,i){var r=t(this.__entries__,n);~r?this.__entries__[r][1]=i:this.__entries__.push([n,i])},e.prototype.delete=function(n){var i=this.__entries__,r=t(i,n);~r&&i.splice(r,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,i){i===void 0&&(i=null);for(var r=0,a=this.__entries__;r<a.length;r++){var s=a[r];n.call(i,s[1],s[0])}},e}()}(),Yp=typeof window<"u"&&typeof document<"u"&&window.document===document,ed=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),LN=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(ed):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),FN=2;function RN(t,e){var n=!1,i=!1,r=0;function a(){n&&(n=!1,t()),i&&o()}function s(){LN(a)}function o(){var u=Date.now();if(n){if(u-r<FN)return;i=!0}else n=!0,i=!1,setTimeout(s,e);r=u}return o}var NN=20,MN=["top","right","bottom","left","width","height","size","weight"],UN=typeof MutationObserver<"u",BN=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=RN(this.refresh.bind(this),NN)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,i=n.indexOf(e);~i&&n.splice(i,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!Yp||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),UN?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!Yp||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,i=n===void 0?"":n,r=MN.some(function(a){return!!~i.indexOf(a)});r&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),G1=function(t,e){for(var n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];Object.defineProperty(t,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return t},xs=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||ed},K1=Qd(0,0,0,0);function td(t){return parseFloat(t)||0}function Z_(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(i,r){var a=t["border-"+r+"-width"];return i+td(a)},0)}function VN(t){for(var e=["top","right","bottom","left"],n={},i=0,r=e;i<r.length;i++){var a=r[i],s=t["padding-"+a];n[a]=td(s)}return n}function jN(t){var e=t.getBBox();return Qd(0,0,e.width,e.height)}function zN(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return K1;var i=xs(t).getComputedStyle(t),r=VN(i),a=r.left+r.right,s=r.top+r.bottom,o=td(i.width),u=td(i.height);if(i.boxSizing==="border-box"&&(Math.round(o+a)!==e&&(o-=Z_(i,"left","right")+a),Math.round(u+s)!==n&&(u-=Z_(i,"top","bottom")+s)),!$N(t)){var l=Math.round(o+a)-e,c=Math.round(u+s)-n;Math.abs(l)!==1&&(o-=l),Math.abs(c)!==1&&(u-=c)}return Qd(r.left,r.top,o,u)}var HN=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof xs(t).SVGGraphicsElement}:function(t){return t instanceof xs(t).SVGElement&&typeof t.getBBox=="function"}}();function $N(t){return t===xs(t).document.documentElement}function WN(t){return Yp?HN(t)?jN(t):zN(t):K1}function qN(t){var e=t.x,n=t.y,i=t.width,r=t.height,a=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(a.prototype);return G1(s,{x:e,y:n,width:i,height:r,top:n,right:e+i,bottom:r+n,left:e}),s}function Qd(t,e,n,i){return{x:t,y:e,width:n,height:i}}var GN=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Qd(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=WN(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),KN=function(){function t(e,n){var i=qN(n);G1(this,{target:e,contentRect:i})}return t}(),XN=function(){function t(e,n,i){if(this.activeObservations_=[],this.observations_=new q1,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=i}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof xs(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new GN(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof xs(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;!n.has(e)||(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(!!this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(i){return new KN(i.target,i.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),X1=typeof WeakMap<"u"?new WeakMap:new q1,Q1=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=BN.getInstance(),i=new XN(e,n,this);X1.set(this,i)}return t}();["observe","unobserve","disconnect"].forEach(function(t){Q1.prototype[t]=function(){var e;return(e=X1.get(this))[t].apply(e,arguments)}});var QN=function(){return typeof ed.ResizeObserver<"u"?ed.ResizeObserver:Q1}(),si=new Map;function YN(t){t.forEach(function(e){var n,i=e.target;(n=si.get(i))===null||n===void 0||n.forEach(function(r){return r(i)})})}var Y1=new QN(YN);function JN(t,e){si.has(t)||(si.set(t,new Set),Y1.observe(t)),si.get(t).add(e)}function ZN(t,e){si.has(t)&&(si.get(t).delete(e),si.get(t).size||(Y1.unobserve(t),si.delete(t)))}var eM=function(t){Ci(n,t);var e=fa(n);function n(){return qn(this,n),e.apply(this,arguments)}return Gn(n,[{key:"render",value:function(){return this.props.children}}]),n}(H.exports.Component),Yd={exports:{}},Jd={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tM=H.exports,rM=Symbol.for("react.element"),nM=Symbol.for("react.fragment"),iM=Object.prototype.hasOwnProperty,aM=tM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sM={key:!0,ref:!0,__self:!0,__source:!0};function J1(t,e,n){var i,r={},a=null,s=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(i in e)iM.call(e,i)&&!sM.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:rM,type:t,key:a,ref:s,props:r,_owner:aM.current}}Jd.Fragment=nM;Jd.jsx=J1;Jd.jsxs=J1;(function(t){t.exports=Jd})(Yd);const bg=Yd.exports.Fragment,ce=Yd.exports.jsx,Rr=Yd.exports.jsxs;var Jp=H.exports.createContext(null);function oM(t){var e=t.children,n=t.onBatchResize,i=H.exports.useRef(0),r=H.exports.useRef([]),a=H.exports.useContext(Jp),s=H.exports.useCallback(function(o,u,l){i.current+=1;var c=i.current;r.current.push({size:o,element:u,data:l}),Promise.resolve().then(function(){c===i.current&&(n==null||n(r.current),r.current=[])}),a==null||a(o,u,l)},[n,a]);return ce(Jp.Provider,{value:s,children:e})}function uM(t){var e=t.children,n=t.disabled,i=H.exports.useRef(null),r=H.exports.useRef(null),a=H.exports.useContext(Jp),s=typeof e=="function",o=s?e(i):e,u=H.exports.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),l=!s&&H.exports.isValidElement(o)&&Sg(o),c=l?o.ref:null,f=H.exports.useMemo(function(){return Xd(c,i)},[c,i]),d=H.exports.useRef(t);d.current=t;var g=H.exports.useCallback(function(_){var y=d.current,x=y.onResize,T=y.data,E=_.getBoundingClientRect(),w=E.width,k=E.height,I=_.offsetWidth,D=_.offsetHeight,F=Math.floor(w),L=Math.floor(k);if(u.current.width!==F||u.current.height!==L||u.current.offsetWidth!==I||u.current.offsetHeight!==D){var V={width:F,height:L,offsetWidth:I,offsetHeight:D};u.current=V;var A=I===Math.round(w)?w:I,M=D===Math.round(k)?k:D,B=ue(ue({},V),{},{offsetWidth:A,offsetHeight:M});a==null||a(B,_,T),x&&Promise.resolve().then(function(){x(B,_)})}},[]);return H.exports.useEffect(function(){var _=Qp(i.current)||Qp(r.current);return _&&!n&&JN(_,g),function(){return ZN(_,g)}},[i.current,n]),ce(eM,{ref:r,children:l?H.exports.cloneElement(o,{ref:f}):o})}var lM="rc-observer-key";function Z1(t){var e=t.children,n=typeof e=="function"?[e]:Zc(e);return n.map(function(i,r){var a=(i==null?void 0:i.key)||"".concat(lM,"-").concat(r);return H.exports.createElement(uM,{...t,key:a},i)})}Z1.Collection=oM;function ku(t,e){var n=ue({},t);return Array.isArray(e)&&e.forEach(function(i){delete n[i]}),n}var cM=H.exports.createContext({});const eC=cM;function dM(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,a;for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function Ns(t,e){if(t==null)return{};var n=dM(t,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,i)||(n[i]=t[i]))}return n}function Zp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function fM(t){if(Array.isArray(t))return Zp(t)}function tC(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Eg(t,e){if(!!t){if(typeof t=="string")return Zp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zp(t,e)}}function hM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function be(t){return fM(t)||tC(t)||Eg(t)||hM()}var $i="RC_FORM_INTERNAL_HOOKS",Me=function(){Dn(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},Ss=H.exports.createContext({getFieldValue:Me,getFieldsValue:Me,getFieldError:Me,getFieldWarning:Me,getFieldsError:Me,isFieldsTouched:Me,isFieldTouched:Me,isFieldValidating:Me,isFieldsValidating:Me,resetFields:Me,setFields:Me,setFieldValue:Me,setFieldsValue:Me,validateFields:Me,submit:Me,getInternalHooks:function(){return Me(),{dispatch:Me,initEntityValue:Me,registerField:Me,useSubscribe:Me,setInitialValues:Me,destroyForm:Me,setCallbacks:Me,registerWatch:Me,getFields:Me,setValidateMessages:Me,setPreserve:Me,getInitialValue:Me}}});function em(t){return t==null?[]:Array.isArray(t)?t:[t]}function jn(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */jn=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i=typeof Symbol=="function"?Symbol:{},r=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function o(A,M,B){return Object.defineProperty(A,M,{value:B,enumerable:!0,configurable:!0,writable:!0}),A[M]}try{o({},"")}catch{o=function(B,$,G){return B[$]=G}}function u(A,M,B,$){var G=M&&M.prototype instanceof f?M:f,Q=Object.create(G.prototype),Z=new F($||[]);return Q._invoke=function(se,W,X){var K="suspendedStart";return function(le,re){if(K==="executing")throw new Error("Generator is already running");if(K==="completed"){if(le==="throw")throw re;return V()}for(X.method=le,X.arg=re;;){var ve=X.delegate;if(ve){var fe=k(ve,X);if(fe){if(fe===c)continue;return fe}}if(X.method==="next")X.sent=X._sent=X.arg;else if(X.method==="throw"){if(K==="suspendedStart")throw K="completed",X.arg;X.dispatchException(X.arg)}else X.method==="return"&&X.abrupt("return",X.arg);K="executing";var pe=l(se,W,X);if(pe.type==="normal"){if(K=X.done?"completed":"suspendedYield",pe.arg===c)continue;return{value:pe.arg,done:X.done}}pe.type==="throw"&&(K="completed",X.method="throw",X.arg=pe.arg)}}}(A,B,Z),Q}function l(A,M,B){try{return{type:"normal",arg:A.call(M,B)}}catch($){return{type:"throw",arg:$}}}t.wrap=u;var c={};function f(){}function d(){}function g(){}var _={};o(_,r,function(){return this});var y=Object.getPrototypeOf,x=y&&y(y(L([])));x&&x!==e&&n.call(x,r)&&(_=x);var T=g.prototype=f.prototype=Object.create(_);function E(A){["next","throw","return"].forEach(function(M){o(A,M,function(B){return this._invoke(M,B)})})}function w(A,M){function B(G,Q,Z,se){var W=l(A[G],A,Q);if(W.type!=="throw"){var X=W.arg,K=X.value;return K&&ht(K)=="object"&&n.call(K,"__await")?M.resolve(K.__await).then(function(le){B("next",le,Z,se)},function(le){B("throw",le,Z,se)}):M.resolve(K).then(function(le){X.value=le,Z(X)},function(le){return B("throw",le,Z,se)})}se(W.arg)}var $;this._invoke=function(G,Q){function Z(){return new M(function(se,W){B(G,Q,se,W)})}return $=$?$.then(Z,Z):Z()}}function k(A,M){var B=A.iterator[M.method];if(B===void 0){if(M.delegate=null,M.method==="throw"){if(A.iterator.return&&(M.method="return",M.arg=void 0,k(A,M),M.method==="throw"))return c;M.method="throw",M.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var $=l(B,A.iterator,M.arg);if($.type==="throw")return M.method="throw",M.arg=$.arg,M.delegate=null,c;var G=$.arg;return G?G.done?(M[A.resultName]=G.value,M.next=A.nextLoc,M.method!=="return"&&(M.method="next",M.arg=void 0),M.delegate=null,c):G:(M.method="throw",M.arg=new TypeError("iterator result is not an object"),M.delegate=null,c)}function I(A){var M={tryLoc:A[0]};1 in A&&(M.catchLoc=A[1]),2 in A&&(M.finallyLoc=A[2],M.afterLoc=A[3]),this.tryEntries.push(M)}function D(A){var M=A.completion||{};M.type="normal",delete M.arg,A.completion=M}function F(A){this.tryEntries=[{tryLoc:"root"}],A.forEach(I,this),this.reset(!0)}function L(A){if(A){var M=A[r];if(M)return M.call(A);if(typeof A.next=="function")return A;if(!isNaN(A.length)){var B=-1,$=function G(){for(;++B<A.length;)if(n.call(A,B))return G.value=A[B],G.done=!1,G;return G.value=void 0,G.done=!0,G};return $.next=$}}return{next:V}}function V(){return{value:void 0,done:!0}}return d.prototype=g,o(T,"constructor",g),o(g,"constructor",d),d.displayName=o(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(A){var M=typeof A=="function"&&A.constructor;return!!M&&(M===d||(M.displayName||M.name)==="GeneratorFunction")},t.mark=function(A){return Object.setPrototypeOf?Object.setPrototypeOf(A,g):(A.__proto__=g,o(A,s,"GeneratorFunction")),A.prototype=Object.create(T),A},t.awrap=function(A){return{__await:A}},E(w.prototype),o(w.prototype,a,function(){return this}),t.AsyncIterator=w,t.async=function(A,M,B,$,G){G===void 0&&(G=Promise);var Q=new w(u(A,M,B,$),G);return t.isGeneratorFunction(M)?Q:Q.next().then(function(Z){return Z.done?Z.value:Q.next()})},E(T),o(T,s,"Generator"),o(T,r,function(){return this}),o(T,"toString",function(){return"[object Generator]"}),t.keys=function(A){var M=[];for(var B in A)M.push(B);return M.reverse(),function $(){for(;M.length;){var G=M.pop();if(G in A)return $.value=G,$.done=!1,$}return $.done=!0,$}},t.values=L,F.prototype={constructor:F,reset:function(M){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(D),!M)for(var B in this)B.charAt(0)==="t"&&n.call(this,B)&&!isNaN(+B.slice(1))&&(this[B]=void 0)},stop:function(){this.done=!0;var M=this.tryEntries[0].completion;if(M.type==="throw")throw M.arg;return this.rval},dispatchException:function(M){if(this.done)throw M;var B=this;function $(X,K){return Z.type="throw",Z.arg=M,B.next=X,K&&(B.method="next",B.arg=void 0),!!K}for(var G=this.tryEntries.length-1;G>=0;--G){var Q=this.tryEntries[G],Z=Q.completion;if(Q.tryLoc==="root")return $("end");if(Q.tryLoc<=this.prev){var se=n.call(Q,"catchLoc"),W=n.call(Q,"finallyLoc");if(se&&W){if(this.prev<Q.catchLoc)return $(Q.catchLoc,!0);if(this.prev<Q.finallyLoc)return $(Q.finallyLoc)}else if(se){if(this.prev<Q.catchLoc)return $(Q.catchLoc,!0)}else{if(!W)throw new Error("try statement without catch or finally");if(this.prev<Q.finallyLoc)return $(Q.finallyLoc)}}}},abrupt:function(M,B){for(var $=this.tryEntries.length-1;$>=0;--$){var G=this.tryEntries[$];if(G.tryLoc<=this.prev&&n.call(G,"finallyLoc")&&this.prev<G.finallyLoc){var Q=G;break}}Q&&(M==="break"||M==="continue")&&Q.tryLoc<=B&&B<=Q.finallyLoc&&(Q=null);var Z=Q?Q.completion:{};return Z.type=M,Z.arg=B,Q?(this.method="next",this.next=Q.finallyLoc,c):this.complete(Z)},complete:function(M,B){if(M.type==="throw")throw M.arg;return M.type==="break"||M.type==="continue"?this.next=M.arg:M.type==="return"?(this.rval=this.arg=M.arg,this.method="return",this.next="end"):M.type==="normal"&&B&&(this.next=B),c},finish:function(M){for(var B=this.tryEntries.length-1;B>=0;--B){var $=this.tryEntries[B];if($.finallyLoc===M)return this.complete($.completion,$.afterLoc),D($),c}},catch:function(M){for(var B=this.tryEntries.length-1;B>=0;--B){var $=this.tryEntries[B];if($.tryLoc===M){var G=$.completion;if(G.type==="throw"){var Q=G.arg;D($)}return Q}}throw new Error("illegal catch attempt")},delegateYield:function(M,B,$){return this.delegate={iterator:L(M),resultName:B,nextLoc:$},this.method==="next"&&(this.arg=void 0),c}},t}function eT(t,e,n,i,r,a,s){try{var o=t[a](s),u=o.value}catch(l){n(l);return}o.done?e(u):Promise.resolve(u).then(i,r)}function Zd(t){return function(){var e=this,n=arguments;return new Promise(function(i,r){var a=t.apply(e,n);function s(u){eT(a,i,r,s,o,"next",u)}function o(u){eT(a,i,r,s,o,"throw",u)}s(void 0)})}}function Wi(){return Wi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Wi.apply(this,arguments)}function pM(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,uu(t,e)}function tm(t){return tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tm(t)}function uu(t,e){return uu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},uu(t,e)}function mM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tc(t,e,n){return mM()?tc=Reflect.construct.bind():tc=function(r,a,s){var o=[null];o.push.apply(o,a);var u=Function.bind.apply(r,o),l=new u;return s&&uu(l,s.prototype),l},tc.apply(null,arguments)}function vM(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function rm(t){var e=typeof Map=="function"?new Map:void 0;return rm=function(i){if(i===null||!vM(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(i))return e.get(i);e.set(i,r)}function r(){return tc(i,arguments,tm(this).constructor)}return r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),uu(r,i)},rm(t)}var gM=/%[sdj%]/g,yM=function(){};typeof process<"u"&&process.env;function nm(t){if(!t||!t.length)return null;var e={};return t.forEach(function(n){var i=n.field;e[i]=e[i]||[],e[i].push(n)}),e}function Tr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r=0,a=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var s=t.replace(gM,function(o){if(o==="%%")return"%";if(r>=a)return o;switch(o){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}break;default:return o}});return s}return t}function _M(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function yt(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||_M(e)&&typeof t=="string"&&!t)}function TM(t,e,n){var i=[],r=0,a=t.length;function s(o){i.push.apply(i,o||[]),r++,r===a&&n(i)}t.forEach(function(o){e(o,s)})}function tT(t,e,n){var i=0,r=t.length;function a(s){if(s&&s.length){n(s);return}var o=i;i=i+1,o<r?e(t[o],a):n([])}a([])}function xM(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,t[n]||[])}),e}var rT=function(t){pM(e,t);function e(n,i){var r;return r=t.call(this,"Async Validation Error")||this,r.errors=n,r.fields=i,r}return e}(rm(Error));function SM(t,e,n,i,r){if(e.first){var a=new Promise(function(d,g){var _=function(T){return i(T),T.length?g(new rT(T,nm(T))):d(r)},y=xM(t);tT(y,n,_)});return a.catch(function(d){return d}),a}var s=e.firstFields===!0?Object.keys(t):e.firstFields||[],o=Object.keys(t),u=o.length,l=0,c=[],f=new Promise(function(d,g){var _=function(x){if(c.push.apply(c,x),l++,l===u)return i(c),c.length?g(new rT(c,nm(c))):d(r)};o.length||(i(c),d(r)),o.forEach(function(y){var x=t[y];s.indexOf(y)!==-1?tT(x,n,_):TM(x,n,_)})});return f.catch(function(d){return d}),f}function bM(t){return!!(t&&t.message!==void 0)}function EM(t,e){for(var n=t,i=0;i<e.length;i++){if(n==null)return n;n=n[e[i]]}return n}function nT(t,e){return function(n){var i;return t.fullFields?i=EM(e,t.fullFields):i=e[n.field||t.fullField],bM(n)?(n.field=n.field||t.fullField,n.fieldValue=i,n):{message:typeof n=="function"?n():n,fieldValue:i,field:n.field||t.fullField}}}function iT(t,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];typeof i=="object"&&typeof t[n]=="object"?t[n]=Wi({},t[n],i):t[n]=i}}return t}var rC=function(e,n,i,r,a,s){e.required&&(!i.hasOwnProperty(e.field)||yt(n,s||e.type))&&r.push(Tr(a.messages.required,e.fullField))},CM=function(e,n,i,r,a){(/^\s+$/.test(n)||n==="")&&r.push(Tr(a.messages.whitespace,e.fullField))},Al,wM=function(){if(Al)return Al;var t="[a-fA-F\\d:]",e=function(k){return k&&k.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",i="[a-fA-F\\d]{1,4}",r=(`
(?:
(?:`+i+":){7}(?:"+i+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+i+":){6}(?:"+n+"|:"+i+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+i+":){5}(?::"+n+"|(?::"+i+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+i+":){4}(?:(?::"+i+"){0,1}:"+n+"|(?::"+i+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+i+":){3}(?:(?::"+i+"){0,2}:"+n+"|(?::"+i+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+i+":){2}(?:(?::"+i+"){0,3}:"+n+"|(?::"+i+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+i+":){1}(?:(?::"+i+"){0,4}:"+n+"|(?::"+i+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+i+"){0,5}:"+n+"|(?::"+i+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),a=new RegExp("(?:^"+n+"$)|(?:^"+r+"$)"),s=new RegExp("^"+n+"$"),o=new RegExp("^"+r+"$"),u=function(k){return k&&k.exact?a:new RegExp("(?:"+e(k)+n+e(k)+")|(?:"+e(k)+r+e(k)+")","g")};u.v4=function(w){return w&&w.exact?s:new RegExp(""+e(w)+n+e(w),"g")},u.v6=function(w){return w&&w.exact?o:new RegExp(""+e(w)+r+e(w),"g")};var l="(?:(?:[a-z]+:)?//)",c="(?:\\S+(?::\\S*)?@)?",f=u.v4().source,d=u.v6().source,g="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",_="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",y="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",x="(?::\\d{2,5})?",T='(?:[/?#][^\\s"]*)?',E="(?:"+l+"|www\\.)"+c+"(?:localhost|"+f+"|"+d+"|"+g+_+y+")"+x+T;return Al=new RegExp("(?:^"+E+"$)","i"),Al},aT={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},go={integer:function(e){return go.number(e)&&parseInt(e,10)===e},float:function(e){return go.number(e)&&!go.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!go.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(aT.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(wM())},hex:function(e){return typeof e=="string"&&!!e.match(aT.hex)}},kM=function(e,n,i,r,a){if(e.required&&n===void 0){rC(e,n,i,r,a);return}var s=["integer","float","array","regexp","object","method","email","number","date","url","hex"],o=e.type;s.indexOf(o)>-1?go[o](n)||r.push(Tr(a.messages.types[o],e.fullField,e.type)):o&&typeof n!==e.type&&r.push(Tr(a.messages.types[o],e.fullField,e.type))},PM=function(e,n,i,r,a){var s=typeof e.len=="number",o=typeof e.min=="number",u=typeof e.max=="number",l=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=n,f=null,d=typeof n=="number",g=typeof n=="string",_=Array.isArray(n);if(d?f="number":g?f="string":_&&(f="array"),!f)return!1;_&&(c=n.length),g&&(c=n.replace(l,"_").length),s?c!==e.len&&r.push(Tr(a.messages[f].len,e.fullField,e.len)):o&&!u&&c<e.min?r.push(Tr(a.messages[f].min,e.fullField,e.min)):u&&!o&&c>e.max?r.push(Tr(a.messages[f].max,e.fullField,e.max)):o&&u&&(c<e.min||c>e.max)&&r.push(Tr(a.messages[f].range,e.fullField,e.min,e.max))},Ca="enum",AM=function(e,n,i,r,a){e[Ca]=Array.isArray(e[Ca])?e[Ca]:[],e[Ca].indexOf(n)===-1&&r.push(Tr(a.messages[Ca],e.fullField,e[Ca].join(", ")))},IM=function(e,n,i,r,a){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||r.push(Tr(a.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var s=new RegExp(e.pattern);s.test(n)||r.push(Tr(a.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},Ce={required:rC,whitespace:CM,type:kM,range:PM,enum:AM,pattern:IM},OM=function(e,n,i,r,a){var s=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(yt(n,"string")&&!e.required)return i();Ce.required(e,n,r,s,a,"string"),yt(n,"string")||(Ce.type(e,n,r,s,a),Ce.range(e,n,r,s,a),Ce.pattern(e,n,r,s,a),e.whitespace===!0&&Ce.whitespace(e,n,r,s,a))}i(s)},DM=function(e,n,i,r,a){var s=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(yt(n)&&!e.required)return i();Ce.required(e,n,r,s,a),n!==void 0&&Ce.type(e,n,r,s,a)}i(s)},LM=function(e,n,i,r,a){var s=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(n===""&&(n=void 0),yt(n)&&!e.required)return i();Ce.required(e,n,r,s,a),n!==void 0&&(Ce.type(e,n,r,s,a),Ce.range(e,n,r,s,a))}i(s)},FM=function(e,n,i,r,a){var s=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(yt(n)&&!e.required)return i();Ce.required(e,n,r,s,a),n!==void 0&&Ce.type(e,n,r,s,a)}i(s)},RM=function(e,n,i,r,a){var s=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(yt(n)&&!e.required)return i();Ce.required(e,n,r,s,a),yt(n)||Ce.type(e,n,r,s,a)}i(s)},NM=function(e,n,i,r,a){var s=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(yt(n)&&!e.required)return i();Ce.required(e,n,r,s,a),n!==void 0&&(Ce.type(e,n,r,s,a),Ce.range(e,n,r,s,a))}i(s)},MM=function(e,n,i,r,a){var s=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(yt(n)&&!e.required)return i();Ce.required(e,n,r,s,a),n!==void 0&&(Ce.type(e,n,r,s,a),Ce.range(e,n,r,s,a))}i(s)},UM=function(e,n,i,r,a){var s=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(n==null&&!e.required)return i();Ce.required(e,n,r,s,a,"array"),n!=null&&(Ce.type(e,n,r,s,a),Ce.range(e,n,r,s,a))}i(s)},BM=function(e,n,i,r,a){var s=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(yt(n)&&!e.required)return i();Ce.required(e,n,r,s,a),n!==void 0&&Ce.type(e,n,r,s,a)}i(s)},VM="enum",jM=function(e,n,i,r,a){var s=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(yt(n)&&!e.required)return i();Ce.required(e,n,r,s,a),n!==void 0&&Ce[VM](e,n,r,s,a)}i(s)},zM=function(e,n,i,r,a){var s=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(yt(n,"string")&&!e.required)return i();Ce.required(e,n,r,s,a),yt(n,"string")||Ce.pattern(e,n,r,s,a)}i(s)},HM=function(e,n,i,r,a){var s=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(yt(n,"date")&&!e.required)return i();if(Ce.required(e,n,r,s,a),!yt(n,"date")){var u;n instanceof Date?u=n:u=new Date(n),Ce.type(e,u,r,s,a),u&&Ce.range(e,u.getTime(),r,s,a)}}i(s)},$M=function(e,n,i,r,a){var s=[],o=Array.isArray(n)?"array":typeof n;Ce.required(e,n,r,s,a,o),i(s)},fh=function(e,n,i,r,a){var s=e.type,o=[],u=e.required||!e.required&&r.hasOwnProperty(e.field);if(u){if(yt(n,s)&&!e.required)return i();Ce.required(e,n,r,o,a,s),yt(n,s)||Ce.type(e,n,r,o,a)}i(o)},WM=function(e,n,i,r,a){var s=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(yt(n)&&!e.required)return i();Ce.required(e,n,r,s,a)}i(s)},Oo={string:OM,method:DM,number:LM,boolean:FM,regexp:RM,integer:NM,float:MM,array:UM,object:BM,enum:jM,pattern:zM,date:HM,url:fh,hex:fh,email:fh,required:$M,any:WM};function im(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var am=im(),Pu=function(){function t(n){this.rules=null,this._messages=am,this.define(n)}var e=t.prototype;return e.define=function(i){var r=this;if(!i)throw new Error("Cannot configure a schema with no rules");if(typeof i!="object"||Array.isArray(i))throw new Error("Rules must be an object");this.rules={},Object.keys(i).forEach(function(a){var s=i[a];r.rules[a]=Array.isArray(s)?s:[s]})},e.messages=function(i){return i&&(this._messages=iT(im(),i)),this._messages},e.validate=function(i,r,a){var s=this;r===void 0&&(r={}),a===void 0&&(a=function(){});var o=i,u=r,l=a;if(typeof u=="function"&&(l=u,u={}),!this.rules||Object.keys(this.rules).length===0)return l&&l(null,o),Promise.resolve(o);function c(y){var x=[],T={};function E(k){if(Array.isArray(k)){var I;x=(I=x).concat.apply(I,k)}else x.push(k)}for(var w=0;w<y.length;w++)E(y[w]);x.length?(T=nm(x),l(x,T)):l(null,o)}if(u.messages){var f=this.messages();f===am&&(f=im()),iT(f,u.messages),u.messages=f}else u.messages=this.messages();var d={},g=u.keys||Object.keys(this.rules);g.forEach(function(y){var x=s.rules[y],T=o[y];x.forEach(function(E){var w=E;typeof w.transform=="function"&&(o===i&&(o=Wi({},o)),T=o[y]=w.transform(T)),typeof w=="function"?w={validator:w}:w=Wi({},w),w.validator=s.getValidationMethod(w),w.validator&&(w.field=y,w.fullField=w.fullField||y,w.type=s.getType(w),d[y]=d[y]||[],d[y].push({rule:w,value:T,source:o,field:y}))})});var _={};return SM(d,u,function(y,x){var T=y.rule,E=(T.type==="object"||T.type==="array")&&(typeof T.fields=="object"||typeof T.defaultField=="object");E=E&&(T.required||!T.required&&y.value),T.field=y.field;function w(D,F){return Wi({},F,{fullField:T.fullField+"."+D,fullFields:T.fullFields?[].concat(T.fullFields,[D]):[D]})}function k(D){D===void 0&&(D=[]);var F=Array.isArray(D)?D:[D];!u.suppressWarning&&F.length&&t.warning("async-validator:",F),F.length&&T.message!==void 0&&(F=[].concat(T.message));var L=F.map(nT(T,o));if(u.first&&L.length)return _[T.field]=1,x(L);if(!E)x(L);else{if(T.required&&!y.value)return T.message!==void 0?L=[].concat(T.message).map(nT(T,o)):u.error&&(L=[u.error(T,Tr(u.messages.required,T.field))]),x(L);var V={};T.defaultField&&Object.keys(y.value).map(function(B){V[B]=T.defaultField}),V=Wi({},V,y.rule.fields);var A={};Object.keys(V).forEach(function(B){var $=V[B],G=Array.isArray($)?$:[$];A[B]=G.map(w.bind(null,B))});var M=new t(A);M.messages(u.messages),y.rule.options&&(y.rule.options.messages=u.messages,y.rule.options.error=u.error),M.validate(y.value,y.rule.options||u,function(B){var $=[];L&&L.length&&$.push.apply($,L),B&&B.length&&$.push.apply($,B),x($.length?$:null)})}}var I;if(T.asyncValidator)I=T.asyncValidator(T,y.value,k,y.source,u);else if(T.validator){try{I=T.validator(T,y.value,k,y.source,u)}catch(D){console.error==null||console.error(D),u.suppressValidatorError||setTimeout(function(){throw D},0),k(D.message)}I===!0?k():I===!1?k(typeof T.message=="function"?T.message(T.fullField||T.field):T.message||(T.fullField||T.field)+" fails"):I instanceof Array?k(I):I instanceof Error&&k(I.message)}I&&I.then&&I.then(function(){return k()},function(D){return k(D)})},function(y){c(y)},o)},e.getType=function(i){if(i.type===void 0&&i.pattern instanceof RegExp&&(i.type="pattern"),typeof i.validator!="function"&&i.type&&!Oo.hasOwnProperty(i.type))throw new Error(Tr("Unknown rule type %s",i.type));return i.type||"string"},e.getValidationMethod=function(i){if(typeof i.validator=="function")return i.validator;var r=Object.keys(i),a=r.indexOf("message");return a!==-1&&r.splice(a,1),r.length===1&&r[0]==="required"?Oo.required:Oo[this.getType(i)]||void 0},t}();Pu.register=function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");Oo[e]=n};Pu.warning=yM;Pu.messages=am;Pu.validators=Oo;var mr="'${name}' is not a valid ${type}",nC={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:mr,method:mr,array:mr,object:mr,number:mr,date:mr,boolean:mr,integer:mr,float:mr,regexp:mr,email:mr,url:mr,hex:mr},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}};function iC(t,e){for(var n=t,i=0;i<e.length;i+=1){if(n==null)return;n=n[e[i]]}return n}function aC(t){if(Array.isArray(t))return t}function sC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qM(t){return aC(t)||tC(t)||Eg(t)||sC()}function oC(t,e,n,i){if(!e.length)return n;var r=qM(e),a=r[0],s=r.slice(1),o;return!t&&typeof a=="number"?o=[]:Array.isArray(t)?o=be(t):o=ue({},t),i&&n===void 0&&s.length===1?delete o[a][s[0]]:o[a]=oC(o[a],s,n,i),o}function GM(t,e,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&i&&n===void 0&&!iC(t,e.slice(0,-1))?t:oC(t,e,n,i)}function ef(t){return Array.isArray(t)?XM(t):ht(t)==="object"&&t!==null?KM(t):t}function KM(t){if(Object.getPrototypeOf(t)===Object.prototype){var e={};for(var n in t)e[n]=ef(t[n]);return e}return t}function XM(t){return t.map(function(e){return ef(e)})}function st(t){return em(t)}function oi(t,e){var n=iC(t,e);return n}function Jn(t,e,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,r=GM(t,e,n,i);return r}function sT(t,e){var n={};return e.forEach(function(i){var r=oi(t,i);n=Jn(n,i,r)}),n}function Do(t,e){return t&&t.some(function(n){return lC(n,e)})}function oT(t){return ht(t)==="object"&&t!==null&&Object.getPrototypeOf(t)===Object.prototype}function uC(t,e){var n=Array.isArray(t)?be(t):ue({},t);return e&&Object.keys(e).forEach(function(i){var r=n[i],a=e[i],s=oT(r)&&oT(a);n[i]=s?uC(r,a||{}):ef(a)}),n}function rc(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n.reduce(function(r,a){return uC(r,a)},t)}function lC(t,e){return!t||!e||t.length!==e.length?!1:t.every(function(n,i){return e[i]===n})}function QM(t,e){if(t===e)return!0;if(!t&&e||t&&!e||!t||!e||ht(t)!=="object"||ht(e)!=="object")return!1;var n=Object.keys(t),i=Object.keys(e),r=new Set([].concat(n,i));return be(r).every(function(a){var s=t[a],o=e[a];return typeof s=="function"&&typeof o=="function"?!0:s===o})}function YM(t){var e=arguments.length<=1?void 0:arguments[1];return e&&e.target&&ht(e.target)==="object"&&t in e.target?e.target[t]:e}function uT(t,e,n){var i=t.length;if(e<0||e>=i||n<0||n>=i)return t;var r=t[e],a=e-n;return a>0?[].concat(be(t.slice(0,n)),[r],be(t.slice(n,e)),be(t.slice(e+1,i))):a<0?[].concat(be(t.slice(0,e)),be(t.slice(e+1,n+1)),[r],be(t.slice(n+1,i))):t}var JM=Pu;function ZM(t,e){return t.replace(/\$\{\w+\}/g,function(n){var i=n.slice(2,-1);return e[i]})}var lT="CODE_LOGIC_ERROR";function sm(t,e,n,i,r){return om.apply(this,arguments)}function om(){return om=Zd(jn().mark(function t(e,n,i,r,a){var s,o,u,l,c,f,d,g,_;return jn().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return s=ue({},i),delete s.ruleIndex,s.validator&&(o=s.validator,s.validator=function(){try{return o.apply(void 0,arguments)}catch(T){return console.error(T),Promise.reject(lT)}}),u=null,s&&s.type==="array"&&s.defaultField&&(u=s.defaultField,delete s.defaultField),l=new JM(ae({},e,[s])),c=rc({},nC,r.validateMessages),l.messages(c),f=[],x.prev=9,x.next=12,Promise.resolve(l.validate(ae({},e,n),ue({},r)));case 12:x.next=17;break;case 14:x.prev=14,x.t0=x.catch(9),x.t0.errors&&(f=x.t0.errors.map(function(T,E){var w=T.message,k=w===lT?c.default:w;return H.exports.isValidElement(k)?H.exports.cloneElement(k,{key:"error_".concat(E)}):k}));case 17:if(!(!f.length&&u)){x.next=22;break}return x.next=20,Promise.all(n.map(function(T,E){return sm("".concat(e,".").concat(E),T,u,r,a)}));case 20:return d=x.sent,x.abrupt("return",d.reduce(function(T,E){return[].concat(be(T),be(E))},[]));case 22:return g=ue(ue({},i),{},{name:e,enum:(i.enum||[]).join(", ")},a),_=f.map(function(T){return typeof T=="string"?ZM(T,g):T}),x.abrupt("return",_);case 25:case"end":return x.stop()}},t,null,[[9,14]])})),om.apply(this,arguments)}function e2(t,e,n,i,r,a){var s=t.join("."),o=n.map(function(c,f){var d=c.validator,g=ue(ue({},c),{},{ruleIndex:f});return d&&(g.validator=function(_,y,x){var T=!1,E=function(){for(var I=arguments.length,D=new Array(I),F=0;F<I;F++)D[F]=arguments[F];Promise.resolve().then(function(){Dn(!T,"Your validator function has already return a promise. `callback` will be ignored."),T||x.apply(void 0,D)})},w=d(_,y,E);T=w&&typeof w.then=="function"&&typeof w.catch=="function",Dn(T,"`callback` is deprecated. Please return a promise instead."),T&&w.then(function(){x()}).catch(function(k){x(k||" ")})}),g}).sort(function(c,f){var d=c.warningOnly,g=c.ruleIndex,_=f.warningOnly,y=f.ruleIndex;return!!d==!!_?g-y:d?1:-1}),u;if(r===!0)u=new Promise(function(){var c=Zd(jn().mark(function f(d,g){var _,y,x;return jn().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:_=0;case 1:if(!(_<o.length)){E.next=12;break}return y=o[_],E.next=5,sm(s,e,y,i,a);case 5:if(x=E.sent,!x.length){E.next=9;break}return g([{errors:x,rule:y}]),E.abrupt("return");case 9:_+=1,E.next=1;break;case 12:d([]);case 13:case"end":return E.stop()}},f)}));return function(f,d){return c.apply(this,arguments)}}());else{var l=o.map(function(c){return sm(s,e,c,i,a).then(function(f){return{errors:f,rule:c}})});u=(r?r2(l):t2(l)).then(function(c){return Promise.reject(c)})}return u.catch(function(c){return c}),u}function t2(t){return um.apply(this,arguments)}function um(){return um=Zd(jn().mark(function t(e){return jn().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Promise.all(e).then(function(r){var a,s=(a=[]).concat.apply(a,be(r));return s}));case 1:case"end":return i.stop()}},t)})),um.apply(this,arguments)}function r2(t){return lm.apply(this,arguments)}function lm(){return lm=Zd(jn().mark(function t(e){var n;return jn().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=0,r.abrupt("return",new Promise(function(a){e.forEach(function(s){s.then(function(o){o.errors.length&&a([o]),n+=1,n===e.length&&a([])})})}));case 2:case"end":return r.stop()}},t)})),lm.apply(this,arguments)}var n2=["name"],Pr=[];function cT(t,e,n,i,r,a){return typeof t=="function"?t(e,n,"source"in a?{source:a.source}:{}):i!==r}var Cg=function(t){Ci(n,t);var e=fa(n);function n(i){var r;if(qn(this,n),r=e.call(this,i),r.state={resetCount:0},r.cancelRegisterFunc=null,r.mounted=!1,r.touched=!1,r.dirty=!1,r.validatePromise=null,r.prevValidating=void 0,r.errors=Pr,r.warnings=Pr,r.cancelRegister=function(){var u=r.props,l=u.preserve,c=u.isListField,f=u.name;r.cancelRegisterFunc&&r.cancelRegisterFunc(c,l,st(f)),r.cancelRegisterFunc=null},r.getNamePath=function(){var u=r.props,l=u.name,c=u.fieldContext,f=c.prefixName,d=f===void 0?[]:f;return l!==void 0?[].concat(be(d),be(l)):[]},r.getRules=function(){var u=r.props,l=u.rules,c=l===void 0?[]:l,f=u.fieldContext;return c.map(function(d){return typeof d=="function"?d(f):d})},r.refresh=function(){!r.mounted||r.setState(function(u){var l=u.resetCount;return{resetCount:l+1}})},r.triggerMetaEvent=function(u){var l=r.props.onMetaChange;l==null||l(ue(ue({},r.getMeta()),{},{destroy:u}))},r.onStoreChange=function(u,l,c){var f=r.props,d=f.shouldUpdate,g=f.dependencies,_=g===void 0?[]:g,y=f.onReset,x=c.store,T=r.getNamePath(),E=r.getValue(u),w=r.getValue(x),k=l&&Do(l,T);switch(c.type==="valueUpdate"&&c.source==="external"&&E!==w&&(r.touched=!0,r.dirty=!0,r.validatePromise=null,r.errors=Pr,r.warnings=Pr,r.triggerMetaEvent()),c.type){case"reset":if(!l||k){r.touched=!1,r.dirty=!1,r.validatePromise=null,r.errors=Pr,r.warnings=Pr,r.triggerMetaEvent(),y==null||y(),r.refresh();return}break;case"remove":{if(d){r.reRender();return}break}case"setField":{if(k){var I=c.data;"touched"in I&&(r.touched=I.touched),"validating"in I&&!("originRCField"in I)&&(r.validatePromise=I.validating?Promise.resolve([]):null),"errors"in I&&(r.errors=I.errors||Pr),"warnings"in I&&(r.warnings=I.warnings||Pr),r.dirty=!0,r.triggerMetaEvent(),r.reRender();return}if(d&&!T.length&&cT(d,u,x,E,w,c)){r.reRender();return}break}case"dependenciesUpdate":{var D=_.map(st);if(D.some(function(F){return Do(c.relatedFields,F)})){r.reRender();return}break}default:if(k||(!_.length||T.length||d)&&cT(d,u,x,E,w,c)){r.reRender();return}break}d===!0&&r.reRender()},r.validateRules=function(u){var l=r.getNamePath(),c=r.getValue(),f=Promise.resolve().then(function(){if(!r.mounted)return[];var d=r.props,g=d.validateFirst,_=g===void 0?!1:g,y=d.messageVariables,x=u||{},T=x.triggerName,E=r.getRules();T&&(E=E.filter(function(k){var I=k.validateTrigger;if(!I)return!0;var D=em(I);return D.includes(T)}));var w=e2(l,c,E,u,_,y);return w.catch(function(k){return k}).then(function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Pr;if(r.validatePromise===f){var I;r.validatePromise=null;var D=[],F=[];(I=k.forEach)===null||I===void 0||I.call(k,function(L){var V=L.rule.warningOnly,A=L.errors,M=A===void 0?Pr:A;V?F.push.apply(F,be(M)):D.push.apply(D,be(M))}),r.errors=D,r.warnings=F,r.triggerMetaEvent(),r.reRender()}}),w});return r.validatePromise=f,r.dirty=!0,r.errors=Pr,r.warnings=Pr,r.triggerMetaEvent(),r.reRender(),f},r.isFieldValidating=function(){return!!r.validatePromise},r.isFieldTouched=function(){return r.touched},r.isFieldDirty=function(){if(r.dirty||r.props.initialValue!==void 0)return!0;var u=r.props.fieldContext,l=u.getInternalHooks($i),c=l.getInitialValue;return c(r.getNamePath())!==void 0},r.getErrors=function(){return r.errors},r.getWarnings=function(){return r.warnings},r.isListField=function(){return r.props.isListField},r.isList=function(){return r.props.isList},r.isPreserve=function(){return r.props.preserve},r.getMeta=function(){r.prevValidating=r.isFieldValidating();var u={touched:r.isFieldTouched(),validating:r.prevValidating,errors:r.errors,warnings:r.warnings,name:r.getNamePath()};return u},r.getOnlyChild=function(u){if(typeof u=="function"){var l=r.getMeta();return ue(ue({},r.getOnlyChild(u(r.getControlled(),l,r.props.fieldContext))),{},{isFunction:!0})}var c=Zc(u);return c.length!==1||!H.exports.isValidElement(c[0])?{child:c,isFunction:!1}:{child:c[0],isFunction:!1}},r.getValue=function(u){var l=r.props.fieldContext.getFieldsValue,c=r.getNamePath();return oi(u||l(!0),c)},r.getControlled=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=r.props,c=l.trigger,f=l.validateTrigger,d=l.getValueFromEvent,g=l.normalize,_=l.valuePropName,y=l.getValueProps,x=l.fieldContext,T=f!==void 0?f:x.validateTrigger,E=r.getNamePath(),w=x.getInternalHooks,k=x.getFieldsValue,I=w($i),D=I.dispatch,F=r.getValue(),L=y||function(B){return ae({},_,B)},V=u[c],A=ue(ue({},u),L(F));A[c]=function(){r.touched=!0,r.dirty=!0,r.triggerMetaEvent();for(var B,$=arguments.length,G=new Array($),Q=0;Q<$;Q++)G[Q]=arguments[Q];d?B=d.apply(void 0,G):B=YM.apply(void 0,[_].concat(G)),g&&(B=g(B,F,k(!0))),D({type:"updateValue",namePath:E,value:B}),V&&V.apply(void 0,G)};var M=em(T||[]);return M.forEach(function(B){var $=A[B];A[B]=function(){$&&$.apply(void 0,arguments);var G=r.props.rules;G&&G.length&&D({type:"validateField",namePath:E,triggerName:B})}}),A},i.fieldContext){var a=i.fieldContext.getInternalHooks,s=a($i),o=s.initEntityValue;o(_e(r))}return r}return Gn(n,[{key:"componentDidMount",value:function(){var r=this.props,a=r.shouldUpdate,s=r.fieldContext;if(this.mounted=!0,s){var o=s.getInternalHooks,u=o($i),l=u.registerField;this.cancelRegisterFunc=l(this)}a===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){!this.mounted||this.forceUpdate()}},{key:"render",value:function(){this.state.resetCount;var r=this.props.children,a=this.getOnlyChild(r),s=a.child,o=a.isFunction,u;return o?u=s:H.exports.isValidElement(s)?u=H.exports.cloneElement(s,this.getControlled(s.props)):(Dn(!s,"`children` of Field is not validate ReactElement."),u=s),ce(bg,{children:u})}}]),n}(H.exports.Component);Cg.contextType=Ss;Cg.defaultProps={trigger:"onChange",valuePropName:"value"};function cC(t){var e=t.name,n=Ns(t,n2),i=H.exports.useContext(Ss),r=e!==void 0?st(e):void 0,a="keep";return n.isListField||(a="_".concat((r||[]).join("_"))),ce(Cg,{name:r,...n,fieldContext:i},a)}var i2=H.exports.createContext(null),a2=function(e){var n=e.name,i=e.initialValue,r=e.children,a=e.rules,s=e.validateTrigger,o=H.exports.useContext(Ss),u=H.exports.useRef({keys:[],id:0}),l=u.current,c=H.exports.useMemo(function(){var _=st(o.prefixName)||[];return[].concat(be(_),be(st(n)))},[o.prefixName,n]),f=H.exports.useMemo(function(){return ue(ue({},o),{},{prefixName:c})},[o,c]),d=H.exports.useMemo(function(){return{getKey:function(y){var x=c.length,T=y[x];return[l.keys[T],y.slice(x+1)]}}},[c]);if(typeof r!="function")return Dn(!1,"Form.List only accepts function as children."),null;var g=function(y,x,T){var E=T.source;return E==="internal"?!1:y!==x};return ce(i2.Provider,{value:d,children:ce(Ss.Provider,{value:f,children:ce(cC,{name:[],shouldUpdate:g,rules:a,validateTrigger:s,initialValue:i,isList:!0,children:function(_,y){var x=_.value,T=x===void 0?[]:x,E=_.onChange,w=o.getFieldValue,k=function(){var L=w(c||[]);return L||[]},I={add:function(L,V){var A=k();V>=0&&V<=A.length?(l.keys=[].concat(be(l.keys.slice(0,V)),[l.id],be(l.keys.slice(V))),E([].concat(be(A.slice(0,V)),[L],be(A.slice(V))))):(l.keys=[].concat(be(l.keys),[l.id]),E([].concat(be(A),[L]))),l.id+=1},remove:function(L){var V=k(),A=new Set(Array.isArray(L)?L:[L]);A.size<=0||(l.keys=l.keys.filter(function(M,B){return!A.has(B)}),E(V.filter(function(M,B){return!A.has(B)})))},move:function(L,V){if(L!==V){var A=k();L<0||L>=A.length||V<0||V>=A.length||(l.keys=uT(l.keys,L,V),E(uT(A,L,V)))}}},D=T||[];return Array.isArray(D)||(D=[]),r(D.map(function(F,L){var V=l.keys[L];return V===void 0&&(l.keys[L]=l.id,V=l.keys[L],l.id+=1),{name:L,key:V,isListField:!0}}),I,y)}})})})};function s2(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i=[],r=!0,a=!1,s,o;try{for(n=n.call(t);!(r=(s=n.next()).done)&&(i.push(s.value),!(e&&i.length===e));r=!0);}catch(u){a=!0,o=u}finally{try{!r&&n.return!=null&&n.return()}finally{if(a)throw o}}return i}}function Be(t,e){return aC(t)||s2(t,e)||Eg(t,e)||sC()}function o2(t){var e=!1,n=t.length,i=[];return t.length?new Promise(function(r,a){t.forEach(function(s,o){s.catch(function(u){return e=!0,u}).then(function(u){n-=1,i[o]=u,!(n>0)&&(e&&a(i),r(i))})})}):Promise.resolve([])}var dC="__@field_split__";function hh(t){return t.map(function(e){return"".concat(ht(e),":").concat(e)}).join(dC)}var wa=function(){function t(){qn(this,t),this.kvs=new Map}return Gn(t,[{key:"set",value:function(n,i){this.kvs.set(hh(n),i)}},{key:"get",value:function(n){return this.kvs.get(hh(n))}},{key:"update",value:function(n,i){var r=this.get(n),a=i(r);a?this.set(n,a):this.delete(n)}},{key:"delete",value:function(n){this.kvs.delete(hh(n))}},{key:"map",value:function(n){return be(this.kvs.entries()).map(function(i){var r=Be(i,2),a=r[0],s=r[1],o=a.split(dC);return n({key:o.map(function(u){var l=u.match(/^([^:]*):(.*)$/),c=Be(l,3),f=c[1],d=c[2];return f==="number"?Number(d):d}),value:s})})}},{key:"toJSON",value:function(){var n={};return this.map(function(i){var r=i.key,a=i.value;return n[r.join(".")]=a,null}),n}}]),t}(),u2=["name","errors"],l2=Gn(function t(e){var n=this;qn(this,t),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}},this.getInternalHooks=function(i){return i===$i?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(Dn(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(i){n.subscribable=i},this.prevWithoutPreserves=null,this.setInitialValues=function(i,r){if(n.initialValues=i||{},r){var a,s=rc({},i,n.store);(a=n.prevWithoutPreserves)===null||a===void 0||a.map(function(o){var u=o.key;s=Jn(s,u,oi(i,u))}),n.prevWithoutPreserves=null,n.updateStore(s)}},this.destroyForm=function(){var i=new wa;n.getFieldEntities(!0).forEach(function(r){n.isMergedPreserve(r.isPreserve())||i.set(r.getNamePath(),!0)}),n.prevWithoutPreserves=i},this.getInitialValue=function(i){var r=oi(n.initialValues,i);return i.length?ef(r):r},this.setCallbacks=function(i){n.callbacks=i},this.setValidateMessages=function(i){n.validateMessages=i},this.setPreserve=function(i){n.preserve=i},this.watchList=[],this.registerWatch=function(i){return n.watchList.push(i),function(){n.watchList=n.watchList.filter(function(r){return r!==i})}},this.notifyWatch=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(n.watchList.length){var r=n.getFieldsValue();n.watchList.forEach(function(a){a(r,i)})}},this.timeoutId=null,this.warningUnhooked=function(){},this.updateStore=function(i){n.store=i},this.getFieldEntities=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return i?n.fieldEntities.filter(function(r){return r.getNamePath().length}):n.fieldEntities},this.getFieldsMap=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=new wa;return n.getFieldEntities(i).forEach(function(a){var s=a.getNamePath();r.set(s,a)}),r},this.getFieldEntitiesForNamePathList=function(i){if(!i)return n.getFieldEntities(!0);var r=n.getFieldsMap(!0);return i.map(function(a){var s=st(a);return r.get(s)||{INVALIDATE_NAME_PATH:st(a)}})},this.getFieldsValue=function(i,r){if(n.warningUnhooked(),i===!0&&!r)return n.store;var a=n.getFieldEntitiesForNamePathList(Array.isArray(i)?i:null),s=[];return a.forEach(function(o){var u,l="INVALIDATE_NAME_PATH"in o?o.INVALIDATE_NAME_PATH:o.getNamePath();if(!(!i&&((u=o.isListField)===null||u===void 0?void 0:u.call(o))))if(!r)s.push(l);else{var c="getMeta"in o?o.getMeta():null;r(c)&&s.push(l)}}),sT(n.store,s.map(st))},this.getFieldValue=function(i){n.warningUnhooked();var r=st(i);return oi(n.store,r)},this.getFieldsError=function(i){n.warningUnhooked();var r=n.getFieldEntitiesForNamePathList(i);return r.map(function(a,s){return a&&!("INVALIDATE_NAME_PATH"in a)?{name:a.getNamePath(),errors:a.getErrors(),warnings:a.getWarnings()}:{name:st(i[s]),errors:[],warnings:[]}})},this.getFieldError=function(i){n.warningUnhooked();var r=st(i),a=n.getFieldsError([r])[0];return a.errors},this.getFieldWarning=function(i){n.warningUnhooked();var r=st(i),a=n.getFieldsError([r])[0];return a.warnings},this.isFieldsTouched=function(){n.warningUnhooked();for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];var s=r[0],o=r[1],u,l=!1;r.length===0?u=null:r.length===1?Array.isArray(s)?(u=s.map(st),l=!1):(u=null,l=s):(u=s.map(st),l=o);var c=n.getFieldEntities(!0),f=function(x){return x.isFieldTouched()};if(!u)return l?c.every(f):c.some(f);var d=new wa;u.forEach(function(y){d.set(y,[])}),c.forEach(function(y){var x=y.getNamePath();u.forEach(function(T){T.every(function(E,w){return x[w]===E})&&d.update(T,function(E){return[].concat(be(E),[y])})})});var g=function(x){return x.some(f)},_=d.map(function(y){var x=y.value;return x});return l?_.every(g):_.some(g)},this.isFieldTouched=function(i){return n.warningUnhooked(),n.isFieldsTouched([i])},this.isFieldsValidating=function(i){n.warningUnhooked();var r=n.getFieldEntities();if(!i)return r.some(function(s){return s.isFieldValidating()});var a=i.map(st);return r.some(function(s){var o=s.getNamePath();return Do(a,o)&&s.isFieldValidating()})},this.isFieldValidating=function(i){return n.warningUnhooked(),n.isFieldsValidating([i])},this.resetWithFieldInitialValue=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=new wa,a=n.getFieldEntities(!0);a.forEach(function(u){var l=u.props.initialValue,c=u.getNamePath();if(l!==void 0){var f=r.get(c)||new Set;f.add({entity:u,value:l}),r.set(c,f)}});var s=function(l){l.forEach(function(c){var f=c.props.initialValue;if(f!==void 0){var d=c.getNamePath(),g=n.getInitialValue(d);if(g!==void 0)Dn(!1,"Form already set 'initialValues' with path '".concat(d.join("."),"'. Field can not overwrite it."));else{var _=r.get(d);if(_&&_.size>1)Dn(!1,"Multiple Field with path '".concat(d.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(_){var y=n.getFieldValue(d);(!i.skipExist||y===void 0)&&n.updateStore(Jn(n.store,d,be(_)[0].value))}}}})},o;i.entities?o=i.entities:i.namePathList?(o=[],i.namePathList.forEach(function(u){var l=r.get(u);if(l){var c;(c=o).push.apply(c,be(be(l).map(function(f){return f.entity})))}})):o=a,s(o)},this.resetFields=function(i){n.warningUnhooked();var r=n.store;if(!i){n.updateStore(rc({},n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(r,null,{type:"reset"}),n.notifyWatch();return}var a=i.map(st);a.forEach(function(s){var o=n.getInitialValue(s);n.updateStore(Jn(n.store,s,o))}),n.resetWithFieldInitialValue({namePathList:a}),n.notifyObservers(r,a,{type:"reset"}),n.notifyWatch(a)},this.setFields=function(i){n.warningUnhooked();var r=n.store,a=[];i.forEach(function(s){var o=s.name;s.errors;var u=Ns(s,u2),l=st(o);a.push(l),"value"in u&&n.updateStore(Jn(n.store,l,u.value)),n.notifyObservers(r,[l],{type:"setField",data:s})}),n.notifyWatch(a)},this.getFields=function(){var i=n.getFieldEntities(!0),r=i.map(function(a){var s=a.getNamePath(),o=a.getMeta(),u=ue(ue({},o),{},{name:s,value:n.getFieldValue(s)});return Object.defineProperty(u,"originRCField",{value:!0}),u});return r},this.initEntityValue=function(i){var r=i.props.initialValue;if(r!==void 0){var a=i.getNamePath(),s=oi(n.store,a);s===void 0&&n.updateStore(Jn(n.store,a,r))}},this.isMergedPreserve=function(i){var r=i!==void 0?i:n.preserve;return r!=null?r:!0},this.registerField=function(i){n.fieldEntities.push(i);var r=i.getNamePath();if(n.notifyWatch([r]),i.props.initialValue!==void 0){var a=n.store;n.resetWithFieldInitialValue({entities:[i],skipExist:!0}),n.notifyObservers(a,[i.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(s,o){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter(function(f){return f!==i}),!n.isMergedPreserve(o)&&(!s||u.length>1)){var l=s?void 0:n.getInitialValue(r);if(r.length&&n.getFieldValue(r)!==l&&n.fieldEntities.every(function(f){return!lC(f.getNamePath(),r)})){var c=n.store;n.updateStore(Jn(c,r,l,!0)),n.notifyObservers(c,[r],{type:"remove"}),n.triggerDependenciesUpdate(c,r)}}n.notifyWatch([r])}},this.dispatch=function(i){switch(i.type){case"updateValue":{var r=i.namePath,a=i.value;n.updateValue(r,a);break}case"validateField":{var s=i.namePath,o=i.triggerName;n.validateFields([s],{triggerName:o});break}}},this.notifyObservers=function(i,r,a){if(n.subscribable){var s=ue(ue({},a),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach(function(o){var u=o.onStoreChange;u(i,r,s)})}else n.forceRootUpdate()},this.triggerDependenciesUpdate=function(i,r){var a=n.getDependencyChildrenFields(r);return a.length&&n.validateFields(a),n.notifyObservers(i,a,{type:"dependenciesUpdate",relatedFields:[r].concat(be(a))}),a},this.updateValue=function(i,r){var a=st(i),s=n.store;n.updateStore(Jn(n.store,a,r)),n.notifyObservers(s,[a],{type:"valueUpdate",source:"internal"}),n.notifyWatch([a]);var o=n.triggerDependenciesUpdate(s,a),u=n.callbacks.onValuesChange;if(u){var l=sT(n.store,[a]);u(l,n.getFieldsValue())}n.triggerOnFieldsChange([a].concat(be(o)))},this.setFieldsValue=function(i){n.warningUnhooked();var r=n.store;if(i){var a=rc(n.store,i);n.updateStore(a)}n.notifyObservers(r,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()},this.setFieldValue=function(i,r){n.setFields([{name:i,value:r}])},this.getDependencyChildrenFields=function(i){var r=new Set,a=[],s=new wa;n.getFieldEntities().forEach(function(u){var l=u.props.dependencies;(l||[]).forEach(function(c){var f=st(c);s.update(f,function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return d.add(u),d})})});var o=function u(l){var c=s.get(l)||new Set;c.forEach(function(f){if(!r.has(f)){r.add(f);var d=f.getNamePath();f.isFieldDirty()&&d.length&&(a.push(d),u(d))}})};return o(i),a},this.triggerOnFieldsChange=function(i,r){var a=n.callbacks.onFieldsChange;if(a){var s=n.getFields();if(r){var o=new wa;r.forEach(function(l){var c=l.name,f=l.errors;o.set(c,f)}),s.forEach(function(l){l.errors=o.get(l.name)||l.errors})}var u=s.filter(function(l){var c=l.name;return Do(i,c)});a(u,s)}},this.validateFields=function(i,r){n.warningUnhooked();var a=!!i,s=a?i.map(st):[],o=[];n.getFieldEntities(!0).forEach(function(c){if(a||s.push(c.getNamePath()),(r==null?void 0:r.recursive)&&a){var f=c.getNamePath();f.every(function(_,y){return i[y]===_||i[y]===void 0})&&s.push(f)}if(!(!c.props.rules||!c.props.rules.length)){var d=c.getNamePath();if(!a||Do(s,d)){var g=c.validateRules(ue({validateMessages:ue(ue({},nC),n.validateMessages)},r));o.push(g.then(function(){return{name:d,errors:[],warnings:[]}}).catch(function(_){var y,x=[],T=[];return(y=_.forEach)===null||y===void 0||y.call(_,function(E){var w=E.rule.warningOnly,k=E.errors;w?T.push.apply(T,be(k)):x.push.apply(x,be(k))}),x.length?Promise.reject({name:d,errors:x,warnings:T}):{name:d,errors:x,warnings:T}}))}}});var u=o2(o);n.lastValidatePromise=u,u.catch(function(c){return c}).then(function(c){var f=c.map(function(d){var g=d.name;return g});n.notifyObservers(n.store,f,{type:"validateFinish"}),n.triggerOnFieldsChange(f,c)});var l=u.then(function(){return n.lastValidatePromise===u?Promise.resolve(n.getFieldsValue(s)):Promise.reject([])}).catch(function(c){var f=c.filter(function(d){return d&&d.errors.length});return Promise.reject({values:n.getFieldsValue(s),errorFields:f,outOfDate:n.lastValidatePromise!==u})});return l.catch(function(c){return c}),l},this.submit=function(){n.warningUnhooked(),n.validateFields().then(function(i){var r=n.callbacks.onFinish;if(r)try{r(i)}catch(a){console.error(a)}}).catch(function(i){var r=n.callbacks.onFinishFailed;r&&r(i)})},this.forceRootUpdate=e});function fC(t){var e=H.exports.useRef(),n=H.exports.useState({}),i=Be(n,2),r=i[1];if(!e.current)if(t)e.current=t;else{var a=function(){r({})},s=new l2(a);e.current=s.getForm()}return[e.current]}var cm=H.exports.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),c2=function(e){var n=e.validateMessages,i=e.onFormChange,r=e.onFormFinish,a=e.children,s=H.exports.useContext(cm),o=H.exports.useRef({});return ce(cm.Provider,{value:ue(ue({},s),{},{validateMessages:ue(ue({},s.validateMessages),n),triggerFormChange:function(l,c){i&&i(l,{changedFields:c,forms:o.current}),s.triggerFormChange(l,c)},triggerFormFinish:function(l,c){r&&r(l,{values:c,forms:o.current}),s.triggerFormFinish(l,c)},registerForm:function(l,c){l&&(o.current=ue(ue({},o.current),{},ae({},l,c))),s.registerForm(l,c)},unregisterForm:function(l){var c=ue({},o.current);delete c[l],o.current=c,s.unregisterForm(l)}}),children:a})},d2=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],f2=function(e,n){var i=e.name,r=e.initialValues,a=e.fields,s=e.form,o=e.preserve,u=e.children,l=e.component,c=l===void 0?"form":l,f=e.validateMessages,d=e.validateTrigger,g=d===void 0?"onChange":d,_=e.onValuesChange,y=e.onFieldsChange,x=e.onFinish,T=e.onFinishFailed,E=Ns(e,d2),w=H.exports.useContext(cm),k=fC(s),I=Be(k,1),D=I[0],F=D.getInternalHooks($i),L=F.useSubscribe,V=F.setInitialValues,A=F.setCallbacks,M=F.setValidateMessages,B=F.setPreserve,$=F.destroyForm;H.exports.useImperativeHandle(n,function(){return D}),H.exports.useEffect(function(){return w.registerForm(i,D),function(){w.unregisterForm(i)}},[w,D,i]),M(ue(ue({},w.validateMessages),f)),A({onValuesChange:_,onFieldsChange:function(re){if(w.triggerFormChange(i,re),y){for(var ve=arguments.length,fe=new Array(ve>1?ve-1:0),pe=1;pe<ve;pe++)fe[pe-1]=arguments[pe];y.apply(void 0,[re].concat(fe))}},onFinish:function(re){w.triggerFormFinish(i,re),x&&x(re)},onFinishFailed:T}),B(o);var G=H.exports.useRef(null);V(r,!G.current),G.current||(G.current=!0),H.exports.useEffect(function(){return $},[]);var Q,Z=typeof u=="function";if(Z){var se=D.getFieldsValue(!0);Q=u(se,D)}else Q=u;L(!Z);var W=H.exports.useRef();H.exports.useEffect(function(){QM(W.current||[],a||[])||D.setFields(a||[]),W.current=a},[a,D]);var X=H.exports.useMemo(function(){return ue(ue({},D),{},{validateTrigger:g})},[D,g]),K=ce(Ss.Provider,{value:X,children:Q});return c===!1?K:ce(c,{...E,onSubmit:function(re){re.preventDefault(),re.stopPropagation(),D.submit()},onReset:function(re){var ve;re.preventDefault(),D.resetFields(),(ve=E.onReset)===null||ve===void 0||ve.call(E,re)},children:K})};function dT(t){try{return JSON.stringify(t)}catch{return Math.random()}}function h2(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=H.exports.useState(),i=Be(n,2),r=i[0],a=i[1],s=H.exports.useMemo(function(){return dT(r)},[r]),o=H.exports.useRef(s);o.current=s;var u=H.exports.useContext(Ss),l=e||u,c=l&&l._init,f=st(t),d=H.exports.useRef(f);return d.current=f,H.exports.useEffect(function(){if(!!c){var g=l.getFieldsValue,_=l.getInternalHooks,y=_($i),x=y.registerWatch,T=x(function(w){var k=oi(w,d.current),I=dT(k);o.current!==I&&(o.current=I,a(k))}),E=oi(g(),d.current);return a(E),T}},[]),r}var p2=H.exports.forwardRef(f2),Au=p2;Au.FormProvider=c2;Au.Field=cC;Au.List=a2;Au.useForm=fC;Au.useWatch=h2;function Nr(t,e){m2(t)&&(t="100%");var n=v2(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function m2(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function v2(t){return typeof t=="string"&&t.indexOf("%")!==-1}function g2(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Il(t){return t<=1?"".concat(Number(t)*100,"%"):t}function ph(t){return t.length===1?"0"+t:String(t)}function y2(t,e,n){return{r:Nr(t,255)*255,g:Nr(e,255)*255,b:Nr(n,255)*255}}function mh(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*(6*n):n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function _2(t,e,n){var i,r,a;if(t=Nr(t,360),e=Nr(e,100),n=Nr(n,100),e===0)r=n,a=n,i=n;else{var s=n<.5?n*(1+e):n+e-n*e,o=2*n-s;i=mh(o,s,t+1/3),r=mh(o,s,t),a=mh(o,s,t-1/3)}return{r:i*255,g:r*255,b:a*255}}function T2(t,e,n){t=Nr(t,255),e=Nr(e,255),n=Nr(n,255);var i=Math.max(t,e,n),r=Math.min(t,e,n),a=0,s=i,o=i-r,u=i===0?0:o/i;if(i===r)a=0;else{switch(i){case t:a=(e-n)/o+(e<n?6:0);break;case e:a=(n-t)/o+2;break;case n:a=(t-e)/o+4;break}a/=6}return{h:a,s:u,v:s}}function x2(t,e,n){t=Nr(t,360)*6,e=Nr(e,100),n=Nr(n,100);var i=Math.floor(t),r=t-i,a=n*(1-e),s=n*(1-r*e),o=n*(1-(1-r)*e),u=i%6,l=[n,s,a,a,o,n][u],c=[o,n,n,s,a,a][u],f=[a,a,o,n,n,s][u];return{r:l*255,g:c*255,b:f*255}}function S2(t,e,n,i){var r=[ph(Math.round(t).toString(16)),ph(Math.round(e).toString(16)),ph(Math.round(n).toString(16))];return i&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function fT(t){return vr(t)/255}function vr(t){return parseInt(t,16)}var hT={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function ao(t){var e={r:0,g:0,b:0},n=1,i=null,r=null,a=null,s=!1,o=!1;return typeof t=="string"&&(t=C2(t)),typeof t=="object"&&(yn(t.r)&&yn(t.g)&&yn(t.b)?(e=y2(t.r,t.g,t.b),s=!0,o=String(t.r).substr(-1)==="%"?"prgb":"rgb"):yn(t.h)&&yn(t.s)&&yn(t.v)?(i=Il(t.s),r=Il(t.v),e=x2(t.h,i,r),s=!0,o="hsv"):yn(t.h)&&yn(t.s)&&yn(t.l)&&(i=Il(t.s),a=Il(t.l),e=_2(t.h,i,a),s=!0,o="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=g2(n),{ok:s,format:t.format||o,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}var b2="[-\\+]?\\d+%?",E2="[-\\+]?\\d*\\.\\d+%?",ui="(?:".concat(E2,")|(?:").concat(b2,")"),vh="[\\s|\\(]+(".concat(ui,")[,|\\s]+(").concat(ui,")[,|\\s]+(").concat(ui,")\\s*\\)?"),gh="[\\s|\\(]+(".concat(ui,")[,|\\s]+(").concat(ui,")[,|\\s]+(").concat(ui,")[,|\\s]+(").concat(ui,")\\s*\\)?"),zr={CSS_UNIT:new RegExp(ui),rgb:new RegExp("rgb"+vh),rgba:new RegExp("rgba"+gh),hsl:new RegExp("hsl"+vh),hsla:new RegExp("hsla"+gh),hsv:new RegExp("hsv"+vh),hsva:new RegExp("hsva"+gh),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function C2(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(hT[t])t=hT[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=zr.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=zr.rgba.exec(t),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=zr.hsl.exec(t),n?{h:n[1],s:n[2],l:n[3]}:(n=zr.hsla.exec(t),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=zr.hsv.exec(t),n?{h:n[1],s:n[2],v:n[3]}:(n=zr.hsva.exec(t),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=zr.hex8.exec(t),n?{r:vr(n[1]),g:vr(n[2]),b:vr(n[3]),a:fT(n[4]),format:e?"name":"hex8"}:(n=zr.hex6.exec(t),n?{r:vr(n[1]),g:vr(n[2]),b:vr(n[3]),format:e?"name":"hex"}:(n=zr.hex4.exec(t),n?{r:vr(n[1]+n[1]),g:vr(n[2]+n[2]),b:vr(n[3]+n[3]),a:fT(n[4]+n[4]),format:e?"name":"hex8"}:(n=zr.hex3.exec(t),n?{r:vr(n[1]+n[1]),g:vr(n[2]+n[2]),b:vr(n[3]+n[3]),format:e?"name":"hex"}:!1)))))))))}function yn(t){return Boolean(zr.CSS_UNIT.exec(String(t)))}var Ol=2,pT=.16,w2=.05,k2=.05,P2=.15,hC=5,pC=4,A2=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function mT(t){var e=t.r,n=t.g,i=t.b,r=T2(e,n,i);return{h:r.h*360,s:r.s,v:r.v}}function Dl(t){var e=t.r,n=t.g,i=t.b;return"#".concat(S2(e,n,i,!1))}function I2(t,e,n){var i=n/100,r={r:(e.r-t.r)*i+t.r,g:(e.g-t.g)*i+t.g,b:(e.b-t.b)*i+t.b};return r}function vT(t,e,n){var i;return Math.round(t.h)>=60&&Math.round(t.h)<=240?i=n?Math.round(t.h)-Ol*e:Math.round(t.h)+Ol*e:i=n?Math.round(t.h)+Ol*e:Math.round(t.h)-Ol*e,i<0?i+=360:i>=360&&(i-=360),i}function gT(t,e,n){if(t.h===0&&t.s===0)return t.s;var i;return n?i=t.s-pT*e:e===pC?i=t.s+pT:i=t.s+w2*e,i>1&&(i=1),n&&e===hC&&i>.1&&(i=.1),i<.06&&(i=.06),Number(i.toFixed(2))}function yT(t,e,n){var i;return n?i=t.v+k2*e:i=t.v-P2*e,i>1&&(i=1),Number(i.toFixed(2))}function dm(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],i=ao(t),r=hC;r>0;r-=1){var a=mT(i),s=Dl(ao({h:vT(a,r,!0),s:gT(a,r,!0),v:yT(a,r,!0)}));n.push(s)}n.push(Dl(i));for(var o=1;o<=pC;o+=1){var u=mT(i),l=Dl(ao({h:vT(u,o),s:gT(u,o),v:yT(u,o)}));n.push(l)}return e.theme==="dark"?A2.map(function(c){var f=c.index,d=c.opacity,g=Dl(I2(ao(e.backgroundColor||"#141414"),ao(n[f]),d*100));return g}):n}var yh={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},_h={},Th={};Object.keys(yh).forEach(function(t){_h[t]=dm(yh[t]),_h[t].primary=_h[t][5],Th[t]=dm(yh[t],{theme:"dark",backgroundColor:"#141414"}),Th[t].primary=Th[t][5]});function Iu(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var _T="data-rc-order",O2="rc-util-key",fm=new Map;function mC(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.mark;return e?e.startsWith("data-")?e:"data-".concat(e):O2}function wg(t){if(t.attachTo)return t.attachTo;var e=document.querySelector("head");return e||document.body}function D2(t){return t==="queue"?"prependQueue":t?"prepend":"append"}function vC(t){return Array.from((fm.get(t)||t).children).filter(function(e){return e.tagName==="STYLE"})}function TT(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Iu())return null;var n=e.csp,i=e.prepend,r=document.createElement("style");r.setAttribute(_T,D2(i)),n!=null&&n.nonce&&(r.nonce=n==null?void 0:n.nonce),r.innerHTML=t;var a=wg(e),s=a.firstChild;if(i){if(i==="queue"){var o=vC(a).filter(function(u){return["prepend","prependQueue"].includes(u.getAttribute(_T))});if(o.length)return a.insertBefore(r,o[o.length-1].nextSibling),r}a.insertBefore(r,s)}else a.appendChild(r);return r}function L2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=wg(e);return vC(n).find(function(i){return i.getAttribute(mC(e))===t})}function gC(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=wg(n);if(!fm.has(i)){var r=TT("",n),a=r.parentNode;fm.set(i,a),a.removeChild(r)}var s=L2(e,n);if(s){var o,u;if(((o=n.csp)===null||o===void 0?void 0:o.nonce)&&s.nonce!==((u=n.csp)===null||u===void 0?void 0:u.nonce)){var l;s.nonce=(l=n.csp)===null||l===void 0?void 0:l.nonce}return s.innerHTML!==t&&(s.innerHTML=t),s}var c=TT(t,n);return c.setAttribute(mC(n),e),c}function F2(t,e){Dn(t,"[@ant-design/icons] ".concat(e))}function xT(t){return ht(t)==="object"&&typeof t.name=="string"&&typeof t.theme=="string"&&(ht(t.icon)==="object"||typeof t.icon=="function")}function ST(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(e,n){var i=t[n];switch(n){case"class":e.className=i,delete e.class;break;default:e[n]=i}return e},{})}function hm(t,e,n){return n?qi.createElement(t.tag,ue(ue({key:e},ST(t.attrs)),n),(t.children||[]).map(function(i,r){return hm(i,"".concat(e,"-").concat(t.tag,"-").concat(r))})):qi.createElement(t.tag,ue({key:e},ST(t.attrs)),(t.children||[]).map(function(i,r){return hm(i,"".concat(e,"-").concat(t.tag,"-").concat(r))}))}function yC(t){return dm(t)[0]}function _C(t){return t?Array.isArray(t)?t:[t]:[]}var R2=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,N2=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:R2,n=H.exports.useContext(eC),i=n.csp;H.exports.useEffect(function(){gC(e,"@ant-design-icons",{prepend:!0,csp:i})},[])},M2=["icon","className","onClick","style","primaryColor","secondaryColor"],Lo={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function U2(t){var e=t.primaryColor,n=t.secondaryColor;Lo.primaryColor=e,Lo.secondaryColor=n||yC(e),Lo.calculated=!!n}function B2(){return ue({},Lo)}var tf=function(e){var n=e.icon,i=e.className,r=e.onClick,a=e.style,s=e.primaryColor,o=e.secondaryColor,u=Ns(e,M2),l=Lo;if(s&&(l={primaryColor:s,secondaryColor:o||yC(s)}),N2(),F2(xT(n),"icon should be icon definiton, but got ".concat(n)),!xT(n))return null;var c=n;return c&&typeof c.icon=="function"&&(c=ue(ue({},c),{},{icon:c.icon(l.primaryColor,l.secondaryColor)})),hm(c.icon,"svg-".concat(c.name),ue({className:i,onClick:r,style:a,"data-icon":c.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},u))};tf.displayName="IconReact";tf.getTwoToneColors=B2;tf.setTwoToneColors=U2;const kg=tf;function TC(t){var e=_C(t),n=Be(e,2),i=n[0],r=n[1];return kg.setTwoToneColors({primaryColor:i,secondaryColor:r})}function V2(){var t=kg.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor}var j2=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];TC("#1890ff");var rf=H.exports.forwardRef(function(t,e){var n,i=t.className,r=t.icon,a=t.spin,s=t.rotate,o=t.tabIndex,u=t.onClick,l=t.twoToneColor,c=Ns(t,j2),f=H.exports.useContext(eC),d=f.prefixCls,g=d===void 0?"anticon":d,_=et(g,(n={},ae(n,"".concat(g,"-").concat(r.name),!!r.name),ae(n,"".concat(g,"-spin"),!!a||r.name==="loading"),n),i),y=o;y===void 0&&u&&(y=-1);var x=s?{msTransform:"rotate(".concat(s,"deg)"),transform:"rotate(".concat(s,"deg)")}:void 0,T=_C(l),E=Be(T,2),w=E[0],k=E[1];return ce("span",{...ue(ue({role:"img","aria-label":r.name},c),{},{ref:e,tabIndex:y,onClick:u,className:_}),children:ce(kg,{icon:r,primaryColor:w,secondaryColor:k,style:x})})});rf.displayName="AntdIcon";rf.getTwoToneColor=V2;rf.setTwoToneColor=TC;const Ou=rf;var z2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"};const H2=z2;var xC=function(e,n){return ce(Ou,{...ue(ue({},e),{},{ref:n,icon:H2})})};xC.displayName="CloseCircleFilled";const SC=H.exports.forwardRef(xC);var $2={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};const W2=$2;var bC=function(e,n){return ce(Ou,{...ue(ue({},e),{},{ref:n,icon:W2})})};bC.displayName="LoadingOutlined";const bT=H.exports.forwardRef(bC);function ET(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit".concat(t)]="webkit".concat(e),n["Moz".concat(t)]="moz".concat(e),n["ms".concat(t)]="MS".concat(e),n["O".concat(t)]="o".concat(e.toLowerCase()),n}function q2(t,e){var n={animationend:ET("Animation","AnimationEnd"),transitionend:ET("Transition","TransitionEnd")};return t&&("AnimationEvent"in e||delete n.animationend.animation,"TransitionEvent"in e||delete n.transitionend.transition),n}var G2=q2(Iu(),typeof window<"u"?window:{}),EC={};if(Iu()){var K2=document.createElement("div");EC=K2.style}var Ll={};function CC(t){if(Ll[t])return Ll[t];var e=G2[t];if(e)for(var n=Object.keys(e),i=n.length,r=0;r<i;r+=1){var a=n[r];if(Object.prototype.hasOwnProperty.call(e,a)&&a in EC)return Ll[t]=e[a],Ll[t]}return""}var wC=CC("animationend"),kC=CC("transitionend"),X2=!!(wC&&kC),CT=wC||"animationend",wT=kC||"transitionend";function kT(t,e){if(!t)return null;if(ht(t)==="object"){var n=e.replace(/-\w/g,function(i){return i[1].toUpperCase()});return t[n]}return"".concat(t,"-").concat(e)}var ka="none",Fl="appear",Rl="enter",Nl="leave",PT="none",bn="prepare",$a="start",Wa="active",Pg="end";function Fo(t){var e=H.exports.useRef(!1),n=H.exports.useState(t),i=Be(n,2),r=i[0],a=i[1];H.exports.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function s(o,u){u&&e.current||a(o)}return[r,s]}var PC=function(e){return+setTimeout(e,16)},AC=function(e){return clearTimeout(e)};typeof window<"u"&&"requestAnimationFrame"in window&&(PC=function(e){return window.requestAnimationFrame(e)},AC=function(e){return window.cancelAnimationFrame(e)});var AT=0,Ag=new Map;function IC(t){Ag.delete(t)}function bs(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;AT+=1;var n=AT;function i(r){if(r===0)IC(n),t();else{var a=PC(function(){i(r-1)});Ag.set(n,a)}}return i(e),n}bs.cancel=function(t){var e=Ag.get(t);return IC(e),AC(e)};const Q2=function(){var t=H.exports.useRef(null);function e(){bs.cancel(t.current)}function n(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var a=bs(function(){r<=1?i({isCanceled:function(){return a!==t.current}}):n(i,r-1)});t.current=a}return H.exports.useEffect(function(){return function(){e()}},[]),[n,e]};var OC=Iu()?H.exports.useLayoutEffect:H.exports.useEffect,IT=[bn,$a,Wa,Pg],DC=!1,Y2=!0;function LC(t){return t===Wa||t===Pg}const J2=function(t,e){var n=Fo(PT),i=Be(n,2),r=i[0],a=i[1],s=Q2(),o=Be(s,2),u=o[0],l=o[1];function c(){a(bn,!0)}return OC(function(){if(r!==PT&&r!==Pg){var f=IT.indexOf(r),d=IT[f+1],g=e(r);g===DC?a(d,!0):u(function(_){function y(){_.isCanceled()||a(d,!0)}g===!0?y():Promise.resolve(g).then(y)})}},[t,r]),H.exports.useEffect(function(){return function(){l()}},[]),[c,r]},Z2=function(t){var e=H.exports.useRef(),n=H.exports.useRef(t);n.current=t;var i=H.exports.useCallback(function(s){n.current(s)},[]);function r(s){s&&(s.removeEventListener(wT,i),s.removeEventListener(CT,i))}function a(s){e.current&&e.current!==s&&r(e.current),s&&s!==e.current&&(s.addEventListener(wT,i),s.addEventListener(CT,i),e.current=s)}return H.exports.useEffect(function(){return function(){r(e.current)}},[]),[a,r]};function e3(t,e,n,i){var r=i.motionEnter,a=r===void 0?!0:r,s=i.motionAppear,o=s===void 0?!0:s,u=i.motionLeave,l=u===void 0?!0:u,c=i.motionDeadline,f=i.motionLeaveImmediately,d=i.onAppearPrepare,g=i.onEnterPrepare,_=i.onLeavePrepare,y=i.onAppearStart,x=i.onEnterStart,T=i.onLeaveStart,E=i.onAppearActive,w=i.onEnterActive,k=i.onLeaveActive,I=i.onAppearEnd,D=i.onEnterEnd,F=i.onLeaveEnd,L=i.onVisibleChanged,V=Fo(),A=Be(V,2),M=A[0],B=A[1],$=Fo(ka),G=Be($,2),Q=G[0],Z=G[1],se=Fo(null),W=Be(se,2),X=W[0],K=W[1],le=H.exports.useRef(!1),re=H.exports.useRef(null);function ve(){return n()}var fe=H.exports.useRef(!1);function pe(Ee){var Oe=ve();if(!(Ee&&!Ee.deadline&&Ee.target!==Oe)){var ge=fe.current,Xe;Q===Fl&&ge?Xe=I==null?void 0:I(Oe,Ee):Q===Rl&&ge?Xe=D==null?void 0:D(Oe,Ee):Q===Nl&&ge&&(Xe=F==null?void 0:F(Oe,Ee)),Q!==ka&&ge&&Xe!==!1&&(Z(ka,!0),K(null,!0))}}var xe=Z2(pe),Ue=Be(xe,1),ct=Ue[0],Ae=H.exports.useMemo(function(){var Ee,Oe,ge;switch(Q){case Fl:return Ee={},ae(Ee,bn,d),ae(Ee,$a,y),ae(Ee,Wa,E),Ee;case Rl:return Oe={},ae(Oe,bn,g),ae(Oe,$a,x),ae(Oe,Wa,w),Oe;case Nl:return ge={},ae(ge,bn,_),ae(ge,$a,T),ae(ge,Wa,k),ge;default:return{}}},[Q]),Kn=J2(Q,function(Ee){if(Ee===bn){var Oe=Ae[bn];return Oe?Oe(ve()):DC}if(Ke in Ae){var ge;K(((ge=Ae[Ke])===null||ge===void 0?void 0:ge.call(Ae,ve(),null))||null)}return Ke===Wa&&(ct(ve()),c>0&&(clearTimeout(re.current),re.current=setTimeout(function(){pe({deadline:!0})},c))),Y2}),pn=Be(Kn,2),Xn=pn[0],Ke=pn[1],Pi=LC(Ke);fe.current=Pi,OC(function(){B(e);var Ee=le.current;if(le.current=!0,!!t){var Oe;!Ee&&e&&o&&(Oe=Fl),Ee&&e&&a&&(Oe=Rl),(Ee&&!e&&l||!Ee&&f&&!e&&l)&&(Oe=Nl),Oe&&(Z(Oe),Xn())}},[e]),H.exports.useEffect(function(){(Q===Fl&&!o||Q===Rl&&!a||Q===Nl&&!l)&&Z(ka)},[o,a,l]),H.exports.useEffect(function(){return function(){le.current=!1,clearTimeout(re.current)}},[]);var jt=H.exports.useRef(!1);H.exports.useEffect(function(){M&&(jt.current=!0),M!==void 0&&Q===ka&&((jt.current||M)&&(L==null||L(M)),jt.current=!0)},[M,Q]);var zt=X;return Ae[bn]&&Ke===$a&&(zt=ue({transition:"none"},zt)),[Q,Ke,zt,M!=null?M:e]}var t3=function(t){Ci(n,t);var e=fa(n);function n(){return qn(this,n),e.apply(this,arguments)}return Gn(n,[{key:"render",value:function(){return this.props.children}}]),n}(H.exports.Component);function r3(t){var e=t;ht(t)==="object"&&(e=t.transitionSupport);function n(r){return!!(r.motionName&&e)}var i=H.exports.forwardRef(function(r,a){var s=r.visible,o=s===void 0?!0:s,u=r.removeOnLeave,l=u===void 0?!0:u,c=r.forceRender,f=r.children,d=r.motionName,g=r.leavedClassName,_=r.eventProps,y=n(r),x=H.exports.useRef(),T=H.exports.useRef();function E(){try{return x.current instanceof HTMLElement?x.current:Qp(T.current)}catch{return null}}var w=e3(y,o,E,r),k=Be(w,4),I=k[0],D=k[1],F=k[2],L=k[3],V=H.exports.useRef(L);L&&(V.current=!0);var A=H.exports.useCallback(function(se){x.current=se,W1(a,se)},[a]),M,B=ue(ue({},_),{},{visible:o});if(!f)M=null;else if(I===ka||!n(r))L?M=f(ue({},B),A):!l&&V.current?M=f(ue(ue({},B),{},{className:g}),A):c?M=f(ue(ue({},B),{},{style:{display:"none"}}),A):M=null;else{var $,G;D===bn?G="prepare":LC(D)?G="active":D===$a&&(G="start"),M=f(ue(ue({},B),{},{className:et(kT(d,I),($={},ae($,kT(d,"".concat(I,"-").concat(G)),G),ae($,d,typeof d=="string"),$)),style:F}),A)}if(H.exports.isValidElement(M)&&Sg(M)){var Q=M,Z=Q.ref;Z||(M=H.exports.cloneElement(M,{ref:A}))}return ce(t3,{ref:T,children:M})});return i.displayName="CSSMotion",i}const n3=r3(X2);var i3=function(e,n){return n||(e?"ant-".concat(e):"ant")},ki=H.exports.createContext({getPrefixCls:i3}),FC=ki.Consumer,a3=H.exports.createContext(!1);const Ig=a3;var s3=H.exports.createContext(void 0);const nf=s3;var o3=H.exports.isValidElement;function u3(t,e,n){return o3(t)?H.exports.cloneElement(t,typeof n=="function"?n(t.props||{}):n):e}function Es(t,e){return u3(t,t,e)}function OT(t){var e=H.exports.useRef();e.current=t;var n=H.exports.useCallback(function(){for(var i,r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(i=e.current)===null||i===void 0?void 0:i.call.apply(i,[e].concat(a))},[]);return n}var pm=Iu()?H.exports.useLayoutEffect:H.exports.useEffect,l3=function(e,n){var i=H.exports.useRef(!0);pm(function(){if(!i.current)return e()},n),pm(function(){return i.current=!1,function(){i.current=!0}},[])},xn;(function(t){t[t.INNER=0]="INNER",t[t.PROP=1]="PROP"})(xn||(xn={}));function xh(t){return t!==void 0}function RC(t,e){var n=e||{},i=n.defaultValue,r=n.value,a=n.onChange,s=n.postState,o=Fo(function(){var x=void 0,T;return xh(r)?(x=r,T=xn.PROP):xh(i)?(x=typeof i=="function"?i():i,T=xn.PROP):(x=typeof t=="function"?t():t,T=xn.INNER),[x,T,x]}),u=Be(o,2),l=u[0],c=u[1],f=xh(r)?r:l[0],d=s?s(f):f;l3(function(){c(function(x){var T=Be(x,1),E=T[0];return[r,xn.PROP,E]})},[r]);var g=H.exports.useRef(),_=OT(function(x,T){c(function(E){var w=Be(E,3),k=w[0],I=w[1],D=w[2],F=typeof x=="function"?x(k):x;if(F===k)return E;var L=I===xn.INNER&&g.current!==D?D:k;return[F,xn.INNER,L]},T)}),y=OT(a);return pm(function(){var x=Be(l,3),T=x[0],E=x[1],w=x[2];T!==w&&E===xn.INNER&&(y(T,w),g.current=w)},[l]),[d,_]}var sa=H.exports.createContext({}),DT=function(e){var n=e.children,i=e.status,r=e.override,a=H.exports.useContext(sa),s=H.exports.useMemo(function(){var o=bt({},a);return r&&delete o.isFormItemInput,i&&(delete o.status,delete o.hasFeedback,delete o.feedbackIcon),o},[i,r,a]);return ce(sa.Provider,{value:s,children:n})},Du=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n};Du("warning","error","");function ts(t,e,n){var i;return et((i={},ae(i,"".concat(t,"-status-success"),e==="success"),ae(i,"".concat(t,"-status-warning"),e==="warning"),ae(i,"".concat(t,"-status-error"),e==="error"),ae(i,"".concat(t,"-status-validating"),e==="validating"),ae(i,"".concat(t,"-has-feedback"),n),i))}var Og=function(e,n){return n||e},c3={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};const d3=c3;var NC=function(e,n){return ce(Ou,{...ue(ue({},e),{},{ref:n,icon:d3})})};NC.displayName="SearchOutlined";const f3=H.exports.forwardRef(NC);var h3=function(e,n,i,r){var a=i?i.call(r,e,n):void 0;if(a!==void 0)return!!a;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(n),l=0;l<s.length;l++){var c=s[l];if(!u(c))return!1;var f=e[c],d=n[c];if(a=i?i.call(r,f,d,c):void 0,a===!1||a===void 0&&f!==d)return!1}return!0},p3=0,rs={};function rd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,n=p3++,i=e;function r(){i-=1,i<=0?(t(),delete rs[n]):rs[n]=bs(r)}return rs[n]=bs(r),n}rd.cancel=function(e){e!==void 0&&(bs.cancel(rs[e]),delete rs[e])};rd.ids=rs;var Sh;function LT(t){return!t||t.offsetParent===null||t.hidden}function m3(t){var e=(t||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return e&&e[1]&&e[2]&&e[3]?!(e[1]===e[2]&&e[2]===e[3]):!0}var MC=function(t){Ci(n,t);var e=fa(n);function n(){var i;return qn(this,n),i=e.apply(this,arguments),i.containerRef=H.exports.createRef(),i.animationStart=!1,i.destroyed=!1,i.onClick=function(r,a){var s,o,u=i.props,l=u.insertExtraNode,c=u.disabled;if(!(c||!r||LT(r)||r.className.indexOf("-leave")>=0)){i.extraNode=document.createElement("div");var f=_e(i),d=f.extraNode,g=i.context.getPrefixCls;d.className="".concat(g(""),"-click-animating-node");var _=i.getAttributeName();if(r.setAttribute(_,"true"),a&&a!=="#ffffff"&&a!=="rgb(255, 255, 255)"&&m3(a)&&!/rgba\((?:\d*, ){3}0\)/.test(a)&&a!=="transparent"){d.style.borderColor=a;var y=((s=r.getRootNode)===null||s===void 0?void 0:s.call(r))||r.ownerDocument,x=y instanceof Document?y.body:(o=y.firstChild)!==null&&o!==void 0?o:y;Sh=gC(`
      [`.concat(g(""),"-click-animating-without-extra-node='true']::after, .").concat(g(""),`-click-animating-node {
        --antd-wave-shadow-color: `).concat(a,`;
      }`),"antd-wave",{csp:i.csp,attachTo:x})}l&&r.appendChild(d),["transition","animation"].forEach(function(T){r.addEventListener("".concat(T,"start"),i.onTransitionStart),r.addEventListener("".concat(T,"end"),i.onTransitionEnd)})}},i.onTransitionStart=function(r){if(!i.destroyed){var a=i.containerRef.current;!r||r.target!==a||i.animationStart||i.resetEffect(a)}},i.onTransitionEnd=function(r){!r||r.animationName!=="fadeEffect"||i.resetEffect(r.target)},i.bindAnimationEvent=function(r){if(!(!r||!r.getAttribute||r.getAttribute("disabled")||r.className.indexOf("disabled")>=0)){var a=function(o){if(!(o.target.tagName==="INPUT"||LT(o.target))){i.resetEffect(r);var u=getComputedStyle(r).getPropertyValue("border-top-color")||getComputedStyle(r).getPropertyValue("border-color")||getComputedStyle(r).getPropertyValue("background-color");i.clickWaveTimeoutId=window.setTimeout(function(){return i.onClick(r,u)},0),rd.cancel(i.animationStartId),i.animationStart=!0,i.animationStartId=rd(function(){i.animationStart=!1},10)}};return r.addEventListener("click",a,!0),{cancel:function(){r.removeEventListener("click",a,!0)}}}},i.renderWave=function(r){var a=r.csp,s=i.props.children;if(i.csp=a,!H.exports.isValidElement(s))return s;var o=i.containerRef;return Sg(s)&&(o=Xd(s.ref,i.containerRef)),Es(s,{ref:o})},i}return Gn(n,[{key:"componentDidMount",value:function(){this.destroyed=!1;var r=this.containerRef.current;!r||r.nodeType!==1||(this.instance=this.bindAnimationEvent(r))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var r=this.context.getPrefixCls,a=this.props.insertExtraNode;return a?"".concat(r(""),"-click-animating"):"".concat(r(""),"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(r){var a=this;if(!(!r||r===this.extraNode||!(r instanceof Element))){var s=this.props.insertExtraNode,o=this.getAttributeName();r.setAttribute(o,"false"),Sh&&(Sh.innerHTML=""),s&&this.extraNode&&r.contains(this.extraNode)&&r.removeChild(this.extraNode),["transition","animation"].forEach(function(u){r.removeEventListener("".concat(u,"start"),a.onTransitionStart),r.removeEventListener("".concat(u,"end"),a.onTransitionEnd)})}}},{key:"render",value:function(){return ce(FC,{children:this.renderWave})}}]),n}(H.exports.Component);MC.contextType=ki;var v3=H.exports.forwardRef(function(t,e){return ce(MC,{ref:e,...t})});const g3=v3;var y3=globalThis&&globalThis.__rest||function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n},UC=H.exports.createContext(void 0),_3=function(e){var n,i=H.exports.useContext(ki),r=i.getPrefixCls,a=i.direction,s=e.prefixCls,o=e.size,u=e.className,l=y3(e,["prefixCls","size","className"]),c=r("btn-group",s),f="";switch(o){case"large":f="lg";break;case"small":f="sm";break}var d=et(c,(n={},ae(n,"".concat(c,"-").concat(f),f),ae(n,"".concat(c,"-rtl"),a==="rtl"),n),u);return ce(UC.Provider,{value:o,children:ce("div",{...l,className:d})})};const T3=_3;var bh=function(){return{width:0,opacity:0,transform:"scale(0)"}},Eh=function(e){return{width:e.scrollWidth,opacity:1,transform:"scale(1)"}},x3=function(e){var n=e.prefixCls,i=e.loading,r=e.existIcon,a=!!i;return r?ce("span",{className:"".concat(n,"-loading-icon"),children:ce(bT,{})}):ce(n3,{visible:a,motionName:"".concat(n,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:bh,onAppearActive:Eh,onEnterStart:bh,onEnterActive:Eh,onLeaveStart:Eh,onLeaveActive:bh,children:function(s,o){var u=s.className,l=s.style;return ce("span",{className:"".concat(n,"-loading-icon"),style:l,ref:o,children:ce(bT,{className:u})})}})};const S3=x3;var b3=globalThis&&globalThis.__rest||function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n},FT=/^[\u4e00-\u9fa5]{2}$/,mm=FT.test.bind(FT);function E3(t){return typeof t=="string"}function Ch(t){return t==="text"||t==="link"}function C3(t){return H.exports.isValidElement(t)&&t.type===H.exports.Fragment}function w3(t,e){if(t!=null){var n=e?" ":"";return typeof t!="string"&&typeof t!="number"&&E3(t.type)&&mm(t.props.children)?Es(t,{children:t.props.children.split("").join(n)}):typeof t=="string"?mm(t)?ce("span",{children:t.split("").join(n)}):ce("span",{children:t}):C3(t)?ce("span",{children:t}):t}}function k3(t,e){var n=!1,i=[];return H.exports.Children.forEach(t,function(r){var a=ht(r),s=a==="string"||a==="number";if(n&&s){var o=i.length-1,u=i[o];i[o]="".concat(u).concat(r)}else i.push(r);n=s}),H.exports.Children.map(i,function(r){return w3(r,e)})}Du("default","primary","ghost","dashed","link","text");Du("default","circle","round");Du("submit","button","reset");var P3=function(e,n){var i,r=e.loading,a=r===void 0?!1:r,s=e.prefixCls,o=e.type,u=o===void 0?"default":o,l=e.danger,c=e.shape,f=c===void 0?"default":c,d=e.size,g=e.disabled,_=e.className,y=e.children,x=e.icon,T=e.ghost,E=T===void 0?!1:T,w=e.block,k=w===void 0?!1:w,I=e.htmlType,D=I===void 0?"button":I,F=b3(e,["loading","prefixCls","type","danger","shape","size","disabled","className","children","icon","ghost","block","htmlType"]),L=H.exports.useContext(nf),V=H.exports.useContext(Ig),A=g||V,M=H.exports.useContext(UC),B=H.exports.useState(!!a),$=Be(B,2),G=$[0],Q=$[1],Z=H.exports.useState(!1),se=Be(Z,2),W=se[0],X=se[1],K=H.exports.useContext(ki),le=K.getPrefixCls,re=K.autoInsertSpaceInButton,ve=K.direction,fe=n||H.exports.createRef(),pe=function(){return H.exports.Children.count(y)===1&&!x&&!Ch(u)},xe=function(){if(!(!fe||!fe.current||re===!1)){var De=fe.current.textContent;pe()&&mm(De)?W||X(!0):W&&X(!1)}},Ue=typeof a=="boolean"?a:(a==null?void 0:a.delay)||!0;H.exports.useEffect(function(){var Xe=null;return typeof Ue=="number"?Xe=window.setTimeout(function(){Xe=null,Q(Ue)},Ue):Q(Ue),function(){Xe&&(window.clearTimeout(Xe),Xe=null)}},[Ue]),H.exports.useEffect(xe,[fe]);var ct=function(De){var Le=e.onClick;if(G||A){De.preventDefault();return}Le==null||Le(De)},Ae=le("btn",s),Kn=re!==!1,pn={large:"lg",small:"sm",middle:void 0},Xn=M||d||L,Ke=Xn&&pn[Xn]||"",Pi=G?"loading":x,jt=ku(F,["navigate"]),zt=et(Ae,(i={},ae(i,"".concat(Ae,"-").concat(f),f!=="default"&&f),ae(i,"".concat(Ae,"-").concat(u),u),ae(i,"".concat(Ae,"-").concat(Ke),Ke),ae(i,"".concat(Ae,"-icon-only"),!y&&y!==0&&!!Pi),ae(i,"".concat(Ae,"-background-ghost"),E&&!Ch(u)),ae(i,"".concat(Ae,"-loading"),G),ae(i,"".concat(Ae,"-two-chinese-chars"),W&&Kn&&!G),ae(i,"".concat(Ae,"-block"),k),ae(i,"".concat(Ae,"-dangerous"),!!l),ae(i,"".concat(Ae,"-rtl"),ve==="rtl"),ae(i,"".concat(Ae,"-disabled"),jt.href!==void 0&&A),i),_),Ee=x&&!G?x:ce(S3,{existIcon:!!x,prefixCls:Ae,loading:!!G}),Oe=y||y===0?k3(y,pe()&&Kn):null;if(jt.href!==void 0)return Rr("a",{...jt,className:zt,onClick:ct,ref:fe,children:[Ee,Oe]});var ge=Rr("button",{...F,type:D,className:zt,onClick:ct,disabled:A,ref:fe,children:[Ee,Oe]});return Ch(u)?ge:ce(g3,{disabled:!!G,children:ge})},Dg=H.exports.forwardRef(P3);Dg.Group=T3;Dg.__ANT_BUTTON=!0;const BC=Dg;var A3={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"};const I3=A3;var VC=function(e,n){return ce(Ou,{...ue(ue({},e),{},{ref:n,icon:I3})})};VC.displayName="EyeOutlined";const O3=H.exports.forwardRef(VC);var D3=function(e){var n,i=H.exports.useContext(ki),r=i.getPrefixCls,a=i.direction,s=e.prefixCls,o=e.className,u=o===void 0?"":o,l=r("input-group",s),c=et(l,(n={},ae(n,"".concat(l,"-lg"),e.size==="large"),ae(n,"".concat(l,"-sm"),e.size==="small"),ae(n,"".concat(l,"-compact"),e.compact),ae(n,"".concat(l,"-rtl"),a==="rtl"),n),u),f=H.exports.useContext(sa),d=H.exports.useMemo(function(){return bt(bt({},f),{isFormItemInput:!1})},[f]);return ce("span",{className:c,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur,children:ce(sa.Provider,{value:d,children:e.children})})};const L3=D3;function nc(t){return!!(t.addonBefore||t.addonAfter)}function jC(t){return!!(t.prefix||t.suffix||t.allowClear)}function RT(t,e,n,i){if(!!n){var r=e;if(e.type==="click"){var a=t.cloneNode(!0);r=Object.create(e,{target:{value:a},currentTarget:{value:a}}),a.value="",n(r);return}if(i!==void 0){r=Object.create(e,{target:{value:t},currentTarget:{value:t}}),t.value=i,n(r);return}n(r)}}function F3(t,e){if(!!t){t.focus(e);var n=e||{},i=n.cursor;if(i){var r=t.value.length;switch(i){case"start":t.setSelectionRange(0,0);break;case"end":t.setSelectionRange(r,r);break;default:t.setSelectionRange(0,r)}}}}function NT(t){return typeof t>"u"||t===null?"":String(t)}var R3=function(e){var n=e.inputElement,i=e.prefixCls,r=e.prefix,a=e.suffix,s=e.addonBefore,o=e.addonAfter,u=e.className,l=e.style,c=e.affixWrapperClassName,f=e.groupClassName,d=e.wrapperClassName,g=e.disabled,_=e.readOnly,y=e.focused,x=e.triggerFocus,T=e.allowClear,E=e.value,w=e.handleReset,k=e.hidden,I=H.exports.useRef(null),D=function(W){var X;!((X=I.current)===null||X===void 0)&&X.contains(W.target)&&(x==null||x())},F=function(){var W;if(!T)return null;var X=!g&&!_&&E,K="".concat(i,"-clear-icon"),le=ht(T)==="object"&&(T==null?void 0:T.clearIcon)?T.clearIcon:"\u2716";return ce("span",{onClick:w,onMouseDown:function(ve){return ve.preventDefault()},className:et(K,(W={},ae(W,"".concat(K,"-hidden"),!X),ae(W,"".concat(K,"-has-suffix"),!!a),W)),role:"button",tabIndex:-1,children:le})},L=H.exports.cloneElement(n,{value:E,hidden:k});if(jC(e)){var V,A="".concat(i,"-affix-wrapper"),M=et(A,(V={},ae(V,"".concat(A,"-disabled"),g),ae(V,"".concat(A,"-focused"),y),ae(V,"".concat(A,"-readonly"),_),ae(V,"".concat(A,"-input-with-clear-btn"),a&&T&&E),V),!nc(e)&&u,c),B=(a||T)&&Rr("span",{className:"".concat(i,"-suffix"),children:[F(),a]});L=Rr("span",{className:M,style:l,hidden:!nc(e)&&k,onMouseDown:D,ref:I,children:[r&&ce("span",{className:"".concat(i,"-prefix"),children:r}),H.exports.cloneElement(n,{style:null,value:E,hidden:null}),B]})}if(nc(e)){var $="".concat(i,"-group"),G="".concat($,"-addon"),Q=et("".concat(i,"-wrapper"),$,d),Z=et("".concat(i,"-group-wrapper"),u,f);return ce("span",{className:Z,style:l,hidden:k,children:Rr("span",{className:Q,children:[s&&ce("span",{className:G,children:s}),H.exports.cloneElement(L,{style:null,hidden:null}),o&&ce("span",{className:G,children:o})]})})}return L},N3=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","type","inputClassName"],M3=H.exports.forwardRef(function(t,e){var n=t.autoComplete,i=t.onChange,r=t.onFocus,a=t.onBlur,s=t.onPressEnter,o=t.onKeyDown,u=t.prefixCls,l=u===void 0?"rc-input":u,c=t.disabled,f=t.htmlSize,d=t.className,g=t.maxLength,_=t.suffix,y=t.showCount,x=t.type,T=x===void 0?"text":x,E=t.inputClassName,w=Ns(t,N3),k=RC(t.defaultValue,{value:t.value}),I=Be(k,2),D=I[0],F=I[1],L=H.exports.useState(!1),V=Be(L,2),A=V[0],M=V[1],B=H.exports.useRef(null),$=function(re){B.current&&F3(B.current,re)};H.exports.useImperativeHandle(e,function(){return{focus:$,blur:function(){var re;(re=B.current)===null||re===void 0||re.blur()},setSelectionRange:function(re,ve,fe){var pe;(pe=B.current)===null||pe===void 0||pe.setSelectionRange(re,ve,fe)},select:function(){var re;(re=B.current)===null||re===void 0||re.select()},input:B.current}}),H.exports.useEffect(function(){M(function(le){return le&&c?!1:le})},[c]);var G=function(re){t.value===void 0&&F(re.target.value),B.current&&RT(B.current,re,i)},Q=function(re){s&&re.key==="Enter"&&s(re),o==null||o(re)},Z=function(re){M(!0),r==null||r(re)},se=function(re){M(!1),a==null||a(re)},W=function(re){F(""),$(),B.current&&RT(B.current,re,i)},X=function(){var re=ku(t,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","affixWrapperClassName","groupClassName","inputClassName","wrapperClassName","htmlSize"]);return ce("input",{...ue(ue({autoComplete:n},re),{},{onChange:G,onFocus:Z,onBlur:se,onKeyDown:Q,className:et(l,ae({},"".concat(l,"-disabled"),c),E,!nc(t)&&!jC(t)&&d),ref:B,size:f,type:T})})},K=function(){var re=Number(g)>0;if(_||y){var ve=NT(D),fe=be(ve).length,pe=ht(y)==="object"?y.formatter({value:ve,count:fe,maxLength:g}):"".concat(fe).concat(re?" / ".concat(g):"");return Rr(bg,{children:[!!y&&ce("span",{className:et("".concat(l,"-show-count-suffix"),ae({},"".concat(l,"-show-count-has-suffix"),!!_)),children:pe}),_]})}return null};return ce(R3,{...ue(ue({},w),{},{prefixCls:l,className:d,inputElement:X(),handleReset:W,value:NT(D),focused:A,triggerFocus:$,suffix:K(),disabled:c})})});function U3(t){return!!(t.prefix||t.suffix||t.allowClear)}var B3=globalThis&&globalThis.__rest||function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};function V3(t){return typeof t>"u"||t===null?"":String(t)}function wh(t,e,n,i){if(!!n){var r=e;if(e.type==="click"){var a=t.cloneNode(!0);r=Object.create(e,{target:{value:a},currentTarget:{value:a}}),a.value="",n(r);return}if(i!==void 0){r=Object.create(e,{target:{value:t},currentTarget:{value:t}}),t.value=i,n(r);return}n(r)}}function j3(t,e){if(!!t){t.focus(e);var n=e||{},i=n.cursor;if(i){var r=t.value.length;switch(i){case"start":t.setSelectionRange(0,0);break;case"end":t.setSelectionRange(r,r);break;default:t.setSelectionRange(0,r)}}}}var z3=H.exports.forwardRef(function(t,e){var n,i,r,a=t.prefixCls,s=t.bordered,o=s===void 0?!0:s,u=t.status,l=t.size,c=t.disabled,f=t.onBlur,d=t.onFocus,g=t.suffix,_=t.allowClear,y=t.addonAfter,x=t.addonBefore,T=B3(t,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore"]),E=qi.useContext(ki),w=E.getPrefixCls,k=E.direction,I=E.input,D=w("input",a),F=H.exports.useRef(null),L=qi.useContext(nf),V=l||L,A=qi.useContext(Ig),M=c||A,B=H.exports.useContext(sa),$=B.status,G=B.hasFeedback,Q=B.feedbackIcon,Z=Og($,u),se=U3(t)||!!G,W=H.exports.useRef(se);H.exports.useEffect(function(){se&&W.current,W.current=se},[se]);var X=H.exports.useRef([]),K=function(){X.current.push(window.setTimeout(function(){var xe,Ue,ct,Ae;((xe=F.current)===null||xe===void 0?void 0:xe.input)&&((Ue=F.current)===null||Ue===void 0?void 0:Ue.input.getAttribute("type"))==="password"&&((ct=F.current)===null||ct===void 0?void 0:ct.input.hasAttribute("value"))&&((Ae=F.current)===null||Ae===void 0||Ae.input.removeAttribute("value"))}))};H.exports.useEffect(function(){return K(),function(){return X.current.forEach(function(pe){return window.clearTimeout(pe)})}},[]);var le=function(xe){K(),f==null||f(xe)},re=function(xe){K(),d==null||d(xe)},ve=(G||g)&&Rr(bg,{children:[g,G&&Q]}),fe;return ht(_)==="object"&&(_==null?void 0:_.clearIcon)?fe=_:_&&(fe={clearIcon:ce(SC,{})}),ce(M3,{ref:Xd(e,F),prefixCls:D,autoComplete:I==null?void 0:I.autoComplete,...T,disabled:M||void 0,onBlur:le,onFocus:re,suffix:ve,allowClear:fe,addonAfter:y&&ce(DT,{override:!0,status:!0,children:y}),addonBefore:x&&ce(DT,{override:!0,status:!0,children:x}),inputClassName:et((n={},ae(n,"".concat(D,"-sm"),V==="small"),ae(n,"".concat(D,"-lg"),V==="large"),ae(n,"".concat(D,"-rtl"),k==="rtl"),ae(n,"".concat(D,"-borderless"),!o),n),!se&&ts(D,Z)),affixWrapperClassName:et((i={},ae(i,"".concat(D,"-affix-wrapper-sm"),V==="small"),ae(i,"".concat(D,"-affix-wrapper-lg"),V==="large"),ae(i,"".concat(D,"-affix-wrapper-rtl"),k==="rtl"),ae(i,"".concat(D,"-affix-wrapper-borderless"),!o),i),ts("".concat(D,"-affix-wrapper"),Z,G)),wrapperClassName:et(ae({},"".concat(D,"-group-rtl"),k==="rtl")),groupClassName:et((r={},ae(r,"".concat(D,"-group-wrapper-sm"),V==="small"),ae(r,"".concat(D,"-group-wrapper-lg"),V==="large"),ae(r,"".concat(D,"-group-wrapper-rtl"),k==="rtl"),r),ts("".concat(D,"-group-wrapper"),Z,G))})});const Lg=z3;var H3={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"};const $3=H3;var zC=function(e,n){return ce(Ou,{...ue(ue({},e),{},{ref:n,icon:$3})})};zC.displayName="EyeInvisibleOutlined";const W3=H.exports.forwardRef(zC);var q3=globalThis&&globalThis.__rest||function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n},G3={click:"onClick",hover:"onMouseOver"},HC=H.exports.forwardRef(function(t,e){var n=H.exports.useState(!1),i=Be(n,2),r=i[0],a=i[1],s=function(){var c=t.disabled;c||a(!r)},o=function(c){var f,d=t.action,g=t.iconRender,_=g===void 0?function(){return null}:g,y=G3[d]||"",x=_(r),T=(f={},ae(f,y,s),ae(f,"className","".concat(c,"-icon")),ae(f,"key","passwordIcon"),ae(f,"onMouseDown",function(w){w.preventDefault()}),ae(f,"onMouseUp",function(w){w.preventDefault()}),f);return H.exports.cloneElement(H.exports.isValidElement(x)?x:ce("span",{children:x}),T)},u=function(c){var f=c.getPrefixCls,d=t.className,g=t.prefixCls,_=t.inputPrefixCls,y=t.size,x=t.visibilityToggle,T=q3(t,["className","prefixCls","inputPrefixCls","size","visibilityToggle"]),E=f("input",_),w=f("input-password",g),k=x&&o(w),I=et(w,d,ae({},"".concat(w,"-").concat(y),!!y)),D=bt(bt({},ku(T,["suffix","iconRender"])),{type:r?"text":"password",className:I,prefixCls:E,suffix:k});return y&&(D.size=y),ce(Lg,{ref:e,...D})};return ce(FC,{children:u})});HC.defaultProps={action:"click",visibilityToggle:!0,iconRender:function(e){return e?ce(O3,{}):ce(W3,{})}};const K3=HC;var X3=globalThis&&globalThis.__rest||function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n},Q3=H.exports.forwardRef(function(t,e){var n,i=t.prefixCls,r=t.inputPrefixCls,a=t.className,s=t.size,o=t.suffix,u=t.enterButton,l=u===void 0?!1:u,c=t.addonAfter,f=t.loading,d=t.disabled,g=t.onSearch,_=t.onChange,y=t.onCompositionStart,x=t.onCompositionEnd,T=X3(t,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),E=H.exports.useContext(ki),w=E.getPrefixCls,k=E.direction,I=H.exports.useContext(nf),D=H.exports.useRef(!1),F=s||I,L=H.exports.useRef(null),V=function(fe){fe&&fe.target&&fe.type==="click"&&g&&g(fe.target.value,fe),_&&_(fe)},A=function(fe){var pe;document.activeElement===((pe=L.current)===null||pe===void 0?void 0:pe.input)&&fe.preventDefault()},M=function(fe){var pe,xe;g&&g((xe=(pe=L.current)===null||pe===void 0?void 0:pe.input)===null||xe===void 0?void 0:xe.value,fe)},B=function(fe){D.current||M(fe)},$=w("input-search",i),G=w("input",r),Q=typeof l=="boolean"?ce(f3,{}):null,Z="".concat($,"-button"),se,W=l||{},X=W.type&&W.type.__ANT_BUTTON===!0;X||W.type==="button"?se=Es(W,bt({onMouseDown:A,onClick:function(fe){var pe,xe;(xe=(pe=W==null?void 0:W.props)===null||pe===void 0?void 0:pe.onClick)===null||xe===void 0||xe.call(pe,fe),M(fe)},key:"enterButton"},X?{className:Z,size:F}:{})):se=ce(BC,{className:Z,type:l?"primary":void 0,size:F,disabled:d,onMouseDown:A,onClick:M,loading:f,icon:Q,children:l},"enterButton"),c&&(se=[se,Es(c,{key:"addonAfter"})]);var K=et($,(n={},ae(n,"".concat($,"-rtl"),k==="rtl"),ae(n,"".concat($,"-").concat(F),!!F),ae(n,"".concat($,"-with-button"),!!l),n),a),le=function(fe){D.current=!0,y==null||y(fe)},re=function(fe){D.current=!1,x==null||x(fe)};return ce(Lg,{ref:Xd(L,e),onPressEnter:B,...T,size:F,onCompositionStart:le,onCompositionEnd:re,prefixCls:G,addonAfter:se,suffix:o,onChange:V,className:K,disabled:d})});const Y3=Q3;var J3=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important
`,Z3=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],kh={},Ar;function eU(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=t.getAttribute("id")||t.getAttribute("data-reactid")||t.getAttribute("name");if(e&&kh[n])return kh[n];var i=window.getComputedStyle(t),r=i.getPropertyValue("box-sizing")||i.getPropertyValue("-moz-box-sizing")||i.getPropertyValue("-webkit-box-sizing"),a=parseFloat(i.getPropertyValue("padding-bottom"))+parseFloat(i.getPropertyValue("padding-top")),s=parseFloat(i.getPropertyValue("border-bottom-width"))+parseFloat(i.getPropertyValue("border-top-width")),o=Z3.map(function(l){return"".concat(l,":").concat(i.getPropertyValue(l))}).join(";"),u={sizingStyle:o,paddingSize:a,borderSize:s,boxSizing:r};return e&&n&&(kh[n]=u),u}function tU(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;Ar||(Ar=document.createElement("textarea"),Ar.setAttribute("tab-index","-1"),Ar.setAttribute("aria-hidden","true"),document.body.appendChild(Ar)),t.getAttribute("wrap")?Ar.setAttribute("wrap",t.getAttribute("wrap")):Ar.removeAttribute("wrap");var r=eU(t,e),a=r.paddingSize,s=r.borderSize,o=r.boxSizing,u=r.sizingStyle;Ar.setAttribute("style","".concat(u,";").concat(J3)),Ar.value=t.value||t.placeholder||"";var l=Number.MIN_SAFE_INTEGER,c=Number.MAX_SAFE_INTEGER,f=Ar.scrollHeight,d;if(o==="border-box"?f+=s:o==="content-box"&&(f-=a),n!==null||i!==null){Ar.value=" ";var g=Ar.scrollHeight-a;n!==null&&(l=g*n,o==="border-box"&&(l=l+a+s),f=Math.max(l,f)),i!==null&&(c=g*i,o==="border-box"&&(c=c+a+s),d=f>c?"":"hidden",f=Math.min(c,f))}return{height:f,minHeight:l,maxHeight:c,overflowY:d,resize:"none"}}var ti;(function(t){t[t.NONE=0]="NONE",t[t.RESIZING=1]="RESIZING",t[t.RESIZED=2]="RESIZED"})(ti||(ti={}));var rU=function(t){Ci(n,t);var e=fa(n);function n(i){var r;return qn(this,n),r=e.call(this,i),r.nextFrameActionId=void 0,r.resizeFrameId=void 0,r.textArea=void 0,r.saveTextArea=function(a){r.textArea=a},r.handleResize=function(a){var s=r.state.resizeStatus,o=r.props,u=o.autoSize,l=o.onResize;s===ti.NONE&&(typeof l=="function"&&l(a),u&&r.resizeOnNextFrame())},r.resizeOnNextFrame=function(){cancelAnimationFrame(r.nextFrameActionId),r.nextFrameActionId=requestAnimationFrame(r.resizeTextarea)},r.resizeTextarea=function(){var a=r.props.autoSize;if(!(!a||!r.textArea)){var s=a.minRows,o=a.maxRows,u=tU(r.textArea,!1,s,o);r.setState({textareaStyles:u,resizeStatus:ti.RESIZING},function(){cancelAnimationFrame(r.resizeFrameId),r.resizeFrameId=requestAnimationFrame(function(){r.setState({resizeStatus:ti.RESIZED},function(){r.resizeFrameId=requestAnimationFrame(function(){r.setState({resizeStatus:ti.NONE}),r.fixFirefoxAutoScroll()})})})})}},r.renderTextArea=function(){var a=r.props,s=a.prefixCls,o=s===void 0?"rc-textarea":s,u=a.autoSize,l=a.onResize,c=a.className,f=a.disabled,d=r.state,g=d.textareaStyles,_=d.resizeStatus,y=ku(r.props,["prefixCls","onPressEnter","autoSize","defaultValue","onResize"]),x=et(o,c,ae({},"".concat(o,"-disabled"),f));"value"in y&&(y.value=y.value||"");var T=ue(ue(ue({},r.props.style),g),_===ti.RESIZING?{overflowX:"hidden",overflowY:"hidden"}:null);return ce(Z1,{onResize:r.handleResize,disabled:!(u||l),children:ce("textarea",{...y,className:x,style:T,ref:r.saveTextArea})})},r.state={textareaStyles:{},resizeStatus:ti.NONE},r}return Gn(n,[{key:"componentDidUpdate",value:function(r){(r.value!==this.props.value||!h3(r.autoSize,this.props.autoSize))&&this.resizeTextarea()}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.nextFrameActionId),cancelAnimationFrame(this.resizeFrameId)}},{key:"fixFirefoxAutoScroll",value:function(){try{if(document.activeElement===this.textArea){var r=this.textArea.selectionStart,a=this.textArea.selectionEnd;this.textArea.setSelectionRange(r,a)}}catch{}}},{key:"render",value:function(){return this.renderTextArea()}}]),n}(H.exports.Component),nU=function(t){Ci(n,t);var e=fa(n);function n(i){var r;qn(this,n),r=e.call(this,i),r.resizableTextArea=void 0,r.focus=function(){r.resizableTextArea.textArea.focus()},r.saveTextArea=function(s){r.resizableTextArea=s},r.handleChange=function(s){var o=r.props.onChange;r.setValue(s.target.value,function(){r.resizableTextArea.resizeTextarea()}),o&&o(s)},r.handleKeyDown=function(s){var o=r.props,u=o.onPressEnter,l=o.onKeyDown;s.keyCode===13&&u&&u(s),l&&l(s)};var a=typeof i.value>"u"||i.value===null?i.defaultValue:i.value;return r.state={value:a},r}return Gn(n,[{key:"setValue",value:function(r,a){"value"in this.props||this.setState({value:r},a)}},{key:"blur",value:function(){this.resizableTextArea.textArea.blur()}},{key:"render",value:function(){return ce(rU,{...this.props,value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,ref:this.saveTextArea})}}],[{key:"getDerivedStateFromProps",value:function(r){return"value"in r?{value:r.value}:null}}]),n}(H.exports.Component),iU=Du("text","input");function aU(t){return!!(t.addonBefore||t.addonAfter)}var sU=function(t){Ci(n,t);var e=fa(n);function n(){return qn(this,n),e.apply(this,arguments)}return Gn(n,[{key:"renderClearIcon",value:function(r){var a,s=this.props,o=s.value,u=s.disabled,l=s.readOnly,c=s.handleReset,f=s.suffix,d=!u&&!l&&o,g="".concat(r,"-clear-icon");return ce(SC,{onClick:c,onMouseDown:function(y){return y.preventDefault()},className:et((a={},ae(a,"".concat(g,"-hidden"),!d),ae(a,"".concat(g,"-has-suffix"),!!f),a),g),role:"button"})}},{key:"renderTextAreaWithClearIcon",value:function(r,a,s){var o,u=this.props,l=u.value,c=u.allowClear,f=u.className,d=u.style,g=u.direction,_=u.bordered,y=u.hidden,x=u.status,T=s.status,E=s.hasFeedback;if(!c)return Es(a,{value:l});var w=et("".concat(r,"-affix-wrapper"),"".concat(r,"-affix-wrapper-textarea-with-clear-btn"),ts("".concat(r,"-affix-wrapper"),Og(T,x),E),(o={},ae(o,"".concat(r,"-affix-wrapper-rtl"),g==="rtl"),ae(o,"".concat(r,"-affix-wrapper-borderless"),!_),ae(o,"".concat(f),!aU(this.props)&&f),o));return Rr("span",{className:w,style:d,hidden:y,children:[Es(a,{style:null,value:l}),this.renderClearIcon(r)]})}},{key:"render",value:function(){var r=this;return ce(sa.Consumer,{children:function(a){var s=r.props,o=s.prefixCls,u=s.inputType,l=s.element;if(u===iU[0])return r.renderTextAreaWithClearIcon(o,l,a)}})}}]),n}(H.exports.Component);const oU=sU;var uU=globalThis&&globalThis.__rest||function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};function $C(t,e){return be(t||"").slice(0,e).join("")}function MT(t,e,n,i){var r=n;return t?r=$C(n,i):be(e||"").length<n.length&&be(n||"").length>i&&(r=e),r}var lU=H.exports.forwardRef(function(t,e){var n,i=t.prefixCls,r=t.bordered,a=r===void 0?!0:r,s=t.showCount,o=s===void 0?!1:s,u=t.maxLength,l=t.className,c=t.style,f=t.size,d=t.disabled,g=t.onCompositionStart,_=t.onCompositionEnd,y=t.onChange,x=t.status,T=uU(t,["prefixCls","bordered","showCount","maxLength","className","style","size","disabled","onCompositionStart","onCompositionEnd","onChange","status"]),E=H.exports.useContext(ki),w=E.getPrefixCls,k=E.direction,I=H.exports.useContext(nf),D=H.exports.useContext(Ig),F=d||D,L=H.exports.useContext(sa),V=L.status,A=L.hasFeedback,M=L.isFormItemInput,B=L.feedbackIcon,$=Og(V,x),G=H.exports.useRef(null),Q=H.exports.useRef(null),Z=H.exports.useState(!1),se=Be(Z,2),W=se[0],X=se[1],K=H.exports.useRef(),le=H.exports.useRef(0),re=RC(T.defaultValue,{value:T.value}),ve=Be(re,2),fe=ve[0],pe=ve[1],xe=T.hidden,Ue=function(De,Le){T.value===void 0&&(pe(De),Le==null||Le())},ct=Number(u)>0,Ae=function(De){X(!0),K.current=fe,le.current=De.currentTarget.selectionStart,g==null||g(De)},Kn=function(De){var Le;X(!1);var pt=De.currentTarget.value;if(ct){var dr=le.current>=u+1||le.current===((Le=K.current)===null||Le===void 0?void 0:Le.length);pt=MT(dr,K.current,pt,u)}pt!==fe&&(Ue(pt),wh(De.currentTarget,De,y,pt)),_==null||_(De)},pn=function(De){var Le=De.target.value;if(!W&&ct){var pt=De.target.selectionStart>=u+1||De.target.selectionStart===Le.length||!De.target.selectionStart;Le=MT(pt,fe,Le,u)}Ue(Le),wh(De.currentTarget,De,y,Le)},Xn=function(De){var Le,pt,dr;Ue(""),(Le=G.current)===null||Le===void 0||Le.focus(),wh((dr=(pt=G.current)===null||pt===void 0?void 0:pt.resizableTextArea)===null||dr===void 0?void 0:dr.textArea,De,y)},Ke=w("input",i);H.exports.useImperativeHandle(e,function(){var Xe;return{resizableTextArea:(Xe=G.current)===null||Xe===void 0?void 0:Xe.resizableTextArea,focus:function(Le){var pt,dr;j3((dr=(pt=G.current)===null||pt===void 0?void 0:pt.resizableTextArea)===null||dr===void 0?void 0:dr.textArea,Le)},blur:function(){var Le;return(Le=G.current)===null||Le===void 0?void 0:Le.blur()}}});var Pi=ce(nU,{...ku(T,["allowClear"]),disabled:F,className:et((n={},ae(n,"".concat(Ke,"-borderless"),!a),ae(n,l,l&&!o),ae(n,"".concat(Ke,"-sm"),I==="small"||f==="small"),ae(n,"".concat(Ke,"-lg"),I==="large"||f==="large"),n),ts(Ke,$)),style:o?void 0:c,prefixCls:Ke,onCompositionStart:Ae,onChange:pn,onCompositionEnd:Kn,ref:G}),jt=V3(fe);!W&&ct&&(T.value===null||T.value===void 0)&&(jt=$C(jt,u));var zt=ce(oU,{disabled:F,...T,prefixCls:Ke,direction:k,inputType:"text",value:jt,element:Pi,handleReset:Xn,ref:Q,bordered:a,status:x,style:o?void 0:c});if(o||A){var Ee,Oe=be(jt).length,ge="";return ht(o)==="object"?ge=o.formatter({value:jt,count:Oe,maxLength:u}):ge="".concat(Oe).concat(ct?" / ".concat(u):""),Rr("div",{hidden:xe,className:et("".concat(Ke,"-textarea"),(Ee={},ae(Ee,"".concat(Ke,"-textarea-rtl"),k==="rtl"),ae(Ee,"".concat(Ke,"-textarea-show-count"),o),ae(Ee,"".concat(Ke,"-textarea-in-form-item"),M),Ee),ts("".concat(Ke,"-textarea"),$,A),l),style:c,"data-count":ge,children:[zt,A&&ce("span",{className:"".concat(Ke,"-textarea-suffix"),children:B})]})}return zt});const cU=lU;var Lu=Lg;Lu.Group=L3;Lu.Search=Y3;Lu.TextArea=cU;Lu.Password=K3;const dU=Lu;const fU=()=>{const[t,e]=H.exports.useState(),[n,i]=H.exports.useState(),[r,a]=H.exports.useState();return H.exports.useEffect(()=>{const u=z("myVideo",{controls:!0,sources:[{src:n}]},()=>{console.log("is player")});a(u),console.log(n,"playUrl")},[]),ce("div",{className:"video-demo",children:Rr("div",{className:"video-main",children:[ce("video",{id:"myVideo",className:"video-js vjs-default-skin",controls:!0}),Rr("div",{className:"video-action",children:[ce(dU,{placeholder:"\u8BF7\u8F93\u5165url",value:t,onChange:o=>e(o.target.value)}),ce(BC,{onClick:()=>{i(t),r.src(t),console.log(r,"player player"),r.play()},children:"\u786E\u8BA4"})]}),Rr("div",{children:["\u5F53\u524DURL\uFF1A",n]})]})})};function hU(){return ce("div",{className:"App",children:ce(fU,{})})}Ph.createRoot(document.getElementById("root")).render(ce(qi.StrictMode,{children:ce(hU,{})}));
